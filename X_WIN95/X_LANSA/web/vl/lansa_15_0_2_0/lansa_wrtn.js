window.LANSA.addSrc("wrtn",function(d,c,a,b,p){function t(a){return null===a?d.gd:"object"==typeof a?a.mimetype&&a.data&&a.filename?new c.RI(a):"":a}function l(a){if(a===d.gd)return null;switch(typeof a){case "object":if(a instanceof c.nk)return a.toString();if(c.Yq&&a instanceof c.Yq)return a.cwc();if(a instanceof c.RI)return a.IDa}return a}function q(b,c,d){var e=document.createElement("form");e.setAttribute("method","post");e.setAttribute("action",b);d==a.t2.Guc&&e.setAttribute("target","_blank");
for(var f in c)c.hasOwnProperty(f)&&(b=document.createElement("input"),b.setAttribute("type","hidden"),b.setAttribute("name",f),b.setAttribute("value",c[f]),e.appendChild(b));document.body.appendChild(e);e.submit()}function s(a){return(a=a.sm)&&"M"==a}function k(a,b){v&&b.append("_SESSIONKEY",v);var e=a.FLD;if(e!==p)for(var f in e){var g=e[f];if(g===d.gd)return!1;g instanceof c.RI?b.append(f,g.yua(),g.Lg()):b.append(f,l(g))}e=a.LIST;if(e!==p)for(var n in e){for(var k=e[n],r=k.$p={},q=k.entryCount(),
s=1;s<=q;s++)for(f in k.getEntry(s),1==s&&b.append(n+"..",1),r){g=s.toString();4>g.length&&(g="000"+g,g=g.substr(g.length-4));var t=n+"."+g+"."+f,g=r[f];if(g===d.gd)return delete k.$p,!1;g instanceof c.RI?b.append(t,g.yua(),g.Lg()):b.append(t,l(g))}delete k.$p}return!0}function e(a,b){var c=b.webroutine={},d=c.context={};v&&(d["session-key"]=v);B&&(d["session-key-name"]=B);n&&(d["session-key-method"]=n);d=a.FLD;if(d!==p){var e=c.fields={},f;for(f in d)(e[f]={}).value=l(d[f])}d=a.LIST;if(d!==p){var c=
c.lists={},g;for(g in d){for(var k=c[g]={},e=k.header=[],k=k.entries=[],r=d[g],q=r.$p={},s=r.entryCount(),t=1;t<=s;t++){r.getEntry(t);if(1==t)for(f in q){var E={};e.push(E);E.name=f}E=[];k.push(E);for(f in q)E.push(l(q[f]))}delete r.$p}}}function g(a){if(a=a.context){var b=a["session-key"];b!=p&&""!=b&&b!=v&&b!=r&&(r=v,v=b,B=a["session-key-name"],n=a["session-key-method"])}}function f(a,b,c){function e(a){if(a!=p){var b=a.FLD;f(a.LIST);f(b)}}function f(b){if(b!=p)for(var c in b)if(null===b[c])throw d.tjd(c,
a.vEa,a.uEa);}e(b);e(c)}var v=p,B=p,n="hidden",r=p;a.t2={gGb:0,Guc:1};a.t2.G={CURRENT:a.t2.gGb,NEW:a.t2.Guc};d.Ld(function(){},"PRIM_WRTN",{});c.bjc=function(){E.K.call(this)};var E=c.u(c.bjc,c.Bd);E.o5=function(){return v!==p?v:""};E.j5a=function(a){v=a;r=p};E.ABb=function(){var a=b.Jl().CYa();if(a.Uta()){var c="lansa-session-"+b.FYa(),d=JSON.stringify({key:this.o5()});if(a.si(c,d))return!0}return!1};E.kBb=function(){var a=b.Jl().CYa();if(a.Uta()&&(a=a.pI("lansa-session-"+b.FYa()))){var c=null;try{c=
JSON.parse(a.kb())}catch(d){c=null}if(c)return this.j5a(c.key),!0}return!1};E.Vl=function(){var a=b.Jl().CYa();a.Uta()&&a.Ru("lansa-session-"+b.FYa());n=B=v=p};d.Sa(c.bjc,"PRIM_WEB","Session",{Aa:{Key:{a:E.o5}},jc:{Save:E.ABb,Restore:E.kBb,Clear:E.Vl}});c.FLa=function(a,b){C.K.call(this);this.vEa=a;this.uEa=b;this.fOb=this.iNb=""};var C=c.u(c.FLa,c.Bd);C.$Wd=function(){return this.iNb};C.uee=function(a){this.iNb=a};C.rZd=function(){return this.fOb};C.Iee=function(a){this.fOb=a};C.h1c=function(){return this.vEa};
C.P0c=function(){return this.uEa};C.Vz=function(){return b.cLc(this.iNb,b.PHa(),this.vEa,this.uEa,this.C0c())};C.C0c=function(){var a=this.fOb;""==a&&(a=b.ZXa());return a};d.Sa(c.FLa,"PRIM_WEB","ServerRequest",{Aa:{ServerModule:{a:C.h1c},Routine:{a:C.P0c}}});c.nxa=function(a,b){x.K.call(this,a,b)};var x=c.u(c.nxa,c.FLa);x.I_=function(a,b){this.S_b(a,b,!1,null)};x.H4=function(a,c){this.S_b(a,c,!0,b.NX())};x.S_b=function(c,l,r,q){function E(c){var e=null;try{e=JSON.parse(c)}catch(f){e=null}if(e){if(c=
e.webroutine)if(c=c.messages)for(var k=d.q_c(),r=0;r<c.length;r++)k.si(c[r],null);if(c=e["vlweb-error"]){var s=a.fY.qXa;switch(c["message-id"]){case "HM42":case "HM43":s=a.fY.V0b;n=B=v=p;break;case "HM05":s=a.fY.U0b}s=I.pHa(s);if(!s&&c.message!==p)throw d.VAb(I.vEa,I.uEa,c.message);}else{k=l;if(e=e.webroutine){r=k.FLD;if(r!==p){var x=e.fields;if(x)for(var C in r)c=x[C],c!==p&&(c=t(c.value),r[C].set(c))}C=k.LIST;if(C!==p&&(k=e.lists))for(s in C)if(r=C[s],r.Rj(),c=k[s])for(var x=c.header,y=c.entries,
z=0;z<y.length;z++){for(var D=r.$p={},M=y[z],K=0;K<M.length;K++)c=t(M[K]),D[x[K].name]=c;r.zg();delete r.$p}g(e)}I.L4()}}else if(s=I.pHa(a.fY.qXa),!s)throw d.VAb(I.vEa,I.uEa,"Invalid JSON");b.zB(q)}function x(c){if(!I.pHa(a.fY.qXa))throw d.VAb(I.vEa,I.uEa,"response code "+c);b.zB(q)}function C(a){a.lengthComputable&&I.cUc(a.loaded,a.total,d.O(a.loaded/a.total*100))}function M(a){if(a.lengthComputable){var b=a.loaded/a.total*100;I.x0b(a.loaded,a.total,d.O(b))}else I.x0b(a.loaded,-1,-1)}var I=this;
f(I,c,l);if(s(c)){var K=new FormData;if(k(c,K)){b.egd(this.Vz(),K,E,x,C,M,r);return}}K={};e(c,K);b.snc(this.Vz(),K,E,x,C,M,r)};x.pHa=function(c){var e=!1,e=d.gc();e.MQ("REASON",c,a.fY.G);e.pg("HANDLED",!1);this.Ga(a.Q.K4,e);(e=e.eh("HANDLED"))||(e=b.Jl().VTc(this,c));return e};x.L4=function(){this.Ga(a.Q.naa)};x.cUc=function(b,c,e){var f=d.gc();f.GF("LOADED",b);f.GF("TOTAL",c);f.GF("PROGRESS",e);this.Ga(a.Q.yFd,f)};x.x0b=function(b,c,e){var f=d.gc();f.GF("LOADED",b);f.GF("TOTAL",c);f.GF("PROGRESS",
e);this.Ga(a.Q.sRc,f)};d.Sa(c.nxa,"PRIM_WEB","DataRequest",{jc:{Execute:x.I_,ExecuteAsync:x.H4}});c.Ixa=function(b,c){M.K.call(this,b,c);this.Gn=a.t2.gGb};var M=c.u(c.Ixa,c.FLa);M.Q1c=function(){return this.Gn};M.WDb=function(a){this.Gn=a};M.I_=function(a,b){f(this,a,b);var c={};v&&(c._SESSIONKEY=v);var d=a.FLD;if(d!==p)for(var e in d)c[e]=l(d[e]);d=a.LIST;if(d!==p)for(var g in d){for(var n=d[g],k=n.$p={},r=n.entryCount(),s=1;s<=r;s++)for(e in n.getEntry(s),1==s&&(c[g+".."]=1),k){var t=s.toString();
4>t.length&&(t="000"+t,t=t.substr(t.length-4));c[g+"."+t+"."+e]=l(k[e])}delete n.$p}q(this.Vz(),c,this.Gn)};d.Sa(c.Ixa,"PRIM_WEB","WebPageRequest",{Aa:{Target:{a:function(){return d.wa(this.Gn,a.t2.G)},f:function(b){this.WDb(d.va(b,a.t2.G))}}},jc:{Execute:M.I_}});c.Axa=function(b,c){I.K.call(this,b,c);this.Gn=a.t2.gGb};var I=c.u(c.Axa,c.FLa);I.Q1c=function(){return this.Gn};I.WDb=function(a){this.Gn=a};I.I_=function(a,b){f(this,a,b);var c={};v&&(c._SESSIONKEY=v);var d=a.FLD;if(d!==p)for(var e in d)c[e]=
l(d[e]);d=a.LIST;if(d!==p)for(var g in d){for(var n=d[g],k=n.$p={},r=n.entryCount(),s=1;s<=r;s++)for(e in n.getEntry(s),1==s&&(c[g+".."]=1),k){var t=s.toString();4>t.length&&(t="000"+t,t=t.substr(t.length-4));c[g+"."+t+"."+e]=l(k[e])}delete n.$p}q(this.Vz(),c,this.Gn)};d.Sa(c.Axa,"PRIM_WEB","ResourceRequest",{Aa:{Target:{a:function(){return d.wa(this.Gn,a.t2.G)},f:function(b){this.WDb(d.va(b,a.t2.G))}}},jc:{Execute:I.I_}});b.PSc=function(b,c){var d=c.webroutine;if(d){var e=b.qz.kIa(),f=d.fields;if(f){var g=
b.eNa(e),n;for(n in f){var k=null,l=b.fm[n];l&&(k=l.YZ());if(!k&&g)for(var p in g)if(l=g[p],l.Lh()==n){k=l;break}k&&(l=t(f[n].value),k.set(l))}}if(d=d.lists){var e=b.Ekd(e),r;for(r in d){f=null;if(l=b.fm[r])switch(l.cua()){case a.Fy.gzc:case a.Fy.U8a:case a.Fy.Egb:f=l}!f&&e&&(f=e[r]);if(f)for(l=d[r],g=l.header,n=l.entries,k=0;k<n.length;k++){p=f.$p={};for(var q=n[k],s=0;s<q.length;s++)l=t(q[s]),p[g[s].name]=l;f.zg();delete f.$p}}}}};b.OSc=function(a){(a=a.webroutine)&&g(a)}});

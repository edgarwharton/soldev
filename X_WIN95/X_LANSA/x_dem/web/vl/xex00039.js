LANSA.addComponent({id:"XEX00039",nm:"XDemoUserAccountRegistration",ot:"wv",tp:"Dialog",de:"[pkg-ex-integration-lib]",tl:14020401},function(l,oI,u){var cO=l.rC(oI,{an:"PRIM_DLG",pt:{ClientToken:{da:"r"}},mt:{RegisterUser:{}},co:function(){cO.aN.call(this);var C0=this.cR("ACCOUNTUTIL","XEX00019");var C1=this.cR("LAYOUT2","PRIM_TBLO");var C2=this.cR("LAYOUT2COLUMN2","PRIM_TBLO","Column");var C3=this.cR("LAYOUT2ROW1","PRIM_TBLO","Row");var C4=this.cR("LAYOUT2COLUMN1","PRIM_TBLO","Column");var C5=this.cR("LAYOUT2ITEM1","PRIM_TBLO","Item");
var C6=this.cR("LAYOUT2ITEM2","PRIM_TBLO","Item");var C7=this.cR("LAYOUT3","PRIM_TBLO");var C8=this.cR("LAYOUT3COLUMN1","PRIM_TBLO","Column");var C9=this.cR("LAYOUT3COLUMN2","PRIM_TBLO","Column");var C10=this.cR("LAYOUT3ROW1","PRIM_TBLO","Row");var C11=this.cR("LAYOUT3ROW2","PRIM_TBLO","Row");var C12=this.cR("LAYOUT3ROW3","PRIM_TBLO","Row");var C13=this.cR("LAYOUT3ITEM1","PRIM_TBLO","Item");var C14=this.cR("LAYOUT3ITEM2","PRIM_TBLO","Item");var C15=this.cR("LAYOUT3ITEM3","PRIM_TBLO","Item");var C16=this.cR("LAYOUT3ITEM4","PRIM_TBLO","Item");
var C17=this.cR("TEXT","PRIM_MD","Label");var C18=this.cR("PASSWORDINPUT","PRIM_MD","Edit");var C19=this.cR("NAMEPANEL","PRIM_PANL");var C20=this.cR("FIRSTNAMEINPUT","PRIM_MD","Edit");var C21=this.cR("NORMALUSERPROPSPANEL","PRIM_PANL");var C22=this.cR("RETYPEPASSWORDINPUT","PRIM_MD","Edit");var C23=this.cR("MOBILENUMBERINPUT","PRIM_MD","Edit");var C24=this.cR("MULTIFADROPDOWN","PRIM_MD","Dropdown");var C25=this.cR("GCLIENTTOKEN","PRIM_DC","UnicodeString");var C26=this.cR("LAYOUT1","PRIM_TBLO");var C27=this.cR("LAYOUT1ROW1","PRIM_TBLO","Row");
var C28=this.cR("LAYOUT1COLUMN1","PRIM_TBLO","Column");var C29=this.cR("LAYOUT","PRIM_TBLO");var C30=this.cR("LAYOUTITEM1","PRIM_TBLO","Item");var C31=this.cR("LAYOUTITEM8","PRIM_TBLO","Item");var C32=this.cR("LAYOUTITEM6","PRIM_TBLO","Item");var C33=this.cR("LAYOUTROW6","PRIM_TBLO","Row");var C34=this.cR("LAYOUTCOLUMN1","PRIM_TBLO","Column");var C35=this.cR("LAYOUTROW1","PRIM_TBLO","Row");var C36=this.cR("LAYOUTROW2","PRIM_TBLO","Row");var C37=this.cR("LAYOUTROW3","PRIM_TBLO","Row");var C38=this.cR("LAYOUTROW4","PRIM_TBLO","Row");
var C39=this.cR("LAYOUTROW5","PRIM_TBLO","Row");var C40=this.cR("LAYOUTITEM2","PRIM_TBLO","Item");var C41=this.cR("LAYOUTITEM3","PRIM_TBLO","Item");var C42=this.cR("LAYOUTITEM4","PRIM_TBLO","Item");var C43=this.cR("LAYOUTITEM5","PRIM_TBLO","Item");var C44=this.cR("SURNAMEINPUT","PRIM_MD","Edit");var C45=this.cR("REGISTERBUTTON","PRIM_MD","RaisedButton");var C46=this.cR("CANCELBUTTON","PRIM_MD","RaisedButton");var C47=this.cR("EMAILINPUT","PRIM_MD","Edit");C0.iC();C1.iC();C2.setDisplayPosition(2);
C2.setParent(C1);C2.iC();C3.setDisplayPosition(1);C3.setParent(C1);C3.iC();C4.setDisplayPosition(1);C4.setParent(C1);C4.iC();C5.setAlignment("TOPLEFT");C5.setColumn(C2);C5.setManage(C44);C5.setParent(C1);C5.setRow(C3);C5.setSizing("CONTENTHEIGHTFITTOWIDTH");C5.iC();C6.setAlignment("TOPLEFT");C6.setColumn(C4);C6.setManage(C20);C6.setParent(C1);C6.setRow(C3);C6.setSizing("CONTENTHEIGHTFITTOWIDTH");C6.iC();C7.iC();C8.setDisplayPosition(1);C8.setParent(C7);C8.iC();C9.setDisplayPosition(2);C9.setParent(C7);
C9.iC();C10.setDisplayPosition(1);C10.setParent(C7);C10.setHeight(90);C10.setUnits("CONTENT");C10.iC();C11.setDisplayPosition(2);C11.setParent(C7);C11.setUnits("CONTENT");C11.setHeight(90);C11.iC();C12.setDisplayPosition(3);C12.setParent(C7);C12.setUnits("CONTENT");C12.setHeight(90);C12.iC();C13.setManage(C18);C13.setParent(C7);C13.setRow(C10);C13.setSizing("CONTENTHEIGHTFITTOWIDTH");C13.setColumn(C8);C13.setAlignment("TOPLEFT");C13.iC();C14.setManage(C22);C14.setParent(C7);C14.setRow(C10);C14.setSizing("CONTENTHEIGHTFITTOWIDTH");
C14.setColumn(C9);C14.setAlignment("TOPLEFT");C14.iC();C15.setManage(C23);C15.setParent(C7);C15.setRow(C12);C15.setSizing("CONTENTHEIGHTFITTOWIDTH");C15.setColumn(C8);C15.setAlignment("TOPLEFT");C15.setColumnSpan(2);C15.iC();C16.setAlignment("TOPLEFT");C16.setColumn(C8);C16.setManage(C24);C16.setParent(C7);C16.setRow(C11);C16.setSizing("CONTENTHEIGHTFITTOWIDTH");C16.setColumnSpan(2);C16.iC();C17.setCaption("Enter your information below to register a new user");C17.setDisplayPosition(4);C17.setParent(this);
C17.setTabPosition(4);C17.setHeight(54);C17.setWidth(526);C17.setPaddingBottom(30);C17.setLeft(20);C17.setTop(20);C17.iC();C18.setCaption("Password");C18.setDisplayPosition(1);C18.setParent(C21);C18.setTabPosition(3);C18.setTop(0);C18.setHeight(90);C18.setWidth(263);C18.setLeft(0);C18.setPasswordChar("*");C18.iC();C19.setDisplayPosition(5);C19.setLeft(20);C19.setParent(this);C19.setTabPosition(5);C19.setTabStop(false);C19.setTop(164);C19.setWidth(526);C19.setHeight(90);C19.setLayoutManager(C1);C19.iC();
C20.setCaption("First Name");C20.setDisplayPosition(2);C20.setParent(C19);C20.setTabPosition(1);C20.setHeight(90);C20.setWidth(263);C20.setTop(0);C20.setLeft(0);C20.iC();C21.setDisplayPosition(6);C21.setLeft(20);C21.setParent(this);C21.setTabPosition(6);C21.setTabStop(false);C21.setTop(254);C21.setWidth(526);C21.setHeight(270);C21.setLayoutManager(C7);C21.iC();C22.setCaption("Retype Password");C22.setDisplayPosition(2);C22.setParent(C21);C22.setTabPosition(1);C22.setTop(0);C22.setHeight(90);C22.setWidth(263);
C22.setLeft(263);C22.setPasswordChar("*");C22.iC();C23.setCaption("Mobile Number");C23.setDisplayPosition(3);C23.setParent(C21);C23.setTabPosition(2);C23.setTop(180);C23.setHeight(90);C23.setWidth(526);C23.setLeft(0);C23.setVisible(false);C23.iC();C24.setCaption("Two-factor Authentication?");C24.setDisplayPosition(4);C24.setLeft(0);C24.setParent(C21);C24.setTabPosition(4);C24.setTop(90);C24.setHeight(90);C24.setWidth(526);C24.iC();C25.iC();C26.setMarginBottom(10);C26.setMarginLeft(10);C26.setMarginRight(10);
C26.setMarginTop(10);C26.iC();C27.setDisplayPosition(1);C27.setParent(C26);C27.iC();C28.setDisplayPosition(1);C28.setParent(C26);C28.iC();C29.setSizing("CONTENTHEIGHT");C29.setMarginBottom(20);C29.setMarginLeft(20);C29.setMarginRight(20);C29.setMarginTop(20);C29.iC();C30.setColumn(C34);C30.setManage(C21);C30.setParent(C29);C30.setSizing("CONTENTHEIGHTFITTOWIDTH");C30.setRow(C36);C30.setAlignment("TOPLEFT");C30.iC();C31.setManage(C19);C31.setParent(C29);C31.setRow(C35);C31.setSizing("CONTENTHEIGHTFITTOWIDTH");
C31.setColumn(C34);C31.setAlignment("TOPLEFT");C31.iC();C32.setAlignment("TOPLEFT");C32.setColumn(C34);C32.setManage(C17);C32.setParent(C29);C32.setRow(C33);C32.setSizing("CONTENTHEIGHTFITTOWIDTH");C32.iC();C33.setDisplayPosition(1);C33.setParent(C29);C33.setUnits("CONTENT");C33.setHeight(54);C33.iC();C34.setDisplayPosition(1);C34.setParent(C29);C34.iC();C35.setDisplayPosition(3);C35.setParent(C29);C35.setHeight(90);C35.setUnits("CONTENT");C35.iC();C36.setDisplayPosition(4);C36.setParent(C29);C36.setHeight(270);
C36.setUnits("CONTENT");C36.iC();C37.setDisplayPosition(6);C37.setParent(C29);C37.setHeight(36);C37.setUnits("CONTENT");C37.iC();C38.setDisplayPosition(5);C38.setParent(C29);C38.setHeight(65);C38.setUnits("PIXELS");C38.iC();C39.setDisplayPosition(2);C39.setParent(C29);C39.setHeight(90);C39.setUnits("CONTENT");C39.iC();C40.setAlignment("TOPLEFT");C40.setColumn(C34);C40.setManage(C44);C40.setParent(C29);C40.setRow(C35);C40.setSizing("NONE");C40.iC();C41.setAlignment("TOPLEFT");C41.setColumn(C34);C41.setManage(C45);
C41.setParent(C29);C41.setRow(C37);C41.setSizing("NONE");C41.iC();C42.setAlignment("TOPRIGHT");C42.setColumn(C34);C42.setManage(C46);C42.setParent(C29);C42.setRow(C37);C42.setSizing("NONE");C42.iC();C43.setAlignment("TOPLEFT");C43.setColumn(C34);C43.setManage(C47);C43.setParent(C29);C43.setRow(C39);C43.setSizing("CONTENTHEIGHTFITTOWIDTH");C43.iC();C44.setCaption("Surname");C44.setDisplayPosition(1);C44.setParent(C19);C44.setTabPosition(2);C44.setHeight(90);C44.setWidth(263);C44.setTop(0);C44.setLeft(263);
C44.iC();C45.setDisplayPosition(1);C45.setParent(this);C45.setTabPosition(1);C45.setTop(589);C45.setThemeDrawStyle("MediumTitle");C45.setCaption("REGISTER");C45.setLeft(20);C45.iC();C46.setCaption("CANCEL");C46.setDisplayPosition(2);C46.setLeft(446);C46.setParent(this);C46.setTabPosition(2);C46.setTop(589);C46.setThemeDrawStyle("MediumTitle");C46.iC();C47.setCaption("Primary Email");C47.setDisplayPosition(3);C47.setParent(this);C47.setTabPosition(3);C47.setHeight(90);C47.setWidth(526);C47.setTop(74);
C47.setLeft(20);C47.iC();C0.aH("REGISTERUSERCOMPLETED",this,e2);C24.aH("CHANGED",this,e5);C45.aH("CLICK",this,e3);C46.aH("CLICK",this,e4);this.setHeight(647);this.setWidth(568);this.setLayoutManager(C29);this.aH("INITIALIZE",this,e1);}});function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.Initialize",60);var C0=r.cD("C0");r.ln=60;{r.ln=64;m.MULTIFADROPDOWN.getItems().mthADD("NONE","Don't use 2-factor authentication");r.ln=65;m.MULTIFADROPDOWN.getItems().mthADD("EMAIL","Email token");
r.ln=66;C0=r.sR("C0",m.MULTIFADROPDOWN.getItems().mthADD("SMS","SMS token"));r.ln=67;m.MULTIFADROPDOWN.setValue("NONE");r.ln=70;m.EMAILINPUT.mthSETFOCUS();}r.ln=71;r.e();};cO.mthREGISTERUSER=function(){var m=this.REF,r=l.mR(this,cO,"RegisterUser",73);r.ln=73;{r.ln=74;m.REGISTERBUTTON.setEnabled(false);r.ln=75;m.CANCELBUTTON.setEnabled(false);r.ln=77;if(l.s.IsNull(m.GCLIENTTOKEN.get())){r.ln=78;m.ACCOUNTUTIL.mthREGISTERUSER(m.EMAILINPUT.get(),m.FIRSTNAMEINPUT.get(),m.SURNAMEINPUT.get(),m.PASSWORDINPUT.get(),m.MULTIFADROPDOWN.get(),m.MOBILENUMBERINPUT.get());
}else{r.ln=80;m.ACCOUNTUTIL.mthREGISTERUSERWITHIDPROVIDER(m.FIRSTNAMEINPUT.get(),m.SURNAMEINPUT.get(),m.GCLIENTTOKEN.get());}}r.ln=82;r.e();};function e2(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#AccountUtil.RegisterUserCompleted",84);var P0=Ps.r("STATUS");r.ln=84;{r.ln=85;if(l.tB(l.s.eq(P0.get(),"USERID_ALREADY_EXISTS"))){r.ln=86;m.REGISTERBUTTON.setEnabled(true);r.ln=87;m.CANCELBUTTON.setEnabled(true);r.ln=89;l.WEB().mthALERT("Unable to register as a user with the specified email already exists");
}else{r.ln=91;this.mthCLOSE();}}r.ln=93;r.e();};function e3(sender,Ps){var r=l.eR(this,cO,"#RegisterButton.Click",95);r.ln=95;{r.ln=96;this.mthREGISTERUSER();}r.ln=97;r.e();};function e4(sender,Ps){var r=l.eR(this,cO,"#CancelButton.Click",99);r.ln=99;{r.ln=100;this.mthCLOSE();}r.ln=101;r.e();};function e5(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#MultiFADropDown.Changed",103);r.ln=103;{r.ln=104;m.MOBILENUMBERINPUT.setVisible(l.s.eq(m.MULTIFADROPDOWN.getValue(),"SMS"));}r.ln=105;r.e();};cO.mthSETCLIENTTOKEN=function(p0)
{var m=this.REF,r=l.pR(this,cO,"SetClientToken",107);var P0=r.cP("CLIENTTOKEN","PRIM_DC","UnicodeString");P0.set(p0);var C0=r.cR("UTIL","XEX00019");C0.iC();r.ln=107;{r.ln=112;P0.set(l.s.Trim(P0.get()));r.ln=113;m.GCLIENTTOKEN.set(P0.get());r.ln=115;if(l.not(l.s.IsNull(P0.get()))){r.ln=116;m.EMAILINPUT.setEnabled(false);r.ln=117;m.NORMALUSERPROPSPANEL.setVisible(false);r.ln=119;C0.mthGETUSERINFOFROMCLIENTTOKEN(m.EMAILINPUT,m.FIRSTNAMEINPUT,m.SURNAMEINPUT,P0.get());}}r.ln=121;r.e();};cO.getCLIENTTOKEN=function()
{return this.REF.GCLIENTTOKEN.get();};cO.setCLIENTTOKEN=function(v){this.mthSETCLIENTTOKEN(v);};},{rc:["XEX00019"],rp:["PRIM_DLG","PRIM_TBLO","PRIM_TBLO.Column","PRIM_TBLO.Row","PRIM_TBLO.Item","PRIM_MD.Label","PRIM_MD.Edit","PRIM_PANL","PRIM_MD.Dropdown","PRIM_DC.UnicodeString","PRIM_MD.RaisedButton"],dc:["XEX00019"],dp:["PRIM_MD.DropdownItem"]});
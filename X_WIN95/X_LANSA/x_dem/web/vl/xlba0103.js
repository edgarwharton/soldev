LANSA.addComponent({id:"XLBA0103",nm:"XInternal_DeviceSqlDb_QueryArgumentConverter",ot:"rp",tp:"Reusable Part",de:"[pkg-lansa-mobile]",tl:14020401},function(l,oI,u){var cL="ENG";var Fd={F1:{ic:0,nm:"XLB00051",an:"XLib_INT64",ft:"I",ln:8,dc:0,lb:"Int64",h1:"Int64",h2:" ",h3:" ",de:"Extended Library - Int64 Data Type",dv:0,ia:["FE","RB"]}};var cO=l.rC(oI,{an:"XLBA0092",fd:Fd,mt:{HasAsyncTransform:{},Convert:{},ConvertAsync:{},TransformNextItemAsync:{},ConvertToJson:{},ConvertToJsonAndDispatchAsyncCompletion:
{}},ev:{AsyncCompleted:{ps:{"Result":{pt:"i"}}}},co:function(){cO.aN.call(this);this.aF("XLBA0103",Fd);var C0=this.cR("GASYNCTRANSFORMINDEXES","PRIM_LCOL");var C1=this.cR("GVALUES","PRIM_LCOL");C0.setCollects("XLB00051");C0.iC();C1.setCollects("PRIM_OBJT");C1.iC();}});cO.mthCREATE=function(p0){var m=this.REF,r=l.cR(this,cO,"Create");var P0=r.cPD("INPUT");P0=p0;var C0=r.cF("I",Fd.F1.Dc);var C1=r.cD("C1");var C2=r.cD("C2");C0.iC();{r.ln=17;for(var i1=1,s1=1,t1=l.tI(P0.getITEMCOUNT());C0.set(i1),(((s1>=0)&&(i1<=t1))||((s1<0)&&(i1>=t1)));i1+=s1)
{r.ln=18;C1=r.sR("C1",P0.getITEMAT(C0.get()));r.ln=19;m.GVALUES.mthINSERT(C1);r.ln=20;if(l.Io(C1,"STD_BLOB")){r.ln=21;C2=r.sR("C2",new Fd.F1.Dc());r.ln=22;C2.set(C0.get());r.ln=23;m.GASYNCTRANSFORMINDEXES.mthINSERT(C2);}}}r.ln=26;return r.rN(this);};cO.mthHASASYNCTRANSFORM=function(){var m=this.REF,r=l.mR(this,cO,"HasAsyncTransform",28);var P0=r.cP("RESULT","PRIM_BOLN");r.ln=28;{r.ln=31;P0.set(l.n.gt(m.GASYNCTRANSFORMINDEXES.getItemCount(),0));}r.ln=32;return r.rV(P0.get());};cO.mthCONVERT=function()
{var r=l.mR(this,cO,"Convert",34);var P0=r.cPD("RESULT");r.ln=34;{r.ln=37;if(this.mthHASASYNCTRANSFORM()){r.ln=38;this.mthFATALERROR("The arguments has async transform and requires ConvertToAsync");}r.ln=41;P0=r.sR("P0",this.mthCONVERTTOJSON());}r.ln=42;return r.rR(P0);};cO.mthCONVERTASYNC=function(){var r=l.mR(this,cO,"ConvertAsync",44);r.ln=44;{r.ln=45;if(l.not(this.mthHASASYNCTRANSFORM())){r.ln=46;this.mthFATALERROR("The arguments does not have async transformm just use Convert");}r.ln=49;this.mthTRANSFORMNEXTITEMASYNC();
}r.ln=50;r.e();};cO.mthTRANSFORMNEXTITEMASYNC=function(){var m=this.REF,r=l.mR(this,cO,"TransformNextItemAsync",52),mth=r;var C0=r.cF("INDEX",Fd.F1.Dc);var C1=r.cR("READER","PRIM_WEB","BlobReader");C0.iC();C1.iC();C1.aH("COMPLETED",this,e1);r.ln=52;{r.ln=56;C0.set(m.GASYNCTRANSFORMINDEXES.mthREMOVELAST().get());r.ln=57;C1.mthREAD(l.cast(m.GVALUES.get(C0.get()),"STD_BLOB").get());}r.ln=71;r.e();function e1(sender,Ps){var r=l.eR(this,cO,"#Reader.Completed",59,mth);var P0=Ps.r("DATA");var C2=r.cR("BASE64","PRIM_DC","UnicodeString");
C2.iC();r.ln=59;{r.ln=62;C2.set(P0.get());r.ln=63;m.GVALUES.mthREPLACEAT(C2,C0.get());r.ln=65;if(l.n.gt(m.GASYNCTRANSFORMINDEXES.getItemCount(),0)){r.ln=66;this.mthTRANSFORMNEXTITEMASYNC();}else{r.ln=68;this.mthCONVERTTOJSONANDDISPATCHASYNCCOMPLETION();}}r.ln=70;r.e();}};cO.mthCONVERTTOJSON=function(){var m=this.REF,r=l.mR(this,cO,"ConvertToJson",73);var P0=r.cPD("RESULT");var C0=r.cD("C0");var C1=r.cF("I",Fd.F1.Dc);C1.iC();r.ln=73;{r.ln=79;P0=r.sR("P0",l.cC("PRIM_WEB","Json"));r.ln=80;C0=r.sR("C0",P0.mthCREATEROOTARRAY());
r.ln=82;{var l1=m.GVALUES.cI();while(l1.step()){var VALUE=r.sR("VALUE",l1.item());r.ln=83;if(l.Io(VALUE,"PRIM_DC.UnicodeString")){r.ln=84;C0.mthINSERTSTRING(l.cast(VALUE,"PRIM_DC.UnicodeString").get());}else{r.ln=86;if(l.Io(VALUE,"XLB00047")){r.ln=87;C0.mthINSERTNUMBER(l.cast(VALUE,"XLB00047").get());}else{r.ln=89;if(l.Io(VALUE,"PRIM_BOLN")){r.ln=90;C0.mthINSERTBOOLEAN(l.cast(VALUE,"PRIM_BOLN").get());}}}r.ln=94;}l1.end();r.dR("VALUE");}}r.ln=95;return r.rR(P0);};cO.mthCONVERTTOJSONANDDISPATCHASYNCCOMPLETION=function()
{var r=l.mR(this,cO,"ConvertToJsonAndDispatchAsyncCompletion",97);var C0=r.cD("C0");r.ln=97;{r.ln=100;C0=r.sR("C0",this.mthCONVERTTOJSON());r.ln=102;{var eP=l.ePs();eP.cR("RESULT","PRIM_WEB","Json");eP.r("RESULT").set(C0.get());this.fE("ASYNCCOMPLETED",eP);eP.e();}}r.ln=103;r.e();};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"XLB00051"});}},{rc:["XLBA0092"],rp:["PRIM_LCOL","PRIM_FLD"],dp:["PRIM_OBJT","PRIM_WEB.BlobReader","PRIM_DC.UnicodeString","PRIM_WEB.JsonArray","PRIM_WEB.Json"]
});
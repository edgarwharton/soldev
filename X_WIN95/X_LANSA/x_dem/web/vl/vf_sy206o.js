LANSA.addComponent({id:"VF_SY206O",ot:"rp",tp:"Reusable Part",pt:"ap",de:"\\OC=Back and forward tracking manager",tl:15000000},function(l,oI,u){var cL="ENG";if((l.gCL()=="FRA")||(l.gCL()=="JPN")){cL=l.gCL();}var Fd={F1:{ic:0,nm:"STD_INT",ft:"I",ln:4,dc:0,ec:"J",lb:{"ENG":"Std Integer","FRA":"?","JPN":"?"}[cL],h1:{"ENG":"Standard","FRA":"?","JPN":"?"}[cL],h2:{"ENG":"Integer","FRA":"?","JPN":"?"}[cL],h3:{"ENG":"Field","FRA":"?","JPN":"?"}[cL],de:{"ENG":"Standard Integer field","FRA":"?","JPN":"?"}[cL],
dv:0,ia:["FE","RB"]},F2:{ic:0,nm:"STD_TEXT",ft:"A",ln:50,dc:0,lb:{"ENG":"Text","FRA":"?","JPN":"?"}[cL],h1:{"ENG":"Text","FRA":"?","JPN":"?"}[cL],h2:"",h3:"",de:{"ENG":"Standard TEXT","FRA":"?","JPN":"?"}[cL],dv:"",ia:["LC"],vr:[{wt:"E",wf:"N",vi:"Y",vu:"Y",vd:"N",rd:rl1,mt:{"ENG":"Text must be specified","FRA":"? must be specified","JPN":"? must be specified"}[cL]}]}};var cO=l.rC(oI,{an:"PRIM_OBJT",fd:Fd,mt:{zInt_Initialize:{},GetLocation:{},MovetoApparentLocation:{ps:{"To":{pt:"i"}}},zInt_ReplaceEntryPointURL:
{},zInt_Terminate:{},zInt_RemoveAllVF_UM012O_Activities:{ps:{"ForVF_UM012OReference":{pt:"i"}}},zInt_RemoveAllInstanceListActivities:{ps:{"RelatedtoObject":{pt:"i"}}},zInt_RemoveInstanceListItemActivities:{ps:{"RelatedtoItem":{pt:"i"}}},MakeTraceText:{ps:{"ForActivity":{pt:"i"}}},AdjustLogicalKeyEnablements:{},zInt_RecordCommandActivity:{ps:{"CommandReference":{pt:"i"},"InstanceListEntry":{pt:"i"},"InstanceReferenceKey":{pt:"i"},"SwitchCallerReference":{pt:"i"},"InVF_UM012OReference":{pt:"i"}}}},
co:function(){cO.aN.call(this);this.aF("VF_SY206O",Fd);var C0=this.cA("USYSTEM","VF_SY001O");var C1=this.cA("USYSTEMNATIVE","VF_SY017O");var C2=this.cA("USYSTEMCOMMON","VF_SY001X");var C3=this.cA("UFRAMEWORK","VF_FP001O");var C4=this.cF("ACTIVITIESSTACKCURRENTLOCATION",Fd.F1.Dc);var C5=this.cR("ACTIVITIES","PRIM_ACOL");var C6=this.cR("SUSPENDCOMMANDRECORDING","PRIM_BOLN");var C7=this.cF("IGNORENEXTURLCHANGESCOUNT",Fd.F1.Dc);var C8=this.cR("LOCATION_FW","PRIM_DC","UnicodeString");var C9=this.cR("LOCATION_B1","PRIM_DC","UnicodeString");
var C10=this.cR("LOCATION_B2","PRIM_DC","UnicodeString");var C11=this.cR("LOCATION_BK","PRIM_DC","UnicodeString");var C12=this.cR("LOCATION_LITERAL","PRIM_DC","UnicodeString");var C13=this.cR("CURRENTLOCATION","PRIM_DC","UnicodeString");if((C0!=null)&&(C0.iI()==false)){C0.iC();}if((C1!=null)&&(C1.iI()==false)){C1.iC();}if((C2!=null)&&(C2.iI()==false)){C2.iC();}if((C3!=null)&&(C3.iI()==false)){C3.iC();}C4.aD();C4.iC();C5.setCollects("VF_SY207O");C5.iC();C6.iC();C7.aD();C7.iC();C8.iC();C9.iC();C10.iC();
C11.iC();C12.iC();C13.iC();l.WEB().aH("URLCHANGED",this,e1);}});cO.mthZINT_INITIALIZE=function(){var m=this.REF,r=l.mR(this,cO,"zInt_Initialize",29);var C0=r.cR("LOCATION_KEY","PRIM_DC","UnicodeString");var C1=r.cR("ROOTACTIVITY","VF_SY207O");C0.iC();C1.iC();r.ln=29;{r.ln=34;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,"zInt_Initialize executed",u,u,true,u);r.ln=36;C0.set(l.cat(l.cat(l.cat(l.eSV("*YYYYMMDDC"),l.eSV("*TIMEC")),l.s.Reverse(l.eSV("*TIMEC"))),l.s.Reverse(l.eSV("*YYYYMMDDC"))));r.ln=38;m.LOCATION_FW.set(l.s.Encrypt("FORWARD",C0.get()));
r.ln=39;m.LOCATION_B1.set(l.s.Encrypt("BACK_1",C0.get()));r.ln=40;m.LOCATION_B2.set(l.s.Encrypt("BACK_2",C0.get()));r.ln=41;m.LOCATION_BK.set(l.s.Encrypt("BACKWARD",C0.get()));r.ln=42;m.LOCATION_LITERAL.set(l.s.Encrypt("LOCATION",C0.get()));r.ln=50;l.WEB().getHistory().mthREPLACE(l.add(l.cat(m.LOCATION_LITERAL.get(),"="),m.LOCATION_FW.get()),false);r.ln=51;l.WEB().getHistory().mthADD(l.add(l.cat(m.LOCATION_LITERAL.get(),"="),m.LOCATION_B1.get()),false);r.ln=52;l.WEB().getHistory().mthADD(l.add(l.cat(m.LOCATION_LITERAL.get(),"="),m.LOCATION_B2.get()),false);
r.ln=53;l.WEB().getHistory().mthADD(l.add(l.cat(m.LOCATION_LITERAL.get(),"="),m.LOCATION_BK.get()),false);r.ln=54;m.CURRENTLOCATION.set(cO.mthGETLOCATION.call(this));r.ln=57;C1.mthZINT_INITIALIZE(true,null,null,null,null,null);r.ln=58;m.ACTIVITIES.mthINSERT(C1);r.ln=61;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.s.Substitute("Current location is &1 and history length is &2",m.CURRENTLOCATION.get(),l.n.AsString(m.USYSTEMNATIVE.ref.getHISTORYLENGTH())),u,u,true,u);}r.ln=63;r.e();};cO.mthGETLOCATION=function()
{var m=this.REF,r=l.mR(this,cO,"GetLocation",66);var P0=r.cP("LOCATIONNAME","PRIM_DC","UnicodeString");r.ln=66;{r.ln=69;if((l.WEB().getURLParameters().get(m.LOCATION_LITERAL.get())==null)){r.ln=70;P0.set("UNKNOWN");}else{r.ln=72;P0.set(l.WEB().getURLParameters().get(m.LOCATION_LITERAL.get()).getValue());}}r.ln=75;return r.rV(P0.get());};cO.mthMOVETOAPPARENTLOCATION=function(p0){var m=this.REF,r=l.mR(this,cO,"MovetoApparentLocation",78);var P0=r.cPF("TO",Fd.F2.Dc);P0.set(p0);r.ln=78;{r.ln=81;m.CURRENTLOCATION.set(cO.mthGETLOCATION.call(this));
r.ln=83;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.s.Substitute("Moving to apparent location &1 from location &2. History length is &3",P0.get(),m.CURRENTLOCATION.get(),l.n.AsString(m.USYSTEMNATIVE.ref.getHISTORYLENGTH())),u,u,true,u);r.ln=85;{var v1=P0.get();if(r.ln=87,l.eq(v1,m.LOCATION_FW.get())){r.ln=88;{var v2=m.CURRENTLOCATION.get();if(r.ln=89,l.eq(v2,m.LOCATION_FW.get())){}else if(r.ln=90,l.eq(v2,m.LOCATION_B1.get())){r.ln=91;m.IGNORENEXTURLCHANGESCOUNT.set(1);r.ln=92;l.WEB().getHistory().mthGOBACK(1);
}else if(r.ln=93,l.eq(v2,m.LOCATION_B2.get())){r.ln=94;m.IGNORENEXTURLCHANGESCOUNT.set(2);r.ln=95;l.WEB().getHistory().mthGOBACK(2);}else if(r.ln=96,l.eq(v2,m.LOCATION_BK.get())){r.ln=97;m.IGNORENEXTURLCHANGESCOUNT.set(3);r.ln=98;l.WEB().getHistory().mthGOBACK(3);}r.ln=99;}}else if(r.ln=101,l.eq(v1,m.LOCATION_B1.get())){r.ln=102;{var v2=m.CURRENTLOCATION.get();if(r.ln=103,l.eq(v2,m.LOCATION_FW.get())){r.ln=104;m.IGNORENEXTURLCHANGESCOUNT.set(1);r.ln=105;l.WEB().getHistory().mthGOFORWARD(1);}else if(r.ln=106,l.eq(v2,m.LOCATION_B1.get()))
{}else if(r.ln=107,l.eq(v2,m.LOCATION_B2.get())){r.ln=108;m.IGNORENEXTURLCHANGESCOUNT.set(1);r.ln=109;l.WEB().getHistory().mthGOBACK(1);}else if(r.ln=110,l.eq(v2,m.LOCATION_BK.get())){r.ln=111;m.IGNORENEXTURLCHANGESCOUNT.set(2);r.ln=112;l.WEB().getHistory().mthGOBACK(2);}r.ln=113;}}else if(r.ln=115,l.eq(v1,m.LOCATION_B2.get())){r.ln=116;{var v2=m.CURRENTLOCATION.get();if(r.ln=117,l.eq(v2,m.LOCATION_FW.get())){r.ln=118;m.IGNORENEXTURLCHANGESCOUNT.set(2);r.ln=119;l.WEB().getHistory().mthGOFORWARD(2);
}else if(r.ln=120,l.eq(v2,m.LOCATION_B1.get())){r.ln=121;m.IGNORENEXTURLCHANGESCOUNT.set(1);r.ln=122;l.WEB().getHistory().mthGOFORWARD(1);}else if(r.ln=123,l.eq(v2,m.LOCATION_B2.get())){}else if(r.ln=124,l.eq(v2,m.LOCATION_BK.get())){r.ln=125;m.IGNORENEXTURLCHANGESCOUNT.set(1);r.ln=126;l.WEB().getHistory().mthGOBACK(1);}r.ln=127;}}else if(r.ln=129,l.eq(v1,m.LOCATION_BK.get())){r.ln=130;{var v2=m.CURRENTLOCATION.get();if(r.ln=131,l.eq(v2,m.LOCATION_FW.get())){r.ln=132;m.IGNORENEXTURLCHANGESCOUNT.set(3);
r.ln=133;l.WEB().getHistory().mthGOFORWARD(3);}else if(r.ln=134,l.eq(v2,m.LOCATION_B1.get())){r.ln=135;m.IGNORENEXTURLCHANGESCOUNT.set(2);r.ln=136;l.WEB().getHistory().mthGOFORWARD(2);}else if(r.ln=137,l.or(l.eq(v2,m.LOCATION_B1.get()),l.eq(v2,m.LOCATION_B2.get()))){r.ln=138;m.IGNORENEXTURLCHANGESCOUNT.set(1);r.ln=139;l.WEB().getHistory().mthGOFORWARD(1);}else if(r.ln=140,l.eq(v2,m.LOCATION_BK.get())){}r.ln=141;}}r.ln=143;}}r.ln=146;r.e();};cO.mthZINT_REPLACEENTRYPOINTURL=function(){var m=this.REF,r=l.mR(this,cO,"zInt_ReplaceEntryPointURL",149);
r.ln=149;{r.ln=151;l.WEB().getHistory().mthREPLACE(m.USYSTEM.ref.getURLQUERYSTRING(),false);}r.ln=153;r.e();};cO.mthZINT_TERMINATE=function(){var m=this.REF,r=l.mR(this,cO,"zInt_Terminate",156);r.ln=156;{r.ln=158;this.mthZINT_REPLACEENTRYPOINTURL();r.ln=160;for(var l1=m.ACTIVITIES.cI();l1.step();){l1.item().mthZINT_TERMINATE()};r.ln=162;m.ACTIVITIES.mthREMOVEALL();r.ln=164;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,"zInt_Terminate executed",u,u,true,u);}r.ln=166;r.e();};function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#SYS_WEB.URLChanged",169);
var C0=r.cD("C0");var C1=r.cD("C1");var C2=r.cR("UPDATEDISPLAY","PRIM_BOLN");var C3=r.cR("PREVIOUSLOCATION","PRIM_DC","UnicodeString");var C4=r.cR("NEWLOCATION","PRIM_DC","UnicodeString");var C5=r.cR("KEYUSED","PRIM_DC","UnicodeString");var C6=r.cR("TRACE","PRIM_BOLN");C2.iC();C3.iC();C4.iC();C5.iC();C6.iC();r.ln=169;{r.ln=180;C6.set(m.USYSTEMCOMMON.ref.getINSYSTRACEMODE());r.ln=182;if(l.n.gt(m.IGNORENEXTURLCHANGESCOUNT.get(),0)){r.ln=184;m.CURRENTLOCATION.set(cO.mthGETLOCATION.call(this));r.ln=186;
if(l.tB(C6.get())){r.ln=187;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.s.Substitute("Ignoring change &1 of URL change to &2. Current location is now &3.",l.n.AsString(m.IGNORENEXTURLCHANGESCOUNT.get()),l.WEB().getURL(),m.CURRENTLOCATION.get()),u,u,true,u);}r.ln=190;m.IGNORENEXTURLCHANGESCOUNT.set(l.sub(m.IGNORENEXTURLCHANGESCOUNT.get(),1));}else{r.ln=194;m.IGNORENEXTURLCHANGESCOUNT.set(0);r.ln=196;C3.set(m.CURRENTLOCATION.get());r.ln=198;C4.set(cO.mthGETLOCATION.call(this));r.ln=200;if(l.tB(C6.get()))
{r.ln=201;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.s.Substitute("Handling URL change to &1. History length is &2. Previous location is &3. New location is &4.",l.WEB().getURL(),l.n.AsString(m.USYSTEMNATIVE.ref.getHISTORYLENGTH()),C3.get(),C4.get()),u,u,true,u);}r.ln=205;if(l.tB(C6.get())){r.ln=206;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.s.Substitute("Previous location was &1. New location is &2.",C3.get(),C4.get()),u,u,true,u);}r.ln=209;{var v1=C3.get();if(r.ln=211,l.eq(v1,m.LOCATION_FW.get()))
{r.ln=212;C5.set("FORWARD_KEY");}else if(r.ln=214,l.eq(v1,m.LOCATION_BK.get())){r.ln=215;C5.set("BACKWARD_KEY");}else if(r.ln=217,l.eq(v1,m.LOCATION_B1.get())){r.ln=218;{var v2=C4.get();if(r.ln=219,l.eq(v2,m.LOCATION_FW.get())){r.ln=220;C5.set("BACKWARD_KEY");}else if(r.ln=221,l.eq(v2,m.LOCATION_B1.get())){r.ln=222;C5.set("BACKWARD_KEY");}else if(r.ln=223,l.eq(v2,m.LOCATION_B2.get())){r.ln=224;C5.set("FORWARD_KEY");}else if(r.ln=225,l.eq(v2,m.LOCATION_BK.get())){r.ln=226;C5.set("BACKWARD_KEY");}r.ln=227;
}}else if(r.ln=229,l.eq(v1,m.LOCATION_B2.get())){r.ln=230;{var v2=C4.get();if(r.ln=231,l.eq(v2,m.LOCATION_FW.get())){r.ln=232;C5.set("BACKWARD_KEY");}else if(r.ln=233,l.eq(v2,m.LOCATION_B1.get())){r.ln=234;C5.set("BACKWARD_KEY");}else if(r.ln=235,l.eq(v2,m.LOCATION_B2.get())){r.ln=236;C5.set("FORWARD_KEY");}else if(r.ln=237,l.eq(v2,m.LOCATION_BK.get())){r.ln=238;C5.set("FORWARD_KEY");}r.ln=239;}}r.ln=241;}r.ln=243;m.CURRENTLOCATION.set(C4.get());r.ln=245;if(l.tB(C6.get())){r.ln=246;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.add("Key used determined to be ",C5.get()),u,u,true,u);
}r.ln=249;if(l.tB(l.s.eq(C5.get(),"FORWARD_KEY"))){r.ln=250;m.ACTIVITIESSTACKCURRENTLOCATION.set(l.add(m.ACTIVITIESSTACKCURRENTLOCATION.get(),1));}else{r.ln=252;m.ACTIVITIESSTACKCURRENTLOCATION.set(l.sub(m.ACTIVITIESSTACKCURRENTLOCATION.get(),1));}r.ln=257;if(l.n.lt(m.ACTIVITIESSTACKCURRENTLOCATION.get(),1)){r.ln=258;m.ACTIVITIESSTACKCURRENTLOCATION.set(1);}else{r.ln=260;if(l.n.gt(m.ACTIVITIESSTACKCURRENTLOCATION.get(),m.ACTIVITIES.getItemCount())){r.ln=261;m.ACTIVITIESSTACKCURRENTLOCATION.set(m.ACTIVITIES.getItemCount());
}}r.ln=267;if(l.eq(l.WEB().getURL(),m.USYSTEM.ref.getURL())){r.ln=269;if(l.tB(l.s.eq(C5.get(),"FORWARD_KEY"))){r.ln=270;m.USYSTEM.ref.mthZINT_ISSUETEXTMESSAGE(m.USYSTEM.ref.getUMTXTVALUES("FKEYIGNORE"),u,1,"WARN",u,true);}else{r.ln=272;m.USYSTEM.ref.mthZINT_ISSUETEXTMESSAGE(m.USYSTEM.ref.getUMTXTVALUES("BKEYIGNORE"),u,1,"WARN",u,true);}}else{r.ln=277;if(l.and(l.n.ge(m.ACTIVITIESSTACKCURRENTLOCATION.get(),1),l.n.le(m.ACTIVITIESSTACKCURRENTLOCATION.get(),m.ACTIVITIES.getItemCount()))){r.ln=278;C0=r.sR("C0",m.ACTIVITIES.get(m.ACTIVITIESSTACKCURRENTLOCATION.get()));
}r.ln=281;if((C0==null)){r.ln=283;this.mthZINT_REPLACEENTRYPOINTURL();}else{r.ln=287;if(C0.getISROOTITEM()){r.ln=289;m.ACTIVITIESSTACKCURRENTLOCATION.set(1);r.ln=291;if(l.tB(C6.get())){r.ln=292;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,"Ignoring move to root activity item",u,u,true,u);}r.ln=295;if(l.tB(l.s.eq(C5.get(),"FORWARD_KEY"))){r.ln=296;m.USYSTEM.ref.mthZINT_ISSUETEXTMESSAGE(m.USYSTEM.ref.getUMTXTVALUES("FKEYIGNORE"),u,1,"WARN",u,true);}else{r.ln=298;m.USYSTEM.ref.mthZINT_ISSUETEXTMESSAGE(m.USYSTEM.ref.getUMTXTVALUES("BKEYIGNORE"),u,1,"WARN",u,true);
}r.ln=301;this.mthADJUSTLOGICALKEYENABLEMENTS();}else{r.ln=305;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.add(l.cat(l.add("Executing ",cO.mthMAKETRACETEXT.call(this,C0))," current location is "),m.CURRENTLOCATION.get()),u,u,true,u);r.ln=307;m.SUSPENDCOMMANDRECORDING.set(true);r.ln=309;C1=r.sR("C1",C0.getINSTANCELISTENTRY());r.ln=311;if((C1!=null)){r.ln=312;if(l.b.Not(C1.getAVISSELECTED())){r.ln=313;C1.setAVISSELECTED(true);r.ln=314;C2.set(true);}r.ln=316;if(l.b.Not(C1.getAVISCURRENT())){r.ln=317;
C1.setAVISCURRENT(true);r.ln=318;C2.set(true);}r.ln=320;if(l.tB(C2.get())){r.ln=321;C1.mthAVUPDATEDISPLAY();}}r.ln=325;C0.getCOMMANDREFERENCE().mthZINT_EXECUTECOMMANDHANDLER(C0.getVF_UM012OREFERENCE().getBUSYPANEL(),C0.getSWITCHCALLERREFERENCE(),C0.getINSTANCEREFERENCEKEY());r.ln=327;this.mthADJUSTLOGICALKEYENABLEMENTS();}}}}}r.ln=338;r.e();};cO.mthZINT_REMOVEALLVF_UM012O_ACTIVITIES=function(p0){var m=this.REF,r=l.mR(this,cO,"zInt_RemoveAllVF_UM012O_Activities",341);var P0=r.cPD("FORVF_UM012OREFERENCE");
P0=r.sR("FORVF_UM012OREFERENCE",p0);var C0=r.cR("CHECKVISIBLEBUTTONS","PRIM_BOLN");var C1=r.cR("TRACE","PRIM_BOLN");C0.iC();C1.iC();r.ln=341;{r.ln=347;C1.set(m.USYSTEMCOMMON.ref.getINSYSTRACEMODE());r.ln=350;{var l1=m.ACTIVITIES.cI();while(l1.step()){var ACTIVITY=r.sR("ACTIVITY",l1.item());var INDEX=r.sR("INDEX",l1.key());r.ln=351;if((ACTIVITY.getVF_UM012OREFERENCE()===P0)){r.ln=352;if(l.tB(C1.get())){r.ln=353;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.add("Removed VF_UM012 activity. ",cO.mthMAKETRACETEXT.call(this,ACTIVITY)),u,u,true,u);
}r.ln=355;ACTIVITY.mthZINT_TERMINATE();r.ln=356;m.ACTIVITIES.mthREMOVE(ACTIVITY);r.ln=357;if(l.n.eq(INDEX.get(),m.ACTIVITIESSTACKCURRENTLOCATION.get())){r.ln=358;m.ACTIVITIESSTACKCURRENTLOCATION.set(l.sub(m.ACTIVITIESSTACKCURRENTLOCATION.get(),1));r.ln=359;C0.set(true);}}r.ln=362;}l1.end();r.dR("ACTIVITY");r.dR("INDEX");}r.ln=364;if(l.tB(C0.get())){r.ln=365;this.mthADJUSTLOGICALKEYENABLEMENTS();}}r.ln=368;r.e();};cO.mthZINT_REMOVEALLINSTANCELISTACTIVITIES=function(p0){var m=this.REF,r=l.mR(this,cO,"zInt_RemoveAllInstanceListActivities",371);
var P0=r.cPD("RELATEDTOOBJECT");P0=r.sR("RELATEDTOOBJECT",p0);var C0=r.cR("CHECKVISIBLEBUTTONS","PRIM_BOLN");var C1=r.cR("TRACE","PRIM_BOLN");C0.iC();C1.iC();r.ln=371;{r.ln=377;C1.set(m.USYSTEMCOMMON.ref.getINSYSTRACEMODE());r.ln=380;{var l1=m.ACTIVITIES.cI();while(l1.step()){var ACTIVITY=r.sR("ACTIVITY",l1.item());var INDEX=r.sR("INDEX",l1.key());r.ln=381;if((ACTIVITY.getINSTANCELISTENTRY()!=null)){r.ln=382;if((ACTIVITY.getINSTANCELISTENTRY().getAVBUSINESSOBJECTREFERENCE()===P0)){r.ln=383;if(l.tB(C1.get()))
{r.ln=384;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.add("Removed business object instance list activity. ",cO.mthMAKETRACETEXT.call(this,ACTIVITY)),u,u,true,u);}r.ln=386;ACTIVITY.mthZINT_TERMINATE();r.ln=387;m.ACTIVITIES.mthREMOVE(ACTIVITY);r.ln=388;if(l.n.eq(INDEX.get(),m.ACTIVITIESSTACKCURRENTLOCATION.get())){r.ln=389;m.ACTIVITIESSTACKCURRENTLOCATION.set(l.sub(m.ACTIVITIESSTACKCURRENTLOCATION.get(),1));r.ln=390;C0.set(true);}}}r.ln=394;}l1.end();r.dR("ACTIVITY");r.dR("INDEX");}r.ln=396;if(l.tB(C0.get()))
{r.ln=397;this.mthADJUSTLOGICALKEYENABLEMENTS();}}r.ln=400;r.e();};cO.mthZINT_REMOVEINSTANCELISTITEMACTIVITIES=function(p0){var m=this.REF,r=l.mR(this,cO,"zInt_RemoveInstanceListItemActivities",403);var P0=r.cPD("RELATEDTOITEM");P0=r.sR("RELATEDTOITEM",p0);r.ln=403;{r.ln=406;{var l1=m.ACTIVITIES.cI();while(l1.step()){var ACTIVITY=r.sR("ACTIVITY",l1.item());r.ln=407;if((ACTIVITY.getINSTANCELISTENTRY()===P0)){r.ln=408;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.add("Removed instance list activity. ",cO.mthMAKETRACETEXT.call(this,ACTIVITY)),u,u,true,u);
r.ln=409;ACTIVITY.mthZINT_TERMINATE();r.ln=410;m.ACTIVITIES.mthREMOVE(ACTIVITY);}r.ln=412;}l1.end();r.dR("ACTIVITY");}}r.ln=414;r.e();};cO.mthMAKETRACETEXT=function(p0){var r=l.mR(this,cO,"MakeTraceText",418);var P0=r.cPD("FORACTIVITY");var P1=r.cP("TRACETEXT","PRIM_DC","UnicodeString");P0=r.sR("FORACTIVITY",p0);r.ln=418;{r.ln=422;if((P0==null)){r.ln=423;P1.set("Activity is NULL");}else{r.ln=425;if(P0.getISROOTITEM()){r.ln=426;P1.set("Root activity");}else{r.ln=428;P1.set(l.add(l.cat(l.add("Command ",P0.getCOMMANDREFERENCE().getVF_FP009REFERENCE().getUCAPTION())," against object "),P0.getCOMMANDREFERENCE().getPARENTVF_AC001OBJECT().getUCAPTION()));
r.ln=429;if((P0.getINSTANCELISTENTRY()!=null)){r.ln=430;P1.set(l.cat(P1.get(),l.cat(" instance ",P0.getINSTANCELISTENTRY().mthAVGETCOMPOSITEKEYSTRING())));}}}}r.ln=435;return r.rV(P1.get());};cO.mthADJUSTLOGICALKEYENABLEMENTS=function(){var m=this.REF,r=l.mR(this,cO,"AdjustLogicalKeyEnablements",438);r.ln=438;{r.ln=440;if(l.n.lt(m.ACTIVITIESSTACKCURRENTLOCATION.get(),1)){r.ln=441;m.ACTIVITIESSTACKCURRENTLOCATION.set(1);}else{r.ln=443;if(l.n.gt(m.ACTIVITIESSTACKCURRENTLOCATION.get(),m.ACTIVITIES.getItemCount()))
{r.ln=444;m.ACTIVITIESSTACKCURRENTLOCATION.set(m.ACTIVITIES.getItemCount());}}r.ln=448;{var v1=m.ACTIVITIESSTACKCURRENTLOCATION.get();if(r.ln=450,l.n.eq(v1,m.ACTIVITIES.getItemCount())){r.ln=451;this.mthMOVETOAPPARENTLOCATION(m.LOCATION_BK.get());}else if(r.ln=453,l.n.eq(v1,1)){r.ln=454;this.mthMOVETOAPPARENTLOCATION(m.LOCATION_FW.get());}else if(r.ln=456,l.n.eq(v1,2)){r.ln=457;this.mthMOVETOAPPARENTLOCATION(m.LOCATION_B1.get());}else{r.ln=460;this.mthMOVETOAPPARENTLOCATION(m.LOCATION_B2.get());}
r.ln=462;}}r.ln=464;r.e();};cO.mthZINT_RECORDCOMMANDACTIVITY=function(p0,p1,p2,p3,p4){var m=this.REF,r=l.mR(this,cO,"zInt_RecordCommandActivity",467);var P0=r.cPD("COMMANDREFERENCE");var P1=r.cPD("INSTANCELISTENTRY");var P2=r.cP("INSTANCEREFERENCEKEY","PRIM_ALPH");var P3=r.cPD("SWITCHCALLERREFERENCE");var P4=r.cPD("INVF_UM012OREFERENCE");P0=r.sR("COMMANDREFERENCE",p0);P1=r.sR("INSTANCELISTENTRY",p1);P2.set(p2);P3=r.sR("SWITCHCALLERREFERENCE",p3);P4=r.sR("INVF_UM012OREFERENCE",p4);var C0=r.cR("NEWACTIVITY","VF_SY207O");
var C1=r.cR("TRACE","PRIM_BOLN");var C2=r.cF("PROPOSEDACTIVITIESSTACKCURRENTLOCATION",Fd.F1.Dc);C0.iC();C1.iC();C2.iC();r.ln=467;{r.ln=478;C1.set(m.USYSTEMCOMMON.ref.getINSYSTRACEMODE());r.ln=480;if(l.tB(m.SUSPENDCOMMANDRECORDING.get())){r.ln=482;if(l.tB(C1.get())){r.ln=483;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.add(l.cat(l.add("Did NOT record activity for  command ",P0.getVF_FP009REFERENCE().getUCAPTION())," against object "),P0.getPARENTVF_AC001OBJECT().getUCAPTION()),u,u,true,u);}r.ln=486;
m.SUSPENDCOMMANDRECORDING.set(false);}else{r.ln=492;if(((P1!=null)&&P1.getISPROXYITEM())){r.ln=493;P1=r.sR("P1",P1.mthZINT_GETREALVF_LM003OREFERENCE());}r.ln=496;C0.mthZINT_INITIALIZE(false,P0,P1,P2.get(),P3,P4);r.ln=498;C2.set(l.add(m.ACTIVITIESSTACKCURRENTLOCATION.get(),1));r.ln=499;while ( l.n.le(C2.get(),m.ACTIVITIES.getItemCount())){r.ln=500;if(l.tB(C1.get())){r.ln=501;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.add("Removed from old path ",cO.mthMAKETRACETEXT.call(this,m.ACTIVITIES.get(m.ACTIVITIES.getItemCount()))),u,u,true,u);
}r.ln=503;m.ACTIVITIES.mthREMOVELAST();}r.ln=506;m.ACTIVITIES.mthINSERT(C0);r.ln=508;if(l.tB(C1.get())){r.ln=509;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.add("Recorded activity for ",cO.mthMAKETRACETEXT.call(this,C0)),u,u,true,u);}r.ln=512;m.ACTIVITIESSTACKCURRENTLOCATION.set(m.ACTIVITIES.getItemCount());r.ln=514;this.mthADJUSTLOGICALKEYENABLEMENTS();}}r.ln=519;r.e();};function rl1(F2){var v=F2.get();return(l.s.eq(v,""));};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"STD_INT"});
}{Fd.F2.Dc=function(){this.aN.call(this,Fd.F2);};l.cFC({co:Fd.F2.Dc,an:"PRIM_FLD",fn:"STD_TEXT"});}},{rc:["VF_SY001O","VF_SY017O","VF_SY001X","VF_FP001O"],rp:["PRIM_OBJT","PRIM_FLD","PRIM_ACOL","PRIM_BOLN","PRIM_DC.UnicodeString"],dc:["VF_SY207O","VF_LM003O"],dp:["PRIM_DC.UnicodeString","PRIM_BOLN"]});
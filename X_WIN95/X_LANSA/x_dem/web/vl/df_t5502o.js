LANSA.addComponent({id:"DF_T5502O",ot:"rp",tp:"Reusable Part",pt:"ap",de:"\\OC=VLF-ONE Example DashBoard Part 2",tl:15000000},function(l,oI,u){var cL="ENG";if((l.gCL()=="FRA")||(l.gCL()=="JPN")){cL=l.gCL();}var Fd={F1:{nm:"DF_T60TIM",an:"DF_T60TIME",ft:"DT",ln:24,dc:0,lb:{"ENG":"Date / time","FRA":"?","JPN":"?"}[cL],h1:{"ENG":"Date / time","FRA":"?","JPN":"?"}[cL],h2:{"ENG":"-----------","FRA":"?","JPN":"?"}[cL],h3:"",de:{"ENG":"Message TimeStamp","FRA":"?","JPN":"?"}[cL],dv:l.n.AsDateTime(l.eSV("*DATETIME"),"CCYYMMDDHHMMSS"),
ia:["FE","ISO","SUTC"]},F2:{ic:0,nm:"DATETIMEX",ft:"DT",ln:26,dc:0,lb:{"ENG":"Date / time","FRA":"?","JPN":"?"}[cL],h1:{"ENG":"Date / time","FRA":"?","JPN":"?"}[cL],h2:{"ENG":"-----------","FRA":"?","JPN":"?"}[cL],h3:"",de:{"ENG":"Current date and time (RDMLX)","FRA":"?","JPN":"?"}[cL],dv:l.n.AsDateTime(l.eSV("*DATETIME"),"CCYYMMDDHHMMSS"),ia:["ASQN","FE","ISO","SUTC"]},F3:{ic:0,nm:"STD_INT",ft:"I",ln:4,dc:0,ec:"J",lb:{"ENG":"Std Integer","FRA":"?","JPN":"?"}[cL],h1:{"ENG":"Standard","FRA":"?","JPN":"?"}[cL],
h2:{"ENG":"Integer","FRA":"?","JPN":"?"}[cL],h3:{"ENG":"Field","FRA":"?","JPN":"?"}[cL],de:{"ENG":"Standard Integer field","FRA":"?","JPN":"?"}[cL],dv:0,ia:["FE","RB"]},F4:{nm:"VF_ELUTXL",ft:"N",ln:255,dc:0,lb:"Standard Long U",h1:"Standard",h2:"Long",h3:"Unicode",de:"Standard Long Unicode Text",dv:"",ia:["FE","LC"]},F5:{nm:"DF_T60SEN",an:"DF_T60SENDER",ft:"N",ln:32,dc:0,lb:"Message Sender",h1:"Message",h2:"Sender",h3:"",de:"Message Sender",dv:"",ia:["FE","LC"]},F6:{nm:"DF_T60TEX",an:"DF_T60TEXT",
ft:"NV",ln:512,dc:0,lb:"MessageText",h1:"MessageText",h2:"",h3:"",de:"MessageText",dv:"",ia:["FE","LC"]}};var cO=l.rC(oI,{an:"PRIM_PANL",fd:Fd,rm:["dt"],mt:{uInitialize:{ps:{"UseavFrameworkManager":{pt:"i"}}},MakeDisplayTime:{ps:{"UTCTime":{pt:"i"}}},uTerminate:{},StopEnsureVisibleLogic:{},AddMessage:{ps:{"Sender":{pt:"i"},"WithTime":{pt:"i"},"Text":{pt:"i"},"SendtoServer":{pt:"i"},"TextStyle":{pt:"i"},"SendtoVisibleMessages":{pt:"i"}}},PollServer:{}},co:function(){cO.aN.call(this);var f=this.aF("DF_T5502O",Fd);
var C0=this.cA("UFRAMEWORK","VF_FP001O");var C1=this.cA("USYSTEM","VF_SY001O");var C2=this.cR("ATTACHLAYOUT1","PRIM_ATLM");var C3=this.cR("ATTACHITEM1","PRIM_ATLI");var C4=this.cR("ATTACHITEM2","PRIM_ATLI");var C5=this.cR("ATTACHITEM3","PRIM_ATLI");var C6=this.cR("ATTACHITEM8","PRIM_ATLI");var C7=this.cR("ATTACHLAYOUT2","PRIM_ATLM");var C8=this.cR("ATTACHITEM4","PRIM_ATLI");var C9=this.cR("ATTACHLAYOUT3","PRIM_ATLM");var C10=this.cR("ATTACHITEM5","PRIM_ATLI");var C11=this.cR("ATTACHLAYOUT4","PRIM_ATLM");
var C12=this.cR("ATTACHITEM6","PRIM_ATLI");var C13=this.cR("ATTACHITEM7","PRIM_ATLI");var C14=this.cR("HEADPANEL","PRIM_PANL");var C15=this.cR("MESSAGEPANEL","PRIM_PANL");var C16=this.cR("RESPONSEPANEL","PRIM_PANL");var C17=this.cR("INSTRUCTIONS","PRIM_LABL");var C18=this.cR("CHAT","PRIM_IMAG");var C19=this.cR("TITLE","PRIM_LABL");var C20=this.cR("RESPONSETEXT","PRIM_EDIT");var C21=this.cR("MESSAGELIST","PRIM_LIST");var C22=this.cR("COLUMNVF_ELUTXL1","PRIM_LIST","String");var C23=this.cR("CLEARBUTTON","PRIM_PHBN");
var C24=this.cR("REFRESHBUTTON","PRIM_PHBN");var C25=this.cR("BUTTONPANEL","PRIM_PANL");var C26=this.cR("WHITEBACKGROUND","PRIM_VS","Style");var C27=this.cR("TITLEFONT","PRIM_VS","Style");var C28=this.cR("INSTRUCTIONFONT","PRIM_VS","Style");var C29=this.cR("ENSUREVISIBLETIMER","PRIM_TIMR");this.cD("ENSUREVISIBLELISTITEM");var C31=this.cR("SYSTEMMESSAGE","PRIM_VS","Style");var C32=this.cR("RESPONSEMESSAGE","PRIM_VS","Style");var C33=this.cR("RECEIVEDMESSAGE","PRIM_VS","Style");this.cD("AVFRAMEWORKMANAGER");
var C35=this.cR("MANUALLYPOLLED","PRIM_BOLN");var C36=this.cDR("SENDSERVICE","DF_T60SVO","SEND");var C37=this.cDR("RECEIVESERVICE","DF_T60SVO","RECEIVE");var C38=this.cF("LASTPOLLTIME",Fd.F1.Dc);var C39=this.cR("POLLTIMER","PRIM_TIMR");if((C0!=null)&&(C0.iI()==false)){C0.iC();}if((C1!=null)&&(C1.iI()==false)){C1.iC();}C2.iC();C3.setManage(C14);C3.setParent(C2);C3.setAttachment("TOP");C3.iC();C4.setManage(C15);C4.setParent(C2);C4.setAttachment("CENTER");C4.iC();C5.setManage(C16);C5.setParent(C2);C5.setAttachment("BOTTOM");
C5.setMarginLeft(8);C5.setMarginRight(8);C5.setMarginTop(4);C5.setMarginBottom(4);C5.iC();C6.setManage(C17);C6.setParent(C2);C6.setAttachment("TOP");C6.iC();C7.iC();C8.setManage(C21);C8.setParent(C7);C8.setAttachment("CENTER");C8.setMarginLeft(8);C8.setMarginRight(8);C8.setMarginTop(8);C8.iC();C9.iC();C10.setManage(C20);C10.setParent(C9);C10.setAttachment("CENTER");C10.setMarginBottom(4);C10.setMarginLeft(8);C10.setMarginRight(8);C10.setMarginTop(4);C10.iC();C11.iC();C12.setManage(C25);C12.setParent(C11);
C12.setAttachment("BOTTOM");C12.iC();C13.setManage(C20);C13.setParent(C11);C13.setAttachment("CENTER");C13.iC();C14.setParent(this);C14.setDisplayPosition(1);C14.setTabPosition(1);C14.setLeft(0);C14.setTop(0);C14.setWidth(433);C14.iC();C15.setParent(this);C15.setDisplayPosition(3);C15.setTabPosition(3);C15.setHeight(89);C15.setLeft(0);C15.setTop(113);C15.setWidth(433);C15.setLayoutManager(C7);C15.iC();C16.setParent(this);C16.setDisplayPosition(2);C16.setTabPosition(2);C16.setTop(206);C16.setWidth(417);
C16.setHeight(60);C16.setLayoutManager(C11);C16.setLeft(8);C16.iC();C17.setParent(this);C17.setDisplayPosition(4);C17.setTabPosition(4);C17.setTabStop(false);C17.setCaption("Start another web browser session using the same back end web server as this session uses to send and receive messages and alerts in real time. Use different users for each session. Automatic checks for new messages or alerts are made every 20 seconds or when refresh is used.");C17.setLeft(0);C17.setTop(50);C17.setWidth(433);
C17.setHeight(63);C17.setVerticalAlignment("CENTER");C17.setStyle(C28);C17.setMarginLeft(8);C17.setMarginRight(8);C17.iC();C18.setParent(C14);C18.setDisplayPosition(2);C18.setTabPosition(2);C18.setHeight(32);C18.setWidth(32);C18.setTop(11);C18.setLeft(11);C18.iC();C19.setParent(C14);C19.setDisplayPosition(1);C19.setTabPosition(1);C19.setTabStop(false);C19.setLeft(55);C19.setWidth(355);C19.setHeight(32);C19.setVerticalAlignment("CENTER");C19.setStyle(C27);C19.setCaption("Internal Alert System");C19.setTop(11);
C19.iC();C20.setDisplayPosition(1);C20.setLeft(0);C20.setParent(C16);C20.setShowSelection(false);C20.setShowSelectionHilight(false);C20.setTabPosition(1);C20.setTop(0);C20.setWidth(417);C20.setHeight(26);C20.setPlaceholder("Type an alert or message here and press enter");C20.setMaxLength(200);C20.iC();C21.setDisplayPosition(1);C21.setLeft(8);C21.setParent(C15);C21.setTabPosition(1);C21.setTop(8);C21.setWidth(417);C21.setColumnHeaderHeight(0);C21.setColumnLines(false);C21.setRowLines(false);C21.setStyle(C26);
C21.setHeight(81);C21.iC();C22.setDisplayPosition(1);C22.setParent(C21);C22.setSource(f.F4);C22.setAutoSelect(false);C22.setColumnUnits("PROPORTION");C22.setColumnWidth(100);C22.iC();C23.setParent(C25);C23.setCaption("Clear");C23.setDisplayPosition(2);C23.setTabPosition(2);C23.setTop(6);C23.setLeft(0);C23.iC();C24.setParent(C25);C24.setCaption("Refresh");C24.setDisplayPosition(1);C24.setTabPosition(1);C24.setTop(6);C24.setLeft(85);C24.iC();C25.setParent(C16);C25.setDisplayPosition(2);C25.setTabPosition(2);
C25.setLeft(0);C25.setWidth(417);C25.setHeight(34);C25.setTop(26);C25.iC();C26.setNormBackColor("WHITE");C26.iC();C27.setFontSize(24);C27.setBold(true);C27.setTextColor("18:69:114");C27.setFontUnits("PIXEL");C27.iC();C28.setFontSize(11);C28.setFontUnits("PIXEL");C28.iC();C29.setInterval(0);C29.iC();C31.setNormBackColor("WHITE");C31.setTextColor("255:128:64");C31.iC();C32.setNormBackColor("WHITE");C32.setTextColor("18:69:114");C32.iC();C33.setNormBackColor("WHITE");C33.setTextColor("BLACK");C33.setItalic(true);
C33.iC();C35.iC();C36.iC();C37.iC();C38.aD();C38.iC();C39.setInterval(0);C39.iC();C20.aH("ENTER",this,e7);C23.aH("CLICK",this,e6);C24.aH("CLICK",this,e5);C29.aH("TICK",this,e1);C37.aH("COMPLETED",this,e3);C37.aH("FAILED",this,e4);C39.aH("TICK",this,e2);this.setHeight(270);this.setLeft(0);this.setTop(0);this.setWidth(433);this.setDisplayPosition(1);this.setTabPosition(1);this.setVerticalScroll(true);this.setLayoutManager(C2);var li=this.aL("DF_T5502O");li.RESULT_MESSAGE_LIST=l.cLT({"DF_T60TIM":f.F1,"DF_T60SEN":f.F5,"DF_T60TEX":f.F6},null);
}});cO.mthUINITIALIZE=function(p0){var m=this.REF,r=l.mR(this,cO,"uInitialize",102);var P0=r.cPD("USEAVFRAMEWORKMANAGER");P0=r.sR("USEAVFRAMEWORKMANAGER",p0);var C0=r.cF("CURRENTTIME",Fd.F2.Dc);C0.iC();r.ln=102;{r.ln=107;m.LASTPOLLTIME.set(l.dt.Now(m.LASTPOLLTIME.get()));r.ln=109;this.setrefAVFRAMEWORKMANAGER(P0);r.ln=111;m.CHAT.setImage(m.AVFRAMEWORKMANAGER.mthAVGETIMAGEREFERENCE("CONNECT_OUTLINE.PNG","T","LARGE",false));r.ln=113;C0.set(l.dt.Now(C0.get()));r.ln=114;this.mthADDMESSAGE(m.UFRAMEWORK.ref.getUCAPTION(),C0.get(),l.add("Welcome ",m.AVFRAMEWORKMANAGER.getAVVISIBLEUSER()),false,m.SYSTEMMESSAGE,false);
r.ln=117;m.USYSTEM.ref.getCURRENTTHEME().mthAVSTYLEPRIM_LISTFORFORMFACTOR(m.MESSAGELIST,this);r.ln=120;this.mthADDMESSAGE(m.AVFRAMEWORKMANAGER.getAVLOGGEDONUSER(),C0.get(),l.cat("Started session at ",cO.mthMAKEDISPLAYTIME.call(this,C0.get())),true,m.SYSTEMMESSAGE,false);r.ln=122;m.POLLTIMER.setInterval(20000);}r.ln=124;r.e();};cO.mthMAKEDISPLAYTIME=function(p0){var r=l.mR(this,cO,"MakeDisplayTime",127);var P0=r.cPF("UTCTIME",Fd.F2.Dc);var P1=r.cP("RESULT","PRIM_ALPH");P0.set(p0);r.ln=127;{r.ln=131;
P0.set(l.dt.AsLocalizedDateTime(P0.get()));r.ln=133;P1.set(l.cat(l.cat(l.d.AsDisplayString(l.dt.Date(P0.get()),"CCYYSMMSDD")," "),l.t.AsDisplayString(l.dt.Time(P0.get()),"HHSMMSSS")));}r.ln=135;return r.rV(P1.get());};cO.mthUTERMINATE=function(){var m=this.REF,r=l.mR(this,cO,"uTerminate",138);r.ln=138;{r.ln=140;this.mthSTOPENSUREVISIBLELOGIC();r.ln=142;m.POLLTIMER.setInterval(0);r.ln=144;this.setrefAVFRAMEWORKMANAGER(null);}r.ln=146;r.e();};cO.mthSTOPENSUREVISIBLELOGIC=function(){var m=this.REF,r=l.mR(this,cO,"StopEnsureVisibleLogic",149);
r.ln=149;{r.ln=151;this.setrefENSUREVISIBLELISTITEM(null);r.ln=152;m.ENSUREVISIBLETIMER.setInterval(0);}r.ln=154;r.e();};function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#EnsureVisibleTimer.Tick",158);r.ln=158;{r.ln=161;if(l.and(this.getVisible(),(m.ENSUREVISIBLELISTITEM!=null))){r.ln=162;m.MESSAGELIST.mthVERTICALSCROLLTO(m.ENSUREVISIBLELISTITEM,"BOTTOM");}r.ln=165;this.mthSTOPENSUREVISIBLELOGIC();}r.ln=167;r.e();};cO.mthADDMESSAGE=function(p0,p1,p2,p3,p4,p5){var f=this.FLD.DF_T5502O,m=this.REF,r=l.mR(this,cO,"AddMessage",170);
var P0=r.cP("SENDER","PRIM_ALPH");var P1=r.cPF("WITHTIME",Fd.F2.Dc);var P2=r.cP("TEXT","PRIM_DC","UnicodeString");var P3=r.cP("SENDTOSERVER","PRIM_BOLN");var P4=r.cPD("TEXTSTYLE");var P5=r.cP("SENDTOVISIBLEMESSAGES","PRIM_BOLN");P0.set(p0);P1.set(p1);P2.set(p2);P3.set(p3);P4=r.sR("TEXTSTYLE",p4);P5.set(p5);r.ln=170;{r.ln=178;if(l.n.gt(m.MESSAGELIST.getItems().getItemCount(),250)){r.ln=179;m.MESSAGELIST.clearList();}r.ln=182;f.F4.set(l.add(l.cat(l.cat(l.cat(cO.mthMAKEDISPLAYTIME.call(this,P1.get())," - "),P0.get())," : "),P2.get()));
r.ln=183;m.MESSAGELIST.addEntry();r.ln=184;m.MESSAGELIST.getCurrentItem().setStyle(P4);r.ln=186;if((m.ENSUREVISIBLELISTITEM==null)){r.ln=187;this.setrefENSUREVISIBLELISTITEM(m.MESSAGELIST.getCurrentItem());r.ln=188;m.ENSUREVISIBLETIMER.setInterval(10);}r.ln=191;if(l.tB(P3.get())){r.ln=192;m.SENDSERVICE.mthEXECUTEASYNC({FLD:{"SENDER":P0.get(),"TEXT":P2.get()}},{});}r.ln=195;if(l.tB(P5.get())){r.ln=196;m.AVFRAMEWORKMANAGER.mthAVISSUEMESSAGE(P2.get(),u,u,this,u,true,u);}}r.ln=199;r.e();};function e2(sender,Ps)
{var m=this.REF,r=l.eR(this,cO,"#PollTimer.Tick",202);r.ln=202;{r.ln=204;m.POLLTIMER.setInterval(0);r.ln=206;this.mthPOLLSERVER();r.ln=208;m.POLLTIMER.setInterval(20000);}r.ln=210;r.e();};cO.mthPOLLSERVER=function(){var li=this.LIST.DF_T5502O,m=this.REF,r=l.mR(this,cO,"PollServer",213);var C0=r.cF("SAVELASTPOLLTIME",Fd.F1.Dc);C0.iC();r.ln=213;{r.ln=217;if(m.REFRESHBUTTON.getEnabled()){r.ln=219;this.setrefENSUREVISIBLELISTITEM(null);r.ln=221;m.ENSUREVISIBLETIMER.setInterval(0);r.ln=223;m.REFRESHBUTTON.setEnabled(false);
r.ln=225;C0.set(m.LASTPOLLTIME.get());r.ln=227;m.LASTPOLLTIME.set(l.dt.Now(m.LASTPOLLTIME.get()));r.ln=229;li.RESULT_MESSAGE_LIST.clearList();r.ln=231;m.RECEIVESERVICE.mthEXECUTEASYNC({FLD:{"AFTERTIME":C0.get(),"SENDER":m.AVFRAMEWORKMANAGER.getAVLOGGEDONUSER()}},{LIST:{"RESULT_MESSAGE_LIST":li.RESULT_MESSAGE_LIST}});}}r.ln=235;r.e();};function e3(sender,Ps){var li=this.LIST.DF_T5502O,f=this.FLD.DF_T5502O,m=this.REF,r=l.eR(this,cO,"#ReceiveService.Completed",238);var C0=r.cF("MESSAGECOUNT",Fd.F3.Dc);
var C1=r.cF("CURRENTTIME",Fd.F2.Dc);C0.iC();C1.iC();r.ln=238;{r.ln=243;{var l1=li.RESULT_MESSAGE_LIST.selectList();while(l1.step()){r.ln=245;this.mthADDMESSAGE(f.F5.get(),f.F1.get(),f.F6.get(),false,m.RECEIVEDMESSAGE,l.b.Not(m.MANUALLYPOLLED.get()));r.ln=247;C0.set(l.add(C0.get(),1));r.ln=249;}l1.end();}r.ln=251;li.RESULT_MESSAGE_LIST.clearList();r.ln=254;if(l.tB(m.MANUALLYPOLLED.get())){r.ln=256;C1.set(l.dt.Now(C1.get()));r.ln=258;this.mthADDMESSAGE(m.UFRAMEWORK.ref.getUCAPTION(),C1.get(),l.cat(l.n.AsString(C0.get())," new alerts or messages found."),false,m.SYSTEMMESSAGE,false);
r.ln=260;m.MANUALLYPOLLED.set(false);}r.ln=264;m.REFRESHBUTTON.setEnabled(true);}r.ln=267;r.e();};function e4(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ReceiveService.Failed",270);var C0=r.cF("CURRENTTIME",Fd.F2.Dc);C0.iC();r.ln=270;{r.ln=274;C0.set(l.dt.Now(C0.get()));r.ln=276;this.mthADDMESSAGE(m.UFRAMEWORK.ref.getUCAPTION(),C0.get(),"Attempt to get messages from server failed.",false,m.SYSTEMMESSAGE,l.b.Not(m.MANUALLYPOLLED.get()));r.ln=278;m.REFRESHBUTTON.setEnabled(true);r.ln=280;m.MANUALLYPOLLED.set(false);
}r.ln=282;r.e();};function e5(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#RefreshButton.Click",285);r.ln=285;{r.ln=287;m.MANUALLYPOLLED.set(true);r.ln=289;this.mthPOLLSERVER();}r.ln=291;r.e();};function e6(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ClearButton.Click",294);r.ln=294;{r.ln=296;this.mthSTOPENSUREVISIBLELOGIC();r.ln=298;m.MESSAGELIST.clearList();}r.ln=300;r.e();};function e7(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ResponseText.Enter",303);var C0=r.cF("CURRENTTIME",Fd.F2.Dc);C0.iC();
r.ln=303;{r.ln=307;this.mthSTOPENSUREVISIBLELOGIC();r.ln=309;if(l.s.ne(l.s.Trim(m.RESPONSETEXT.getValue()),"")){r.ln=311;C0.set(l.dt.Now(C0.get()));r.ln=313;this.mthADDMESSAGE(m.AVFRAMEWORKMANAGER.getAVLOGGEDONUSER(),C0.get(),m.RESPONSETEXT.get(),true,m.RESPONSEMESSAGE,false);r.ln=315;m.RESPONSETEXT.set("");}}r.ln=319;r.e();};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"DF_T60TIM"});}{Fd.F2.Dc=function(){this.aN.call(this,Fd.F2);};l.cFC({co:Fd.F2.Dc,an:"PRIM_FLD",fn:"DATETIMEX"});
}{Fd.F3.Dc=function(){this.aN.call(this,Fd.F3);};l.cFC({co:Fd.F3.Dc,an:"PRIM_FLD",fn:"STD_INT"});}cO.setrefENSUREVISIBLELISTITEM=function(rn){this.sR("ENSUREVISIBLELISTITEM",rn);};cO.setrefAVFRAMEWORKMANAGER=function(rn){this.sR("AVFRAMEWORKMANAGER",rn);};},{rc:["VF_FP001O","VF_SY001O"],rp:["PRIM_PANL","PRIM_ATLM","PRIM_ATLI","PRIM_LABL","PRIM_IMAG","PRIM_EDIT","PRIM_LIST","PRIM_LIST.String","PRIM_PHBN","PRIM_VS.Style","PRIM_TIMR","PRIM_BOLN","PRIM_WEB.DataRequest","PRIM_FLD","PRIM_DTIM"],dc:["VF_SY100O"],
dp:["PRIM_LIST.ListItem"]});
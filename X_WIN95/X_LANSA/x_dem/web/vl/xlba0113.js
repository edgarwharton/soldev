LANSA.addComponent({id:"XLBA0113",nm:"XMsg_Stomp_WebClient",ot:"rp",tp:"Reusable Part",de:"[pkg-integration-lib]",tl:14020401},function(l,oI,u){var cO=l.rC(oI,{an:"PRIM_OBJT",mt:{Connect:{ps:{"Url":{pt:"i"}}},Send:{ps:{"Destination":{pt:"i"},"Body":{pt:"i"},"Properties":{pt:"i"}}},Subscribe:{ps:{"Destination":{pt:"i"}}},Unsubscribe:{ps:{"SubscriptionID":{pt:"i"}}},Disconnect:{},ConvertPropertiesToJsonString:{ps:{"Properties":{pt:"i"}}},ConvertJsonStringToProperties:{ps:{"JsonString":{pt:"i"},"Result":
{pt:"i"}}}},ev:{Connected:{},ConnectFailed:{},Disconnected:{},MessageReceived:{ps:{"MessageId":{pt:"i"},"Body":{pt:"i"},"Properties":{pt:"i"},"ReceivedFrom":{pt:"i"},"SentTo":{pt:"i"}}}},co:function(){cO.aN.call(this);var C0=this.cR("WIDGET","XLBA0112");C0.iC();C0.aH("CONNECTED",this,e1);C0.aH("CONNECTFAILED",this,e2);C0.aH("DISCONNECTED",this,e3);C0.aH("RECEIVEMESSAGE",this,e4);}});cO.mthCONNECT=function(p0){var m=this.REF,r=l.mR(this,cO,"Connect",16);var P0=r.cP("URL","PRIM_DC","UnicodeString");
P0.set(p0);r.ln=16;{r.ln=19;m.WIDGET.mthCONNECT(P0.get());}r.ln=20;r.e();};cO.mthSEND=function(p0,p1,p2){var m=this.REF,r=l.mR(this,cO,"Send",22);var P0=r.cP("DESTINATION","PRIM_DC","UnicodeString");var P1=r.cP("BODY","PRIM_DC","UnicodeString");var P2=r.cPD("PROPERTIES");P0.set(p0);P1.set((p1===u)?(""):(p1));P2=(p2===u)?(null):(p2);var C0=r.cR("PROPERTIESASJSON","PRIM_DC","UnicodeString");C0.iC();r.ln=22;{r.ln=29;C0.set(this.mthCONVERTPROPERTIESTOJSONSTRING(P2));r.ln=31;m.WIDGET.mthSEND(P0.get(),P1.get(),C0.get());
}r.ln=32;r.e();};cO.mthSUBSCRIBE=function(p1){var m=this.REF,r=l.mR(this,cO,"Subscribe",34);var P0=r.cP("SUBSCRIPTIONID","PRIM_DC","UnicodeString");var P1=r.cP("DESTINATION","PRIM_DC","UnicodeString");P1.set(p1);r.ln=34;{r.ln=38;P0.set(m.WIDGET.mthSUBSCRIBE(P1.get()));}r.ln=39;return r.rV(P0.get());};cO.mthUNSUBSCRIBE=function(p0){var m=this.REF,r=l.mR(this,cO,"Unsubscribe",41);var P0=r.cP("SUBSCRIPTIONID","PRIM_DC","UnicodeString");P0.set(p0);r.ln=41;{r.ln=44;m.WIDGET.mthUNSUBSCRIBE(P0.get());}r.ln=45;
r.e();};cO.mthDISCONNECT=function(){var m=this.REF,r=l.mR(this,cO,"Disconnect",47);r.ln=47;{r.ln=48;m.WIDGET.mthDISCONNECT();}r.ln=49;r.e();};function e1(sender,Ps){var r=l.eR(this,cO,"#Widget.Connected",51);r.ln=51;{r.ln=52;this.fE("CONNECTED");}r.ln=53;r.e();};function e2(sender,Ps){var r=l.eR(this,cO,"#Widget.ConnectFailed",55);r.ln=55;{r.ln=56;this.fE("CONNECTFAILED");}r.ln=57;r.e();};function e3(sender,Ps){var r=l.eR(this,cO,"#Widget.Disconnected",59);r.ln=59;{r.ln=60;this.fE("DISCONNECTED");
}r.ln=61;r.e();};function e4(sender,Ps){var r=l.eR(this,cO,"#Widget.ReceiveMessage",63);var P0=Ps.r("BODY");var P1=Ps.r("MESSAGEID");var P2=Ps.r("RECEIVEDFROM");var P3=Ps.r("SENTTO");var P4=Ps.r("PROPERTIES");var C0=r.cR("PROPERTIES","XLBA0117");C0.iC();r.ln=63;{r.ln=66;this.mthCONVERTJSONSTRINGTOPROPERTIES(P4.get(),C0);r.ln=68;{var eP=l.ePs();eP.cR("MESSAGEID","PRIM_DC","UnicodeString");eP.cR("BODY","PRIM_DC","UnicodeString");eP.cD("PROPERTIES");eP.cR("RECEIVEDFROM","PRIM_DC","UnicodeString");eP.cR("SENTTO","PRIM_DC","UnicodeString");
eP.r("MESSAGEID").set(P1.get());eP.r("BODY").set(P0.get());eP.sR("PROPERTIES",C0);eP.r("RECEIVEDFROM").set(P2.get());eP.r("SENTTO").set(P3.get());this.fE("MESSAGERECEIVED",eP);eP.e();}}r.ln=69;r.e();};cO.mthCONVERTPROPERTIESTOJSONSTRING=function(p1){var r=l.mR(this,cO,"ConvertPropertiesToJsonString",71);var P0=r.cP("RESULT","PRIM_DC","UnicodeString");var P1=r.cPD("PROPERTIES");P1=p1;var C0=r.cR("JSONWRITER","XLBA0080");C0.iC();r.ln=71;{r.ln=77;if((P1!=null)){r.ln=78;C0.mthBEGINOBJECT(u);r.ln=79;{
var l1=P1.mthGETALLENTRIES().cI();while(l1.step()){var ENTRY=r.sR("ENTRY",l1.item());r.ln=80;C0.mthSTRING(ENTRY.getPROPERTYVALUE(),ENTRY.getPROPERTYNAME());r.ln=81;}l1.end();r.dR("ENTRY");}r.ln=82;C0.mthENDOBJECT();r.ln=84;P0.set(C0.mthASSTRING());}else{r.ln=86;P0.set("{}");}}r.ln=88;return r.rV(P0.get());};cO.mthCONVERTJSONSTRINGTOPROPERTIES=function(p0,p1){var r=l.mR(this,cO,"ConvertJsonStringToProperties",90);var P0=r.cP("JSONSTRING","PRIM_DC","UnicodeString");var P1=r.cPD("RESULT");P0.set(p0);
P1=p1;var C0=r.cR("JSON","PRIM_WEB","Json");C0.iC();r.ln=90;{r.ln=96;C0.set(P0.get());r.ln=97;{var l1=C0.getRootItem().cI();while(l1.step()){var NODE=r.sR("NODE",l1.item());r.ln=98;P1.set(NODE.getKey(),NODE.mthASSTRING());r.ln=99;}l1.end();r.dR("NODE");}}r.ln=100;r.e();};},{rc:["XLBA0112"],rp:["PRIM_OBJT"],dc:["XLBA0117","XLBA0080"],dp:["PRIM_DC.UnicodeString","PRIM_WEB.Json"]});
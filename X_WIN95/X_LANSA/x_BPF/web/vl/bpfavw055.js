LANSA.addComponent({id:"BPFAVW055",nm:"BPFAdminUserSessionEventsView",ot:"wv",tp:"View",pt:"ap",de:"Portal Admin of User Sessions View",tl:15000300},function(l,oI,u){var cL="ENG";var c1=l.cDT("1900-01-01T00:00:00Z");var Fd={F1:{ic:0,nm:"BPFFLD061",an:"BPFGenericDateTime",ft:"DT",ln:26,dc:0,lb:"Generic Date Ti",h1:"Generic",h2:"Date",h3:"Time",de:"Generic Date Time",dv:l.SqlNull,ia:["ASQN","ISO","SUTC"]},F2:{ic:0,nm:"BPFFLD026",an:"BPFSessionStarted",ft:"DT",ln:26,dc:0,lb:"Session Started",h1:"Session",
h2:"Started",h3:"Date",de:"Session Started Date & Time",dv:l.SqlNull,ia:["ASQN","ISO","SUTC"]},F3:{ic:0,nm:"BPFFLD025",an:"BPFSessionID",ft:"NV",ln:32,dc:0,lb:"Session ID",h1:"Session",h2:"ID",h3:"",de:"Session ID",dv:"",ia:["LC"]}};var cO=l.rC(oI,{an:"PRIM_VIEW",fd:Fd,rm:["dt"],mt:{SetStrings:{},ShowHideFilterControls:{},HandleSessionEventDisplay:{ps:{"SessionData":{pt:"i"}}},AddDayHeader:{ps:{"HeaderText":{pt:"i"}}},AddSessionCard:{ps:{"CardTimes":{pt:"i"},"CardDuration":{pt:"i"},"CardCount":{pt:"i"
}}},CreateLayoutItem:{ps:{"For":{pt:"i"}}},SetListActionDisplay:{ps:{"Visible":{pt:"i"},"Style":{pt:"i"},"DrawStyle":{pt:"i"},"Message":{pt:"i"}}},BuildLabelFilter:{},HandleDeviceChange:{}},co:function(){cO.aN.call(this);this.aF("BPFAVW055",Fd);var C0=this.cA("SESSION","BPFAPP002");var C1=this.cA("NAVIGATE","BPFAPP001");var C2=this.cA("DATA","BPFAPP000");var C3=this.cR("STRINGS","BPFVLR055");this.cD("USERACCOUNTS");var C5=this.cR("ROUNDEDCORNERSTYLE","PRIM_VS","Style");var C6=this.cR("NAVIGATIONLINKSTYLE","PRIM_VS","Style");
var C7=this.cR("LOADMOREDISPLAYSTYLE","PRIM_VS","Style");var C8=this.cR("MAINLAYOUT","PRIM_TBLO");var C9=this.cR("MAINLAYOUTCOLUMN1","PRIM_TBLO","Column");var C10=this.cR("MAINLAYOUTCOLUMN2","PRIM_TBLO","Column");var C11=this.cR("MAINLAYOUTCOLUMN3","PRIM_TBLO","Column");var C12=this.cR("MAINLAYOUTCOLUMN4","PRIM_TBLO","Column");var C13=this.cR("MAINLAYOUTCOLUMN5","PRIM_TBLO","Column");var C14=this.cR("MAINLAYOUTCOLUMN6","PRIM_TBLO","Column");var C15=this.cR("MAINLAYOUTROW1","PRIM_TBLO","Row");var C16=this.cR("MAINLAYOUTROW2","PRIM_TBLO","Row");
var C17=this.cR("MAINLAYOUTROW3","PRIM_TBLO","Row");var C18=this.cR("MAINLAYOUTROW4","PRIM_TBLO","Row");var C19=this.cR("MAINLAYOUTITEM1","PRIM_TBLO","Item");var C20=this.cR("MAINLAYOUTITEM2","PRIM_TBLO","Item");var C21=this.cR("MAINLAYOUTITEM3","PRIM_TBLO","Item");var C22=this.cR("MAINLAYOUTITEM4","PRIM_TBLO","Item");var C23=this.cR("MAINLAYOUTITEM5","PRIM_TBLO","Item");var C24=this.cR("MAINLAYOUTITEM6","PRIM_TBLO","Item");var C25=this.cR("PANELHEADING","PRIM_MD","Label");var C26=this.cR("FILTERSHOWACTION","PRIM_MD","Icon");
var C27=this.cR("INSTRUCTIONTEXT","PRIM_MD","Label");var C28=this.cF("STARTINGDATE",Fd.F1.DATETIMEFIELD);var C29=this.cR("EVENTTYPE","PRIM_MD","Dropdown");var C30=this.cR("LOADMOREACTION","PRIM_MD","Label");this.cD("CURRENTACCOUNT");var C32=this.cF("NEXTLOADDATE",Fd.F1.Dc);var C33=this.cF("LASTADDEDDATE",Fd.F1.Dc);var C34=this.cR("EVENTTYPELOADING","PRIM_BOLN");var C35=this.cR("MAINLAYOUTITEMS","PRIM_LCOL");var C36=this.cR("DAYHEADERS","PRIM_LCOL");var C37=this.cR("SESSIONCARDS","PRIM_LCOL");if((C0!=null)&&(C0.iI()==false))
{C0.iC();}if((C1!=null)&&(C1.iI()==false)){C1.iC();}if((C2!=null)&&(C2.iI()==false)){C2.iC();}C3.iC();C5.setCornerBottomLeft(8);C5.setCornerBottomRight(8);C5.setCornerTopLeft(8);C5.setCornerTopRight(8);C5.iC();C6.setCursor("HAND");C6.iC();C7.setFontWeight("WEIGHT500");C7.setCursor("HAND");C7.iC();C8.setMarginTop(24);C8.setMarginBottom(24);C8.iC();C9.setDisplayPosition(1);C9.setParent(C8);C9.setMinWidth(8);C9.iC();C10.setDisplayPosition(2);C10.setParent(C8);C10.setMaxWidth(60);C10.iC();C11.setDisplayPosition(3);
C11.setParent(C8);C11.setWidth(43);C11.setMinWidth(140);C11.setMaxWidth(440);C11.iC();C12.setDisplayPosition(4);C12.setParent(C8);C12.setWidth(43);C12.setMinWidth(140);C12.setMaxWidth(440);C12.iC();C13.setDisplayPosition(5);C13.setParent(C8);C13.setMaxWidth(60);C13.iC();C14.setDisplayPosition(6);C14.setParent(C8);C14.setMinWidth(8);C14.iC();C15.setDisplayPosition(1);C15.setParent(C8);C15.setHeight(91);C15.setUnits("CONTENT");C15.iC();C16.setDisplayPosition(2);C16.setParent(C8);C16.setHeight(100);
C16.setUnits("CONTENT");C16.iC();C17.setDisplayPosition(3);C17.setParent(C8);C17.setHeight(10);C17.setUnits("CONTENT");C17.iC();C18.setDisplayPosition(4);C18.setParent(C8);C18.setHeight(80);C18.setUnits("CONTENT");C18.setMinHeight(24);C18.iC();C19.setAlignment("TOPLEFT");C19.setColumn(C10);C19.setManage(C25);C19.setParent(C8);C19.setRow(C15);C19.setSizing("CONTENTWIDTH");C19.setFlow("DOWN");C19.setColumnSpan(3);C19.iC();C20.setAlignment("TOPLEFT");C20.setColumn(C10);C20.setManage(C27);C20.setParent(C8);
C20.setRow(C15);C20.setSizing("CONTENTHEIGHTFITTOWIDTH");C20.setFlow("DOWN");C20.setMarginTop(24);C20.setColumnSpan(3);C20.iC();C21.setAlignment("TOPLEFT");C21.setColumn(C11);C21.setManage(C28);C21.setParent(C8);C21.setRow(C16);C21.setSizing("FITTOWIDTH");C21.setMarginTop(24);C21.setMarginRight(12);C21.setFlow("DOWN");C21.iC();C22.setAlignment("TOPLEFT");C22.setColumn(C12);C22.setManage(C29);C22.setParent(C8);C22.setRow(C16);C22.setSizing("FITTOWIDTH");C22.setMarginTop(24);C22.setMarginLeft(12);C22.setFlow("DOWN");
C22.iC();C23.setManage(C30);C23.setParent(C8);C23.setRow(C18);C23.setSizing("FITTOWIDTH");C23.setColumn(C11);C23.setAlignment("TOPLEFT");C23.setColumnSpan(2);C23.setFlow("DOWN");C23.setMarginTop(24);C23.iC();C24.setAlignment("TOPRIGHT");C24.setColumn(C12);C24.setManage(C26);C24.setParent(C8);C24.setRow(C15);C24.setSizing("NONE");C24.iC();C25.setDisplayPosition(1);C25.setLeft(350);C25.setParent(this);C25.setTabPosition(1);C25.setThemeDrawStyle("Heading1");C25.setTop(24);C25.setWidth(174);C25.setIcon("arrow_back");
C25.setCaptionMarginLeft(24);C25.setHeight(48);C25.setWordWrap(true);C25.setStyle(C6);C25.setCaption("View Session Events");C25.iC();C26.setDisplayPosition(2);C26.setIcon("filter_list");C26.setLeft(1242);C26.setParent(this);C26.setTabPosition(6);C26.setTop(24);C26.setThemeDrawStyle("ForegroundMediumPrimary");C26.setStyle(C6);C26.iC();C27.setCaptionAlignment("TOPLEFT");C27.setDisplayPosition(3);C27.setHeight(19);C27.setLeft(350);C27.setParent(this);C27.setTabPosition(2);C27.setTop(96);C27.setWidth(940);
C27.setWordWrap(true);C27.setCaption("View the events generated by the users activities during their sessions on the portal");C27.iC();C28.setDisplayPosition(4);C28.setLeft(410);C28.setParent(this);C28.setTabPosition(5);C28.setTop(139);C28.setWidth(428);C28.setCaptionType("CAPTION");C28.setCaption("Starting From");C28.setIcon("today");C28.setOpacity(87);C28.setPromptPosition("SCREENCENTER");C28.setVisible(false);C28.aD();C28.iC();C29.setCaption("Event Label");C29.setDisplayPosition(5);C29.setLeft(862);
C29.setParent(this);C29.setTabPosition(3);C29.setTop(139);C29.setWidth(428);C29.setHeight(76);C29.setIcon("label");C29.setOpacity(87);C29.setVisible(false);C29.iC();C30.setCaption("Load More");C30.setDisplayPosition(6);C30.setLeft(410);C30.setParent(this);C30.setTabPosition(4);C30.setThemeDrawStyle("ForegroundMediumPrimary");C30.setTop(249);C30.setHeight(56);C30.setWidth(880);C30.setStyle(C7);C30.setCaptionAlignment("CENTER");C30.iC();C32.aD();C32.iC();C33.aD();C33.iC();C34.iC();C35.setCollects("PRIM_TBLO.Item");
C35.iC();C36.setCollects("PRIM_MD.Label");C36.iC();C37.setCollects("BPFUDC005");C37.iC();l.WEB().aH("DEVICECHANGED",this,e3);C25.aH("CLICK",this,e4);C26.aH("CLICK",this,e8);C28.aH("CHANGED",this,e5);C29.aH("CHANGED",this,e5);C29.aH("PROMPTING",this,e6);C30.aH("CLICK",this,e7);this.setDisplayPosition(1);this.setTabPosition(1);this.setWidth(1700);this.setHeight(800);this.setLayoutManager(C8);this.setVerticalScroll(true);this.setComponentTag("BPFAPP008");this.aH("CREATEINSTANCE",this,e1);this.aH("INITIALIZE",this,e2);
}});function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.CreateInstance",71);r.ln=71;{r.ln=74;this.setrefUSERACCOUNTS(l.cast(m.DATA.ref.mthGETDATACLIENT(this),"BPFAPP008"));}r.ln=76;r.e();};function e2(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.Initialize",79);r.ln=79;{r.ln=82;this.setrefCURRENTACCOUNT(m.USERACCOUNTS.getUSERACCOUNT(l.s.UpperCase(l.WEB().getURLParameters().get("VALUE").getValue())));r.ln=85;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");r.ln=86;this.mthSETSTRINGS();
r.ln=89;this.mthHANDLEDEVICECHANGE();r.ln=94;this.mthSETLISTACTIONDISPLAY(true,null,null,m.STRINGS.getTEXT("LOADMOREACTION.LOAD"));r.ln=96;if((l.WEB().getURLParameters().get("STARTING")!=null)){r.ln=98;if(l.s.IsDate(l.WEB().getURLParameters().get("STARTING").getValue(),"CCYYMMDD")){r.ln=99;m.STARTINGDATE.set(l.s.AsDate(l.WEB().getURLParameters().get("STARTING").getValue(),"CCYYMMDD"));}r.ln=102;this.mthSHOWHIDEFILTERCONTROLS();}r.ln=106;if((l.WEB().getURLParameters().get("LABEL")!=null)){r.ln=108;
m.EVENTTYPE.set(l.WEB().getURLParameters().get("LABEL").getValue());}r.ln=112;if((m.CURRENTACCOUNT!=null)){r.ln=114;m.CURRENTACCOUNT.mthGETSESSIONEVENTS(l.d.Adjust(l.dt.Date(m.STARTINGDATE.get()),1),m.EVENTTYPE.get());}else{r.ln=118;m.USERACCOUNTS.mthGETUSERACCOUNTSBYID(l.s.UpperCase(l.WEB().getURLParameters().get("VALUE").getValue()));}}r.ln=122;r.e();};function e3(sender,Ps){var r=l.eR(this,cO,"#SYS_WEB.DeviceChanged",125);r.ln=125;{r.ln=128;this.mthHANDLEDEVICECHANGE();}r.ln=130;r.e();};function e4(sender,Ps)
{var r=l.eR(this,cO,"#PanelHeading.Click",133);r.ln=133;{r.ln=136;l.WEB().getHistory().mthGOBACK(u);}r.ln=138;r.e();};function e5(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#StartingDate.Changed #EventType.Changed",141);r.ln=141;{r.ln=143;if(l.tB(l.or(l.b.IsFalse(m.EVENTTYPE.getVisible()),m.EVENTTYPELOADING.get()))){r.e();return;}r.ln=148;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");r.ln=151;if(l.d.IsNotSqlNull(l.dt.Date(m.STARTINGDATE.get()))){r.ln=153;l.WEB().getHistory().mthREPLACE(l.cat(l.cat(l.cat(l.cat(l.cat(l.cat(l.cat("event=",l.s.LowerCase(m.NAVIGATE.ref.getCURRENTEVENT().getEVENTNAME())),"&value="),m.NAVIGATE.ref.getVALUEINQUERYSTRING()),"&starting="),l.d.AsDisplayString(l.d.Adjust(l.dt.Date(m.STARTINGDATE.get()),1),"CCYYMMDD")),"&label="),m.EVENTTYPE.get()),false);
}else{r.ln=157;l.WEB().getHistory().mthREPLACE(l.cat(l.cat(l.cat(l.cat(l.cat("event=",l.s.LowerCase(m.NAVIGATE.ref.getCURRENTEVENT().getEVENTNAME())),"&value="),m.NAVIGATE.ref.getVALUEINQUERYSTRING()),"&starting=&label="),m.EVENTTYPE.get()),false);}r.ln=162;m.DAYHEADERS.mthREMOVEALL();r.ln=163;m.SESSIONCARDS.mthREMOVEALL();r.ln=164;m.MAINLAYOUTITEMS.mthREMOVEALL();r.ln=167;m.LASTADDEDDATE.set(l.SqlNull);r.ln=168;this.mthSETLISTACTIONDISPLAY(true,null,null,m.STRINGS.getTEXT("LOADMOREACTION.LOAD"));
r.ln=169;m.CURRENTACCOUNT.mthGETSESSIONEVENTS(l.d.Adjust(l.dt.Date(m.STARTINGDATE.get()),1),m.EVENTTYPE.get());}r.ln=171;r.e();};function e6(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#EventType.Prompting",173);r.ln=173;{r.ln=175;if(l.n.eq(m.EVENTTYPE.getItems().getItemCount(),0)){r.ln=177;this.mthBUILDLABELFILTER();}}r.ln=181;r.e();};function e7(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#LoadMoreAction.Click",184);r.ln=184;{r.ln=186;if(l.s.ne(l.s.UpperCase(m.LOADMOREACTION.getCaption()),l.s.UpperCase(m.STRINGS.getTEXT("LOADMOREACTION.MORE"))))
{r.e();return;}r.ln=192;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");r.ln=195;this.mthSETLISTACTIONDISPLAY(true,null,null,m.STRINGS.getTEXT("LOADMOREACTION.LOAD"));r.ln=196;m.CURRENTACCOUNT.mthGETSESSIONEVENTS(m.NEXTLOADDATE.get(),m.EVENTTYPE.get());}r.ln=198;r.e();};function e8(sender,Ps){var r=l.eR(this,cO,"#FilterShowAction.Click",200);r.ln=200;{r.ln=202;this.mthSHOWHIDEFILTERCONTROLS();}r.ln=204;r.e();};function e9(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#UserAccounts.OnGetUserAccountCompleted",208);
r.ln=208;{r.ln=211;this.setrefCURRENTACCOUNT(m.USERACCOUNTS.getUSERACCOUNT(l.WEB().getURLParameters().get("VALUE").getValue()));r.ln=213;m.CURRENTACCOUNT.mthGETSESSIONEVENTS(l.d.Adjust(l.dt.Date(m.STARTINGDATE.get()),1),m.EVENTTYPE.get());}r.ln=215;r.e();};function e10(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#UserAccounts.OnGetUserAccountFailed",217);r.ln=217;{r.ln=220;l.gW("BPFPORTAL").mthSHOWTOASTER(m.STRINGS.getTEXT("USERACCOUNTS.ONGETUSERACCOUNTFAILED"),7500);r.ln=223;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");
}r.ln=225;r.e();};function e11(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CurrentAccount.OnGetSessionEventsCompleted",227);var P0=Ps.r("SESSIONDATA");var P1=Ps.r("NEXTREADDATE");r.ln=227;{r.ln=230;m.NEXTLOADDATE.set(P1.get());r.ln=232;this.mthHANDLESESSIONEVENTDISPLAY(P0);r.ln=234;if(l.dt.IsSqlNull(P1.get())){r.ln=236;this.mthSETLISTACTIONDISPLAY(false);}else{r.ln=240;this.mthSETLISTACTIONDISPLAY(true,m.LOADMOREDISPLAYSTYLE,"FOREGROUNDMEDIUMPRIMARY",m.STRINGS.getTEXT("LOADMOREACTION.MORE"));}r.ln=244;
l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");}r.ln=246;r.e();};function e12(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CurrentAccount.OnGetSessionEventsFailed",248);r.ln=248;{r.ln=250;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");r.ln=251;l.gW("BPFPORTAL").mthSHOWTOASTER(m.STRINGS.getTEXT("CURRENTACCOUNT.ONGETSESSIONEVENTSFAILED"),7500);}r.ln=253;r.e();};cO.mthSETSTRINGS=function(){var m=this.REF,r=l.mR(this,cO,"SetStrings",257);r.ln=257;{r.ln=259;m.PANELHEADING.setCaption(m.STRINGS.getTEXT("PANELHEADING.CAPTION"));
r.ln=260;m.INSTRUCTIONTEXT.setCaption(m.STRINGS.getTEXT("INSTRUCTIONTEXT.CAPTION"));r.ln=261;m.STARTINGDATE.setCaption(m.STRINGS.getTEXT("STARTINGDATE.CAPTION"));r.ln=262;m.EVENTTYPE.setCaption(m.STRINGS.getTEXT("EVENTTYPE.CAPTION"));}r.ln=264;r.e();};cO.mthSHOWHIDEFILTERCONTROLS=function(){var m=this.REF,r=l.mR(this,cO,"ShowHideFilterControls",266);r.ln=266;{r.ln=268;m.STARTINGDATE.setVisible(l.not(m.STARTINGDATE.getVisible()));r.ln=269;m.EVENTTYPE.setVisible(l.not(m.EVENTTYPE.getVisible()));}r.ln=271;
r.e();};cO.mthHANDLESESSIONEVENTDISPLAY=function(p0){var m=this.REF,r=l.mR(this,cO,"HandleSessionEventDisplay",273);var P0=r.cPD("SESSIONDATA");P0=r.sR("SESSIONDATA",p0);var C0=r.cF("PREVIOUSDATETIME",Fd.F2.Dc);var C1=r.cF("PREVIOUSEVENT",Fd.F3.Dc);C0.iC();C1.iC();r.ln=273;{r.ln=281;C0.set(m.LASTADDEDDATE.get());r.ln=284;{var l1=P0.cI();while(l1.step()){var ITEM=r.sR("ITEM",l1.item());r.ln=287;if(l.dt.ne(l.dt.Date(C0.get()),l.dt.Date(ITEM.getSTARTED()))){r.ln=290;this.mthADDDAYHEADER(l.cat(l.cat(l.d.AsDisplayString(l.dt.Date(ITEM.getSTARTED()),"ML_DDDDDDDDD"),", "),l.d.AsDisplayString(l.dt.Date(ITEM.getSTARTED()),"ML_DDBMMMMMMMMMBCCYY")));
r.ln=293;C0.set(ITEM.getSTARTED());}r.ln=297;if(l.s.ne(C1.get(),ITEM.getIDENTIFIER())){r.ln=300;this.mthADDSESSIONCARD(l.cat(l.cat(l.s.Substring(l.t.AsDisplayString(l.dt.Time(ITEM.getSTARTED()),"HHSMMSSS"),1,5)," -  "),l.s.Substring(l.t.AsDisplayString(l.dt.Time(ITEM.getENDED()),"HHSMMSSS"),1,5)),l.cat(l.n.AsString(ITEM.getDURATION())," mins"),l.cat(l.n.AsString(ITEM.getEVENTCOUNT())," Events"));r.ln=303;C1.set(ITEM.getIDENTIFIER());}r.ln=308;m.SESSIONCARDS.getLast().getEVENTTEXT().setCaption(l.cat(m.SESSIONCARDS.getLast().getEVENTTEXT().getCaption(),l.cat(l.cat(l.cat(l.t.AsDisplayString(l.dt.Time(ITEM.getEVENTDATETIME()),"HHSMMSSS"),"  -  "),ITEM.getEVENT()),l.n.AsUnicodeString(10))));
r.ln=310;}l1.end();r.dR("ITEM");}r.ln=313;m.LASTADDEDDATE.set(C0.get());}r.ln=315;r.e();};cO.mthADDDAYHEADER=function(p0){var m=this.REF,r=l.mR(this,cO,"AddDayHeader",317);var P0=r.cP("HEADERTEXT","PRIM_ALPH");P0.set(p0);r.ln=317;{r.ln=324;m.MAINLAYOUTITEMS.mthINSERT(this.mthCREATELAYOUTITEM("DAYHEADER"));r.ln=327;m.DAYHEADERS.mthINSERT(l.cC("PRIM_MD","Label"));r.ln=330;m.DAYHEADERS.getLast().setDisplayPosition(l.zap(l.add(m.MAINLAYOUTITEMS.getItemCount(),6),10,0));r.ln=331;m.DAYHEADERS.getLast().setHeight(60);
r.ln=332;m.DAYHEADERS.getLast().setCaption(P0.get());r.ln=333;m.DAYHEADERS.getLast().setCaptionMarginLeft(16);r.ln=334;m.DAYHEADERS.getLast().setStyle(m.ROUNDEDCORNERSTYLE);r.ln=336;if(l.s.eq(l.WEB().getWebPage().getThemeBackground(),"LIGHT")){r.ln=338;m.DAYHEADERS.getLast().setThemeDrawStyle("Heading3+Back(240,240,240,1)");}else{r.ln=342;m.DAYHEADERS.getLast().setThemeDrawStyle("Heading3+Back(80,80,80,1)");}r.ln=347;m.MAINLAYOUTITEMS.getLast().setManage(m.DAYHEADERS.getLast());r.ln=350;m.MAINLAYOUTITEMS.getLast().setParent(m.MAINLAYOUT);
r.ln=351;m.DAYHEADERS.getLast().setParent(this);}r.ln=353;r.e();};cO.mthADDSESSIONCARD=function(p0,p1,p2){var m=this.REF,r=l.mR(this,cO,"AddSessionCard",355);var P0=r.cP("CARDTIMES","PRIM_ALPH");var P1=r.cP("CARDDURATION","PRIM_ALPH");var P2=r.cP("CARDCOUNT","PRIM_ALPH");P0.set(p0);P1.set(p1);P2.set(p2);r.ln=355;{r.ln=364;m.MAINLAYOUTITEMS.mthINSERT(this.mthCREATELAYOUTITEM("SESSION"));r.ln=367;m.SESSIONCARDS.mthINSERT(l.cC("BPFUDC005"));r.ln=370;m.SESSIONCARDS.getLast().setDisplayPosition(l.zap(l.add(m.MAINLAYOUTITEMS.getItemCount(),6),10,0));
r.ln=371;m.SESSIONCARDS.getLast().getTIMESLABEL().set(P0.get());r.ln=372;m.SESSIONCARDS.getLast().getDURATIONLABEL().set(P1.get());r.ln=373;m.SESSIONCARDS.getLast().getCOUNTLABEL().set(P2.get());r.ln=376;m.MAINLAYOUTITEMS.getLast().setManage(m.SESSIONCARDS.getLast());r.ln=379;m.MAINLAYOUTITEMS.getLast().setParent(m.MAINLAYOUT);r.ln=380;m.SESSIONCARDS.getLast().setParent(this);}r.ln=382;r.e();};cO.mthCREATELAYOUTITEM=function(p0){var m=this.REF,r=l.mR(this,cO,"CreateLayoutItem",384);var P0=r.cP("FOR","PRIM_ALPH");
var P1=r.cPD("RESULT");P0.set(p0);r.ln=384;{r.ln=388;P1=r.sR("P1",l.cC("PRIM_TBLO","Item"));r.ln=396;P1.setAlignment("TOPLEFT");r.ln=397;P1.setColumn(m.MAINLAYOUTCOLUMN3);r.ln=398;P1.setColumnSpan(2);r.ln=399;P1.setRow(m.MAINLAYOUTROW3);r.ln=400;P1.setFlow("DOWN");r.ln=403;if(l.tB(l.s.eq(P0.get(),"DAYHEADER"))){r.ln=405;P1.setSizing("FITTOWIDTH");r.ln=406;P1.setMarginTop(24);}r.ln=410;if(l.tB(l.s.eq(P0.get(),"SESSION"))){r.ln=412;P1.setSizing("CONTENTHEIGHTFITTOWIDTH");r.ln=413;P1.setMarginTop(16);
}}r.ln=417;return r.rR(P1);};cO.mthSETLISTACTIONDISPLAY=function(p0,p1,p2,p3){var m=this.REF,r=l.mR(this,cO,"SetListActionDisplay",419);var P0=r.cP("VISIBLE","PRIM_BOLN");var P1=r.cPD("STYLE");var P2=r.cP("DRAWSTYLE","PRIM_ALPH");var P3=r.cP("MESSAGE","PRIM_ALPH");P0.set(p0);P1=r.sR("STYLE",(p1===u)?(null):(p1));P2.set((p2===u)?(null):(p2));P3.set((p3===u)?(null):(p3));r.ln=419;{r.ln=425;if(l.tB(P0.get())){r.ln=428;m.LOADMOREACTION.setStyle(P1);r.ln=429;m.LOADMOREACTION.setThemeDrawStyle(P2.get());
r.ln=432;m.LOADMOREACTION.set(P3.get());}else{r.ln=440;m.LOADMOREACTION.set("");}}r.ln=444;r.e();};cO.mthBUILDLABELFILTER=function(){var m=this.REF,r=l.mR(this,cO,"BuildLabelFilter",446);r.ln=446;{r.ln=449;m.EVENTTYPELOADING.set(true);r.ln=452;m.EVENTTYPE.getItems().mthREMOVEALL();r.ln=455;m.EVENTTYPE.getItems().mthADD(null,u);r.ln=458;{var l1=m.SESSION.ref.getEVENTLABELS().cI();while(l1.step()){var ITEM=r.sR("ITEM",l1.item());r.ln=460;m.EVENTTYPE.getItems().mthADD(ITEM.getLABEL(),u);r.ln=462;}l1.end();
r.dR("ITEM");}r.ln=465;m.EVENTTYPELOADING.set(false);}r.ln=467;r.e();};cO.mthHANDLEDEVICECHANGE=function(){var m=this.REF,r=l.mR(this,cO,"HandleDeviceChange",469);r.ln=469;{r.ln=471;if(l.s.eq(l.WEB().getDevice(),"MOBILE")){r.ln=474;m.MAINLAYOUTITEM3.setMarginRight(0);m.MAINLAYOUTITEM4.setMarginLeft(0);r.ln=475;m.MAINLAYOUTITEM3.setColumnSpan(2);m.MAINLAYOUTITEM4.setColumnSpan(2);r.ln=476;m.MAINLAYOUTITEM4.setColumn(m.MAINLAYOUTCOLUMN3);}else{r.ln=481;m.MAINLAYOUTITEM3.setMarginRight(12);m.MAINLAYOUTITEM4.setMarginLeft(12);
r.ln=482;m.MAINLAYOUTITEM3.setColumnSpan(1);m.MAINLAYOUTITEM4.setColumnSpan(1);r.ln=483;m.MAINLAYOUTITEM4.setColumn(m.MAINLAYOUTCOLUMN4);}}r.ln=487;r.e();};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"BPFFLD061"});Fd.F1.DATETIMEFIELD=function(){this.aN.call(this,new Fd.F1.Dc());};l.cFC({co:Fd.F1.DATETIMEFIELD,an:"PRIM_MD",at:"DateTimeField",fn:"BPFFLD061",cn:"DateTimeField"});}{Fd.F2.Dc=function(){this.aN.call(this,Fd.F2);};l.cFC({co:Fd.F2.Dc,an:"PRIM_FLD",fn:"BPFFLD026"});
}{Fd.F3.Dc=function(){this.aN.call(this,Fd.F3);};l.cFC({co:Fd.F3.Dc,an:"PRIM_FLD",fn:"BPFFLD025"});}cO.setrefUSERACCOUNTS=function(rn){if(this.REF.USERACCOUNTS!=null){this.REF.USERACCOUNTS.rH("ONGETUSERACCOUNTCOMPLETED",this,e9);this.REF.USERACCOUNTS.rH("ONGETUSERACCOUNTFAILED",this,e10);}this.sR("USERACCOUNTS",rn);if(this.REF.USERACCOUNTS!=null){this.REF.USERACCOUNTS.aH("ONGETUSERACCOUNTCOMPLETED",this,e9);this.REF.USERACCOUNTS.aH("ONGETUSERACCOUNTFAILED",this,e10);}};cO.setrefCURRENTACCOUNT=function(rn)
{if(this.REF.CURRENTACCOUNT!=null){this.REF.CURRENTACCOUNT.rH("ONGETSESSIONEVENTSCOMPLETED",this,e11);this.REF.CURRENTACCOUNT.rH("ONGETSESSIONEVENTSFAILED",this,e12);}this.sR("CURRENTACCOUNT",rn);if(this.REF.CURRENTACCOUNT!=null){this.REF.CURRENTACCOUNT.aH("ONGETSESSIONEVENTSCOMPLETED",this,e11);this.REF.CURRENTACCOUNT.aH("ONGETSESSIONEVENTSFAILED",this,e12);}};},{rc:["BPFAPP002","BPFAPP001","BPFAPP000","BPFVLR055"],rp:["PRIM_VIEW","PRIM_VS.Style","PRIM_TBLO","PRIM_TBLO.Column","PRIM_TBLO.Row","PRIM_TBLO.Item","PRIM_MD.Label","PRIM_MD.Icon","PRIM_FLD","PRIM_MD.DateTimeField","PRIM_MD.Dropdown","PRIM_BOLN","PRIM_LCOL","PRIM_DTIM"],
dc:["BPFAPP008","BPFCLS013","BPFUDC005"]});
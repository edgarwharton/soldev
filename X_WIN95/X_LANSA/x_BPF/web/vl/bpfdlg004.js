LANSA.addComponent({id:"BPFDLG004",nm:"BPFPasswordResetDialog",ot:"wv",tp:"Dialog",pt:"ap",de:"Portal Request & Reset Password Dialog",tl:15000300},function(l,oI,u){var cO=l.rC(oI,{an:"PRIM_DLG",pt:{Completed:{da:"rw"},CheckToken:{da:"r"},UserQuestion:{da:"r"}},mt:{ShowDialog:{},HandleClose:{},SetWaitingState:{ps:{"ToState":{pt:"i"}}},ChangetoPanel:{ps:{"ToPanel":{pt:"i"}}},HandleDeviceChanged:{},DestroyDialogObjects:{}},co:function(){cO.aN.call(this);this.cD("SESSION");this.cD("NAVIGATE");var C2=this.cR("STYLE1","PRIM_VS","Style");
var C3=this.cR("BRUSH1","PRIM_VS","SolidBrush");var C4=this.cR("DIALOGLAYOUT","PRIM_TBLO");var C5=this.cR("DIALOGLAYOUTCOLUMN1","PRIM_TBLO","Column");var C6=this.cR("DIALOGLAYOUTCOLUMN2","PRIM_TBLO","Column");var C7=this.cR("DIALOGLAYOUTCOLUMN3","PRIM_TBLO","Column");var C8=this.cR("DIALOGLAYOUTROW1","PRIM_TBLO","Row");var C9=this.cR("DIALOGLAYOUTROW2","PRIM_TBLO","Row");var C10=this.cR("DIALOGLAYOUTROW3","PRIM_TBLO","Row");var C11=this.cR("DIALOGLAYOUTROW4","PRIM_TBLO","Row");var C12=this.cR("DIALOGLAYOUTITEM3","PRIM_TBLO","Item");
var C13=this.cR("DIALOGLAYOUTITEM4","PRIM_TBLO","Item");var C14=this.cR("DIALOGLAYOUTITEM5","PRIM_TBLO","Item");var C15=this.cR("DIALOGLAYOUTITEM1","PRIM_TBLO","Item");var C16=this.cR("PROGRESSBAR","PRIM_MD","ProgressBar");var C17=this.cR("COVERPANEL","PRIM_PANL");var C18=this.cR("DIALOGTITLE","PRIM_MD","Label");var C19=this.cR("VIEWPANELS","PRIM_MD","ViewContainer");var C20=this.cR("PANELLAYOUTITEMS","PRIM_LCOL");this.cD("CURRENTPANEL");var C22=this.cR("ANIMATION","PRIM_ANIM");var C23=this.cR("ITEM1","PRIM_ANIM","Transition");
var C24=this.cR("COMPLETED","PRIM_BOLN");var C25=this.cR("CHECKTOKEN","PRIM_ALPH");var C26=this.cR("USERSECURITYQUESTION","PRIM_ALPH");C2.setBackgroundBrush(C3);C2.iC();C3.setColor("255:255:255");C3.setOpacity(75);C3.iC();C4.iC();C5.setDisplayPosition(1);C5.setParent(C4);C5.setUnits("PIXELS");C5.setWidth(40);C5.iC();C6.setDisplayPosition(2);C6.setParent(C4);C6.iC();C7.setDisplayPosition(3);C7.setParent(C4);C7.setUnits("PIXELS");C7.setWidth(40);C7.iC();C8.setDisplayPosition(1);C8.setParent(C4);C8.setHeight(48);
C8.setUnits("PIXELS");C8.iC();C9.setDisplayPosition(3);C9.setParent(C4);C9.setMinHeight(426);C9.iC();C10.setDisplayPosition(4);C10.setParent(C4);C10.setHeight(36);C10.setUnits("PIXELS");C10.iC();C11.setDisplayPosition(2);C11.setParent(C4);C11.setHeight(26);C11.setUnits("PIXELS");C11.iC();C12.setAlignment("TOPCENTER");C12.setColumn(C5);C12.setManage(C16);C12.setParent(C4);C12.setRow(C8);C12.setSizing("FITTOWIDTH");C12.setColumnSpan(3);C12.iC();C13.setAlignment("TOPLEFT");C13.setColumn(C6);C13.setManage(C18);
C13.setParent(C4);C13.setRow(C11);C13.setSizing("CONTENTWIDTHFITTOHEIGHT");C13.iC();C14.setAlignment("TOPCENTER");C14.setColumn(C5);C14.setManage(C17);C14.setParent(C4);C14.setRow(C8);C14.setRowSpan(4);C14.setColumnSpan(3);C14.setMarginTop(4);C14.setMarginBottom(1);C14.iC();C15.setAlignment("TOPCENTER");C15.setColumn(C6);C15.setManage(C19);C15.setParent(C4);C15.setRow(C9);C15.iC();C16.setDisplayPosition(2);C16.setMode("INDETERMINATE");C16.setParent(this);C16.setTabPosition(1);C16.setThemeDrawStyle("Theme100+ForegroundTheme500");
C16.setWidth(748);C16.setVisible(false);C16.iC();C17.setDisplayPosition(1);C17.setHeight(533);C17.setLeft(0);C17.setParent(this);C17.setTabPosition(3);C17.setTabStop(false);C17.setTop(4);C17.setWidth(748);C17.setStyle(C2);C17.setVisible(false);C17.iC();C18.setCaption("myPortal");C18.setDisplayPosition(3);C18.setLeft(40);C18.setParent(this);C18.setTabPosition(2);C18.setThemeDrawStyle("Heading3+ForegroundMediumPrimary");C18.setTop(48);C18.setWidth(58);C18.setHeight(26);C18.iC();C19.setParent(this);
C19.setDisplayPosition(4);C19.setTabPosition(4);C19.setTop(74);C19.setLeft(40);C19.setHeight(428);C19.setWidth(668);C19.iC();C20.setCollects("PRIM_TBLO.Item");C20.iC();C22.iC();C23.setParent(C22);C23.setDuration(250);C23.setTransitionType("MOVETOLEFTFROMRIGHT");C23.iC();C24.iC();C25.iC();C26.iC();l.WEB().aH("DEVICECHANGED",this,e3);this.setThemeDrawStyle("Card");this.setHeight(538);this.setWidth(748);this.setLayoutManager(C4);this.setVerticalScroll(true);this.aH("CREATEINSTANCE",this,e1);this.aH("PREPARE",this,e2);
}});function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.CreateInstance",63);r.ln=63;{r.ln=66;this.setrefSESSION(l.gW("BPFPORTAL").getSESSION());r.ln=67;this.setrefNAVIGATE(l.gW("BPFPORTAL").getNAVIGATE());r.ln=70;if((l.WEB().getURLParameters().get("VALUE")!=null)){r.ln=73;m.CHECKTOKEN.set(l.WEB().getURLParameters().get("VALUE").getValue());}else{r.ln=77;l.WEB().getHistory().mthGOBACK(u);}}r.ln=81;r.e();};function e2(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.Prepare",84);r.ln=84;
{r.ln=87;if(l.s.IsNull(m.CHECKTOKEN.get())){r.e();return;}r.ln=94;this.mthSETWAITINGSTATE("ON");r.ln=96;m.DIALOGTITLE.set(l.gW("BPFPORTAL").getAPPNAME());r.ln=99;l.WEB().getHistory().mthREPLACE(null,false);r.ln=100;l.WEB().getHistory().mthADD("event=resetaccountpassword",false);r.ln=103;this.mthCHANGETOPANEL(m.NAVIGATE.getCURRENTEVENT().getRELATEDVIEW());r.ln=106;this.mthHANDLEDEVICECHANGED();r.ln=108;if(l.tB(l.s.ne(m.CHECKTOKEN.get(),""))){r.ln=110;m.SESSION.mthVALIDATEEVENTTOKEN(m.CHECKTOKEN.get());
}}r.ln=114;r.e();};function e3(sender,Ps){var r=l.eR(this,cO,"#SYS_WEB.DeviceChanged",117);r.ln=117;{r.ln=119;this.mthHANDLEDEVICECHANGED();}r.ln=121;r.e();};function e4(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Navigate.OnNavigationEvent",124);var P0=Ps.r("NAME");r.ln=124;{r.ln=126;if(l.tB(m.COMPLETED.get())){r.ln=128;if(l.tB(l.or(l.or(l.or(l.s.eq(P0.get(),"PASSWORDRESETSECURITYCHECK"),l.s.eq(P0.get(),"PASSWORDRESETNEWPASSWORD")),l.s.eq(P0.get(),"PASSWORDRESETCHECKFAILED")),l.s.eq(P0.get(),"PASSWORDRESETFAILED"))))
{r.ln=130;m.NAVIGATE.mthBACKTOTARGET("INITIAL",u,u);r.e();return;}}r.ln=138;this.mthCHANGETOPANEL(m.NAVIGATE.getCURRENTEVENT().getRELATEDVIEW());}r.ln=140;r.e();};function e5(sender,Ps){var r=l.eR(this,cO,"#Navigate.LoginDialogRequested",142);r.ln=142;{r.ln=145;this.mthHANDLECLOSE();}r.ln=147;r.e();};function e6(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Session.SessionStarted",150);r.ln=150;{r.ln=154;m.SESSION.mthVALIDATEEVENTTOKEN(m.CHECKTOKEN.get());}r.ln=158;r.e();};function e7(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Session.OnValidateTokenCompleted",160);
r.ln=160;{r.ln=162;if(l.tB(l.s.ne(m.CHECKTOKEN.get(),""))){r.ln=164;m.SESSION.mthGETSECURITYCHECKQUESTION();}}r.ln=168;r.e();};function e8(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Session.OnValidateTokenFailed",170);var P0=Ps.r("REASON");r.ln=170;{r.ln=173;if(l.s.eq(l.s.UpperCase(P0.get()),"SESSIONINVALID")){r.ln=175;m.SESSION.mthSTARTSERVERSESSION(u);r.e();return;}r.ln=180;if(l.s.eq(l.s.UpperCase(P0.get()),"ACTIVE")){r.ln=182;m.NAVIGATE.mthTO("PASSWORDRESETACTIVEFAILED","REPLACE",true,u);}else
{r.ln=186;m.NAVIGATE.mthTO("PASSWORDRESETFAILED","REPLACE",true,u);}r.ln=190;this.mthSETWAITINGSTATE("OFF");}r.ln=192;r.e();};function e9(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Session.OnGetSecurityCheckQuestionCompleted",194);var P0=Ps.r("QUESTION");r.ln=194;{r.ln=196;if(l.tB(l.s.ne(m.CHECKTOKEN.get(),""))){r.ln=198;m.USERSECURITYQUESTION.set(P0.get());r.ln=199;m.NAVIGATE.mthTO("PASSWORDRESETSECURITYCHECK","REPLACE",true,u);}}r.ln=203;r.e();};function e10(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Session.OnGetSecurityCheckQuestionFailed",205);
r.ln=205;{r.ln=207;m.NAVIGATE.mthTO("PASSWORDRESETCHECKFAILED","REPLACE",true,u);}r.ln=209;r.e();};cO.mthSHOWDIALOG=function(){var r=l.mR(this,cO,"ShowDialog",214);r.ln=214;{r.ln=217;this.mthSHOW();}r.ln=219;r.e();};cO.mthHANDLECLOSE=function(){var r=l.mR(this,cO,"HandleClose",221);r.ln=221;{r.ln=223;this.mthDESTROYDIALOGOBJECTS();r.ln=224;this.mthCLOSE();}r.ln=226;r.e();};cO.mthSETWAITINGSTATE=function(p0){var m=this.REF,r=l.mR(this,cO,"SetWaitingState",229);var P0=r.cP("TOSTATE","PRIM_ALPH");P0.set(p0);
r.ln=229;{r.ln=232;if(l.tB(l.s.eq(P0.get(),"ON"))){r.ln=234;m.COVERPANEL.setVisible(true);m.PROGRESSBAR.setVisible(true);r.ln=235;m.COVERPANEL.setDisplayPosition(1);}else{r.ln=239;m.COVERPANEL.setVisible(false);m.PROGRESSBAR.setVisible(false);}}r.ln=243;r.e();};cO.mthCHANGETOPANEL=function(p0){var m=this.REF,r=l.mR(this,cO,"ChangetoPanel",246);var P0=r.cPD("TOPANEL");P0=r.sR("TOPANEL",p0);r.ln=246;{r.ln=250;if(l.tB(m.COMPLETED.get())){r.e();return;}r.ln=256;P0.setParent(m.VIEWPANELS);r.ln=259;if((m.CURRENTPANEL!=null))
{r.ln=261;if((m.CURRENTPANEL!==P0)){r.ln=264;if(l.b.IsFalse(m.VIEWPANELS.getIsAnimating())){r.ln=266;if(l.and((m.CURRENTPANEL!=null),(P0!=null))){}r.ln=272;P0.mthSHOW();}}}else{r.ln=280;P0.mthSHOW();}r.ln=285;this.setrefCURRENTPANEL(P0);}r.ln=287;r.e();};cO.mthHANDLEDEVICECHANGED=function(){var m=this.REF,r=l.mR(this,cO,"HandleDeviceChanged",290);r.ln=290;{r.ln=294;{var v1=l.WEB().getDevice();if(r.ln=296,l.s.eq(v1,"MOBILE")){r.ln=298;this.setPlacement("FULLSCREEN");r.ln=299;m.DIALOGLAYOUTROW2.setMinHeight(536);
}else if(r.ln=301,l.s.eq(v1,"TABLET")){r.ln=303;this.setPlacement("CENTER");r.ln=304;m.DIALOGLAYOUTROW2.setMinHeight(426);}else{r.ln=308;this.setPlacement("CENTER");r.ln=309;m.DIALOGLAYOUTROW2.setMinHeight(426);}r.ln=311;}}r.ln=313;r.e();};cO.mthDESTROYDIALOGOBJECTS=function(){var m=this.REF,r=l.mR(this,cO,"DestroyDialogObjects",315);r.ln=315;{r.ln=318;m.NAVIGATE.getCURRENTEVENT().mthCLEANUPRELATEDVIEW();r.ln=321;this.setrefSESSION(null);r.ln=322;this.setrefNAVIGATE(null);}r.ln=324;r.e();};cO.getCOMPLETED=function()
{return this.REF.COMPLETED.get();};cO.setCOMPLETED=function(v){this.REF.COMPLETED.set(v);};cO.getCHECKTOKEN=function(){return this.REF.CHECKTOKEN.get();};cO.getUSERQUESTION=function(){return this.REF.USERSECURITYQUESTION.get();};cO.setrefSESSION=function(rn){if(this.REF.SESSION!=null){this.REF.SESSION.rH("SESSIONSTARTED",this,e6);this.REF.SESSION.rH("ONVALIDATETOKENCOMPLETED",this,e7);this.REF.SESSION.rH("ONVALIDATETOKENFAILED",this,e8);this.REF.SESSION.rH("ONGETSECURITYCHECKQUESTIONCOMPLETED",this,e9);
this.REF.SESSION.rH("ONGETSECURITYCHECKQUESTIONFAILED",this,e10);}this.sR("SESSION",rn);if(this.REF.SESSION!=null){this.REF.SESSION.aH("SESSIONSTARTED",this,e6);this.REF.SESSION.aH("ONVALIDATETOKENCOMPLETED",this,e7);this.REF.SESSION.aH("ONVALIDATETOKENFAILED",this,e8);this.REF.SESSION.aH("ONGETSECURITYCHECKQUESTIONCOMPLETED",this,e9);this.REF.SESSION.aH("ONGETSECURITYCHECKQUESTIONFAILED",this,e10);}};cO.setrefNAVIGATE=function(rn){if(this.REF.NAVIGATE!=null){this.REF.NAVIGATE.rH("ONNAVIGATIONEVENT",this,e4);
this.REF.NAVIGATE.rH("LOGINDIALOGREQUESTED",this,e5);}this.sR("NAVIGATE",rn);if(this.REF.NAVIGATE!=null){this.REF.NAVIGATE.aH("ONNAVIGATIONEVENT",this,e4);this.REF.NAVIGATE.aH("LOGINDIALOGREQUESTED",this,e5);}};cO.setrefCURRENTPANEL=function(rn){this.sR("CURRENTPANEL",rn);};},{rp:["PRIM_DLG","PRIM_VS.Style","PRIM_VS.SolidBrush","PRIM_TBLO","PRIM_TBLO.Column","PRIM_TBLO.Row","PRIM_TBLO.Item","PRIM_MD.ProgressBar","PRIM_PANL","PRIM_MD.Label","PRIM_MD.ViewContainer","PRIM_LCOL","PRIM_ANIM","PRIM_ANIM.Transition","PRIM_BOLN","PRIM_ALPH"],
dc:["BPFAPP002","BPFAPP001"],dp:["PRIM_VIEW"]});
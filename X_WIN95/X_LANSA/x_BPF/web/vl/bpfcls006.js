LANSA.addComponent({id:"BPFCLS006",nm:"BPFFileSystemObjectDataItem",ot:"rp",tp:"Reusable Part",pt:"ap",de:"File System Data Class",tl:15000300},function(l,oI,u){var cL="ENG";var Fd={F1:{nm:"BPFFLD036",an:"BPFFileServiceFullName",ft:"A",ln:255,dc:0,lb:"Full name of fi",h1:"Full",h2:"name",h3:"of",de:"Full name of file",dv:"",ia:["FE","LC"]},F2:{nm:"BPFFLD037",an:"BPFFileServiceFilePrefix",ft:"A",ln:255,dc:0,lb:"Prefix of file",h1:"Prefix",h2:"of",h3:"file",de:"Prefix of file name",dv:"",ia:["FE","LC"]
},F3:{nm:"BPFFLD038",an:"BPFFileServiceFileSuffix",ft:"A",ln:4,dc:0,lb:"Suffix of file",h1:"Suffix",h2:"of",h3:"file",de:"Suffix of file name",dv:"",ia:["FE","LC"]},F4:{nm:"BPFFLD039",an:"BPFFileServiceFileDate",ft:"A",ln:8,dc:0,lb:"Date of file",h1:"Date",h2:"of",h3:"file",de:"Date of file",dv:"",ia:["FE","LC"]},F5:{nm:"BPFFLD040",an:"BPFFileServiceFileTime",ft:"A",ln:6,dc:0,lb:"Time of file",h1:"Time",h2:"of",h3:"file",de:"Time of file",dv:"",ia:["FE","LC"]},F6:{nm:"BPFFLD041",an:"BPFFileServiceFileSize",
ft:"P",ln:9,dc:0,lb:"Size of file",h1:"Size",h2:"of",h3:"file",de:"Size of file",dv:0,ia:["FE","RB"]},F7:{nm:"BPFFLD042",an:"BPFFileServiceFileDirectory",ft:"A",ln:1,dc:0,lb:"Directory Indic",h1:"Directory",h2:"Indicator",h3:"of",de:"Directory Indicator of File",dv:"",ia:["FE","LC"]},F8:{nm:"BPFFLD045",an:"BPFGenericCLOB",ft:"CL",ln:0,dc:0,lb:"Portal Generic",h1:"Portal",h2:"Generic",h3:"CLOB",de:"Portal Generic CLOB",dv:l.SqlNull,ia:["ASQN","LC"]},F9:{nm:"STATUS",an:"Status",ft:"A",ln:256,dc:0,lb:"Generic Status",
h1:"Generic",h2:"Status",h3:"Field",de:"Generic Status Field",dv:"",ia:["FE","LC"]}};var cO=l.rC(oI,{an:"PRIM_OBJT",fd:Fd,pt:{FullName:{da:"na"},Prefix:{da:"na"},Suffix:{da:"r"},DateTime:{da:"na"},SizeKB:{da:"na"},IsFolder:{da:"na"},Contents:{da:"r"}},mt:{LoadContents:{ps:{"RequestPath":{pt:"i"}}},Download:{}},ev:{OnLoadContentsCompleted:{},OnLoadContentsFailed:{}},co:function(){cO.aN.call(this);var f=this.aF("BPFCLS006",Fd);var C0=this.cA("BROWSER","BPFWGT001");var C1=this.cR("READER","PRIM_WEB","ClobReader");
var C2=this.cR("CONTENTS","PRIM_DC","UnicodeString");if((C0!=null)&&(C0.iI()==false)){C0.iC();}C1.iC();C2.iC();C1.aH("COMPLETED",this,e1);this.aLF({"BPFFLD036":f.F1,"BPFFLD037":f.F2,"BPFFLD038":f.F3,"BPFFLD039":f.F4,"BPFFLD040":f.F5,"BPFFLD041":f.F6,"BPFFLD042":f.F7});}});cO.mthGETFILEDATETIME=function(){var f=this.FLD.BPFCLS006,r=l.pR(this,cO,"GetFileDateTime",35);var P0=r.cP("PROPERTY","PRIM_DAT");r.ln=35;{r.ln=38;P0.set(l.s.AsDateTime(l.cat(f.F4.get(),f.F5.get()),"CCYYMMDDHHMMSS"));}r.ln=40;return r.rV(P0.get());
};cO.mthGETFILESIZEINKILOBYTES=function(){var f=this.FLD.BPFCLS006,r=l.pR(this,cO,"GetFileSizeInKiloBytes",42);var P0=r.cP("PROPERTY","PRIM_NMBR");r.ln=42;{r.ln=45;P0.set(l.n.Round(l.div(f.F6.get(),1024),"HALFUP"));}r.ln=47;return r.rV(P0.get());};cO.mthGETISFOLDER=function(){var f=this.FLD.BPFCLS006,r=l.pR(this,cO,"GetIsFolder",49);var P0=r.cP("PROPERTY","PRIM_BOLN");r.ln=49;{r.ln=52;P0.set(l.s.AsBoolean(f.F7.get(),"N","Y"));}r.ln=54;return r.rV(P0.get());};cO.mthGETFILEFULLNAME=function(){var f=this.FLD.BPFCLS006,r=l.pR(this,cO,"GetFileFullname",56);
var P0=r.cP("PROPERTY","PRIM_ALPH");r.ln=56;{r.ln=59;if(l.s.IsNull(f.F1.get())){r.ln=61;f.F1.set("x_err.log");}r.ln=65;P0.set(f.F1.get());}r.ln=67;return r.rV(P0.get());};cO.mthGETFILEPREFIX=function(){var f=this.FLD.BPFCLS006,r=l.pR(this,cO,"GetFilePrefix",69);var P0=r.cP("PROPERTY","PRIM_ALPH");r.ln=69;{r.ln=72;if(l.s.IsNull(f.F2.get())){r.ln=74;f.F2.set("Runtime Log");}r.ln=78;P0.set(f.F2.get());}r.ln=80;return r.rV(P0.get());};function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Reader.Completed",83);
var P0=Ps.r("DATA");r.ln=83;{r.ln=85;m.CONTENTS.set(P0.get());r.ln=88;this.fE("ONLOADCONTENTSCOMPLETED");}r.ln=90;r.e();};cO.mthLOADCONTENTS=function(p0){var f=this.FLD.BPFCLS006,m=this.REF,r=l.mR(this,cO,"LoadContents",93),mth=r;var P0=r.cP("REQUESTPATH","PRIM_ALPH");P0.set((p0===u)?(null):(p0));var C0=r.cDR("REQUEST","BPFSVR003","GETFILECONTENTS");C0.iC();C0.aH("COMPLETED",this,e2);C0.aH("FAILED",this,e3);r.ln=93;{r.ln=100;C0.mthEXECUTEASYNC({FLD:{"BPFFLD036":this.getFULLNAME(),"REQUESTEDPATH":P0.get()}},{FLD:{"BPFFLD045":f.F8,"BPFFLD007":f.F9}});
}r.ln=124;r.e();function e2(sender,Ps){var r=l.eR(this,cO,"#Request.Completed",102,mth);r.ln=102;{r.ln=104;if(l.s.eq(f.F9.get(),"OK")){r.ln=107;m.READER.mthREAD(f.F8.get());}else{r.ln=111;this.fE("ONLOADCONTENTSFAILED");}}r.ln=115;r.e();}function e3(sender,Ps){var r=l.eR(this,cO,"#Request.Failed",117,mth);var P1=Ps.r("HANDLED");var P2=Ps.r("REASON");r.ln=117;{r.ln=119;P1.set(true);r.ln=120;this.fE("ONLOADCONTENTSFAILED");}r.ln=122;r.e();}};cO.mthDOWNLOAD=function(){var f=this.FLD.BPFCLS006,m=this.REF,r=l.mR(this,cO,"Download",126);
r.ln=126;{r.ln=128;m.BROWSER.ref.mthDOWNLOAD(f.F8.get(),f.F1.get());}r.ln=130;r.e();};cO.mthDEFAULTCONSTRUCTOR=function(){var r=l.cR(this,cO,"DefaultConstructor");{}r.ln=133;return r.rN(this);};cO.mthCREATE=function(p0){var f=this.FLD.BPFCLS006,r=l.cR(this,cO,"Create");var P0=r.cPF("NEWFILENAME",Fd.F1.Dc);P0.set(p0);{r.ln=139;f.F6.set(0);r.ln=140;f.F4.set(l.SqlNull);r.ln=141;f.F7.set("N");r.ln=144;if(l.b.IsFalse(l.s.IsNull(P0.get()))){r.ln=146;f.F2.set(l.s.Substring(P0.get(),1,l.sub(l.s.LastPositionOf(P0.get(),"."),1)));
r.ln=147;f.F3.set(l.s.Substring(P0.get(),l.add(l.s.LastPositionOf(P0.get(),"."),1)));}r.ln=152;f.F1.set(P0.get());}r.ln=154;return r.rN(this);};cO.getFULLNAME=function(){return this.mthGETFILEFULLNAME();};cO.getPREFIX=function(){return this.mthGETFILEPREFIX();};cO.getSUFFIX=function(){var f=this.FLD.BPFCLS006;return f.F3.get();};cO.getDATETIME=function(){return this.mthGETFILEDATETIME();};cO.getSIZEKB=function(){return this.mthGETFILESIZEINKILOBYTES();};cO.getISFOLDER=function(){return this.mthGETISFOLDER();
};cO.getCONTENTS=function(){return this.REF.CONTENTS.get();};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"BPFFLD036"});}},{rc:["BPFWGT001"],rp:["PRIM_OBJT","PRIM_WEB.ClobReader","PRIM_DC.UnicodeString","PRIM_WEB.DataRequest","PRIM_FLD"]});
LANSA.addComponent({id:"BPFAVW005",nm:"BPFUserActivityListView",ot:"wv",tp:"View",pt:"ap",de:"Portal User Activity List View",tl:15000300},function(l,oI,u){var cL="ENG";var c1=l.cDT("1900-01-01T00:00:00Z");var Fd={F1:{ic:0,nm:"BPFFLD061",an:"BPFGenericDateTime",ft:"DT",ln:26,dc:0,lb:"Generic Date Ti",h1:"Generic",h2:"Date",h3:"Time",de:"Generic Date Time",dv:l.SqlNull,ia:["ASQN","ISO","SUTC"]},F2:{ic:0,nm:"BPFFLD026",an:"BPFSessionStarted",ft:"DT",ln:26,dc:0,lb:"Session Started",h1:"Session",h2:"Started",
h3:"Date",de:"Session Started Date & Time",dv:l.SqlNull,ia:["ASQN","ISO","SUTC"]},F3:{ic:0,nm:"BPFFLD025",an:"BPFSessionID",ft:"NV",ln:32,dc:0,lb:"Session ID",h1:"Session",h2:"ID",h3:"",de:"Session ID",dv:"",ia:["LC"]}};var cO=l.rC(oI,{an:"PRIM_VIEW",fd:Fd,rm:["dt"],mt:{SetStrings:{},ShowHideFilterControls:{},HandleSessionEventDisplay:{ps:{"SessionData":{pt:"i"}}},AddDayHeader:{ps:{"HeaderText":{pt:"i"}}},AddSessionCard:{ps:{"CardTimes":{pt:"i"},"CardDuration":{pt:"i"},"CardCount":{pt:"i"}}},CreateLayoutItem:
{ps:{"For":{pt:"i"}}},SetListActionDisplay:{ps:{"Visible":{pt:"i"},"Style":{pt:"i"},"DrawStyle":{pt:"i"},"Message":{pt:"i"}}},BuildLabelFilter:{},HandleDeviceChange:{}},co:function(){cO.aN.call(this);this.aF("BPFAVW005",Fd);var C0=this.cA("SESSION","BPFAPP002");var C1=this.cA("NAVIGATE","BPFAPP001");var C2=this.cR("STRINGS","BPFVLR005");var C3=this.cR("ROUNDEDCORNERSTYLE","PRIM_VS","Style");var C4=this.cR("NAVIGATIONLINKSTYLE","PRIM_VS","Style");var C5=this.cR("LOADMOREDISPLAYSTYLE","PRIM_VS","Style");
var C6=this.cR("MAINLAYOUT","PRIM_TBLO");var C7=this.cR("MAINLAYOUTCOLUMN1","PRIM_TBLO","Column");var C8=this.cR("MAINLAYOUTCOLUMN2","PRIM_TBLO","Column");var C9=this.cR("MAINLAYOUTCOLUMN3","PRIM_TBLO","Column");var C10=this.cR("MAINLAYOUTCOLUMN4","PRIM_TBLO","Column");var C11=this.cR("MAINLAYOUTCOLUMN5","PRIM_TBLO","Column");var C12=this.cR("MAINLAYOUTCOLUMN6","PRIM_TBLO","Column");var C13=this.cR("MAINLAYOUTROW1","PRIM_TBLO","Row");var C14=this.cR("MAINLAYOUTROW2","PRIM_TBLO","Row");var C15=this.cR("MAINLAYOUTROW3","PRIM_TBLO","Row");
var C16=this.cR("MAINLAYOUTROW4","PRIM_TBLO","Row");var C17=this.cR("MAINLAYOUTITEM1","PRIM_TBLO","Item");var C18=this.cR("MAINLAYOUTITEM2","PRIM_TBLO","Item");var C19=this.cR("MAINLAYOUTITEM3","PRIM_TBLO","Item");var C20=this.cR("MAINLAYOUTITEM4","PRIM_TBLO","Item");var C21=this.cR("MAINLAYOUTITEM5","PRIM_TBLO","Item");var C22=this.cR("MAINLAYOUTITEM6","PRIM_TBLO","Item");var C23=this.cR("PANELHEADING","PRIM_MD","Label");var C24=this.cR("FILTERSHOWACTION","PRIM_MD","Icon");var C25=this.cR("INSTRUCTIONTEXT","PRIM_MD","Label");
var C26=this.cF("STARTINGDATE",Fd.F1.DATETIMEFIELD);var C27=this.cR("EVENTTYPE","PRIM_MD","Dropdown");var C28=this.cR("LOADMOREACTION","PRIM_MD","Label");this.cD("CURRENTUSER");var C30=this.cF("NEXTLOADDATE",Fd.F1.Dc);var C31=this.cF("LASTADDEDDATE",Fd.F1.Dc);var C32=this.cR("EVENTTYPELOADING","PRIM_BOLN");var C33=this.cR("MAINLAYOUTITEMS","PRIM_LCOL");var C34=this.cR("DAYHEADERS","PRIM_LCOL");var C35=this.cR("SESSIONCARDS","PRIM_LCOL");if((C0!=null)&&(C0.iI()==false)){C0.iC();}if((C1!=null)&&(C1.iI()==false))
{C1.iC();}C2.iC();C3.setCornerBottomLeft(8);C3.setCornerBottomRight(8);C3.setCornerTopLeft(8);C3.setCornerTopRight(8);C3.iC();C4.setCursor("HAND");C4.iC();C5.setFontWeight("WEIGHT500");C5.setCursor("HAND");C5.iC();C6.setMarginTop(24);C6.setMarginBottom(24);C6.iC();C7.setDisplayPosition(1);C7.setParent(C6);C7.setMinWidth(8);C7.iC();C8.setDisplayPosition(2);C8.setParent(C6);C8.setMaxWidth(60);C8.iC();C9.setDisplayPosition(3);C9.setParent(C6);C9.setWidth(43);C9.setMinWidth(140);C9.setMaxWidth(440);C9.iC();
C10.setDisplayPosition(4);C10.setParent(C6);C10.setWidth(43);C10.setMinWidth(140);C10.setMaxWidth(440);C10.iC();C11.setDisplayPosition(5);C11.setParent(C6);C11.setMaxWidth(60);C11.iC();C12.setDisplayPosition(6);C12.setParent(C6);C12.setMinWidth(8);C12.iC();C13.setDisplayPosition(1);C13.setParent(C6);C13.setHeight(93);C13.setUnits("CONTENT");C13.iC();C14.setDisplayPosition(2);C14.setParent(C6);C14.setHeight(100);C14.setUnits("CONTENT");C14.iC();C15.setDisplayPosition(3);C15.setParent(C6);C15.setHeight(10);
C15.setUnits("CONTENT");C15.iC();C16.setDisplayPosition(4);C16.setParent(C6);C16.setHeight(80);C16.setUnits("CONTENT");C16.setMinHeight(24);C16.iC();C17.setAlignment("TOPLEFT");C17.setColumn(C8);C17.setManage(C23);C17.setParent(C6);C17.setRow(C13);C17.setSizing("CONTENTWIDTH");C17.setFlow("DOWN");C17.setColumnSpan(3);C17.iC();C18.setAlignment("TOPLEFT");C18.setColumn(C8);C18.setManage(C25);C18.setParent(C6);C18.setRow(C13);C18.setSizing("CONTENTHEIGHTFITTOWIDTH");C18.setFlow("DOWN");C18.setMarginTop(24);
C18.setColumnSpan(3);C18.iC();C19.setAlignment("TOPLEFT");C19.setColumn(C9);C19.setManage(C26);C19.setParent(C6);C19.setRow(C14);C19.setSizing("FITTOWIDTH");C19.setMarginTop(24);C19.setMarginRight(12);C19.setFlow("DOWN");C19.iC();C20.setAlignment("TOPLEFT");C20.setColumn(C10);C20.setManage(C27);C20.setParent(C6);C20.setRow(C14);C20.setSizing("FITTOWIDTH");C20.setMarginTop(24);C20.setMarginLeft(12);C20.setFlow("DOWN");C20.iC();C21.setManage(C28);C21.setParent(C6);C21.setRow(C16);C21.setSizing("FITTOWIDTH");
C21.setColumn(C9);C21.setAlignment("TOPLEFT");C21.setColumnSpan(2);C21.setFlow("DOWN");C21.setMarginTop(24);C21.iC();C22.setAlignment("TOPRIGHT");C22.setColumn(C10);C22.setManage(C24);C22.setParent(C6);C22.setRow(C13);C22.setSizing("NONE");C22.iC();C23.setDisplayPosition(1);C23.setLeft(350);C23.setParent(this);C23.setTabPosition(1);C23.setThemeDrawStyle("Heading1");C23.setTop(24);C23.setWidth(203);C23.setIcon("arrow_back");C23.setCaptionMarginLeft(24);C23.setHeight(48);C23.setWordWrap(true);C23.setStyle(C4);
C23.setCaption("Session History");C23.iC();C24.setDisplayPosition(2);C24.setIcon("filter_list");C24.setLeft(1242);C24.setParent(this);C24.setTabPosition(2);C24.setTop(24);C24.setThemeDrawStyle("ForegroundMediumPrimary");C24.setStyle(C4);C24.iC();C25.setCaptionAlignment("TOPLEFT");C25.setDisplayPosition(3);C25.setHeight(21);C25.setLeft(350);C25.setParent(this);C25.setTabPosition(3);C25.setTop(96);C25.setWidth(940);C25.setWordWrap(true);C25.setCaption("View your activity history on myPortal. You can filter the history by date and event label.");
C25.iC();C26.setDisplayPosition(4);C26.setLeft(410);C26.setParent(this);C26.setTabPosition(4);C26.setTop(141);C26.setWidth(428);C26.setCaptionType("CAPTION");C26.setCaption("Starting From");C26.setIcon("today");C26.setOpacity(87);C26.setPromptPosition("SCREENCENTER");C26.setCustomDateFormat("DDDD, D MMM YYYY");C26.setVisible(false);C26.aD();C26.iC();C27.setCaption("Event Label");C27.setDisplayPosition(5);C27.setLeft(862);C27.setParent(this);C27.setTabPosition(5);C27.setTop(141);C27.setWidth(428);
C27.setHeight(76);C27.setIcon("label");C27.setOpacity(87);C27.setVisible(false);C27.iC();C28.setCaption("Load More");C28.setDisplayPosition(6);C28.setLeft(410);C28.setParent(this);C28.setTabPosition(6);C28.setThemeDrawStyle("ForegroundMediumPrimary");C28.setTop(251);C28.setHeight(56);C28.setWidth(880);C28.setStyle(C5);C28.setCaptionAlignment("CENTER");C28.iC();C30.aD();C30.iC();C31.aD();C31.iC();C32.iC();C33.setCollects("PRIM_TBLO.Item");C33.iC();C34.setCollects("PRIM_MD.Label");C34.iC();C35.setCollects("BPFUDC005");
C35.iC();l.WEB().aH("DEVICECHANGED",this,e2);C23.aH("CLICK",this,e3);C24.aH("CLICK",this,e7);C26.aH("CHANGED",this,e4);C27.aH("CHANGED",this,e4);C27.aH("PROMPTING",this,e5);C28.aH("CLICK",this,e6);this.setDisplayPosition(1);this.setTabPosition(1);this.setWidth(1700);this.setHeight(800);this.setLayoutManager(C6);this.setVerticalScroll(true);this.aH("INITIALIZE",this,e1);}});function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.Initialize",67);r.ln=67;{r.ln=70;this.setrefCURRENTUSER(m.SESSION.ref.getCURRENTUSER());
r.ln=73;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");r.ln=76;this.mthSETSTRINGS();r.ln=79;this.mthHANDLEDEVICECHANGE();r.ln=82;this.mthSETLISTACTIONDISPLAY(true,null,null,m.STRINGS.getTEXT("LOADMOREACTION.LOAD"));r.ln=84;if((l.WEB().getURLParameters().get("STARTING")!=null)){r.ln=86;if(l.s.IsDate(l.WEB().getURLParameters().get("STARTING").getValue(),"CCYYMMDD")){r.ln=87;m.STARTINGDATE.set(l.s.AsDate(l.WEB().getURLParameters().get("STARTING").getValue(),"CCYYMMDD"));}r.ln=90;this.mthSHOWHIDEFILTERCONTROLS();
}r.ln=94;if((l.WEB().getURLParameters().get("LABEL")!=null)){r.ln=96;m.EVENTTYPE.set(l.WEB().getURLParameters().get("LABEL").getValue());}r.ln=100;m.CURRENTUSER.mthGETSESSIONEVENTS(l.d.Adjust(l.dt.Date(m.STARTINGDATE.get()),1),m.EVENTTYPE.get());}r.ln=102;r.e();};function e2(sender,Ps){var r=l.eR(this,cO,"#SYS_WEB.DeviceChanged",105);r.ln=105;{r.ln=108;this.mthHANDLEDEVICECHANGE();}r.ln=110;r.e();};function e3(sender,Ps){var r=l.eR(this,cO,"#PanelHeading.Click",113);r.ln=113;{r.ln=116;l.WEB().getHistory().mthGOBACK(u);
}r.ln=118;r.e();};function e4(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#StartingDate.Changed #EventType.Changed",121);r.ln=121;{r.ln=123;if(l.tB(l.or(l.b.IsFalse(m.EVENTTYPE.getVisible()),m.EVENTTYPELOADING.get()))){r.e();return;}r.ln=128;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");r.ln=131;if(l.d.IsNotSqlNull(l.dt.Date(m.STARTINGDATE.get()))){r.ln=133;l.WEB().getHistory().mthREPLACE(l.cat(l.cat(l.cat(l.cat(l.cat("event=",l.s.LowerCase(m.NAVIGATE.ref.getCURRENTEVENT().getEVENTNAME())),"&starting="),l.d.AsDisplayString(l.d.Adjust(l.dt.Date(m.STARTINGDATE.get()),1),"CCYYMMDD")),"&label="),m.EVENTTYPE.get()),false);
}else{r.ln=137;l.WEB().getHistory().mthREPLACE(l.cat(l.cat(l.cat("event=",l.s.LowerCase(m.NAVIGATE.ref.getCURRENTEVENT().getEVENTNAME())),"&starting=&label="),m.EVENTTYPE.get()),false);}r.ln=142;m.DAYHEADERS.mthREMOVEALL();r.ln=143;m.SESSIONCARDS.mthREMOVEALL();r.ln=144;m.MAINLAYOUTITEMS.mthREMOVEALL();r.ln=147;m.LASTADDEDDATE.set(l.SqlNull);r.ln=149;this.mthSETLISTACTIONDISPLAY(true,null,null,m.STRINGS.getTEXT("LOADMOREACTION.LOAD"));r.ln=150;m.CURRENTUSER.mthGETSESSIONEVENTS(l.d.Adjust(l.dt.Date(m.STARTINGDATE.get()),1),m.EVENTTYPE.get());
}r.ln=152;r.e();};function e5(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#EventType.Prompting",154);r.ln=154;{r.ln=156;if(l.n.eq(m.EVENTTYPE.getItems().getItemCount(),0)){r.ln=158;this.mthBUILDLABELFILTER();}}r.ln=162;r.e();};function e6(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#LoadMoreAction.Click",165);r.ln=165;{r.ln=167;if(l.s.ne(l.s.UpperCase(m.LOADMOREACTION.getCaption()),l.s.UpperCase(m.STRINGS.getTEXT("LOADMOREACTION.MORE")))){r.e();return;}r.ln=173;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");
r.ln=176;this.mthSETLISTACTIONDISPLAY(true,null,null,m.STRINGS.getTEXT("LOADMOREACTION.LOAD"));r.ln=177;m.CURRENTUSER.mthGETSESSIONEVENTS(m.NEXTLOADDATE.get(),m.EVENTTYPE.get());}r.ln=179;r.e();};function e7(sender,Ps){var r=l.eR(this,cO,"#FilterShowAction.Click",181);r.ln=181;{r.ln=183;this.mthSHOWHIDEFILTERCONTROLS();}r.ln=185;r.e();};function e8(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CurrentUser.OnGetSessionEventsCompleted",188);var P0=Ps.r("SESSIONDATA");var P1=Ps.r("NEXTREADDATE");r.ln=188;
{r.ln=191;m.NEXTLOADDATE.set(P1.get());r.ln=193;this.mthHANDLESESSIONEVENTDISPLAY(P0);r.ln=195;if(l.dt.IsSqlNull(P1.get())){r.ln=197;this.mthSETLISTACTIONDISPLAY(false);}else{r.ln=201;this.mthSETLISTACTIONDISPLAY(true,m.LOADMOREDISPLAYSTYLE,"FOREGROUNDMEDIUMPRIMARY",m.STRINGS.getTEXT("LOADMOREACTION.MORE"));}r.ln=205;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");}r.ln=207;r.e();};function e9(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CurrentUser.OnGetSessionEventsFailed",209);r.ln=209;
{r.ln=211;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");r.ln=212;l.gW("BPFPORTAL").mthSHOWTOASTER(m.STRINGS.getTEXT("CURRENTUSER.ONGETSESSIONEVENTSFAILED"),7500);}r.ln=214;r.e();};cO.mthSETSTRINGS=function(){var m=this.REF,r=l.mR(this,cO,"SetStrings",218);r.ln=218;{r.ln=220;m.PANELHEADING.setCaption(m.STRINGS.getTEXT("PANELHEADING.CAPTION"));r.ln=221;m.INSTRUCTIONTEXT.setCaption(m.STRINGS.getTEXT("INSTRUCTIONTEXT.CAPTION"));r.ln=222;m.STARTINGDATE.setCaption(m.STRINGS.getTEXT("STARTINGDATE.CAPTION"));
r.ln=223;m.EVENTTYPE.setCaption(m.STRINGS.getTEXT("EVENTTYPE.CAPTION"));}r.ln=225;r.e();};cO.mthSHOWHIDEFILTERCONTROLS=function(){var m=this.REF,r=l.mR(this,cO,"ShowHideFilterControls",227);r.ln=227;{r.ln=229;m.STARTINGDATE.setVisible(l.not(m.STARTINGDATE.getVisible()));r.ln=230;m.EVENTTYPE.setVisible(l.not(m.EVENTTYPE.getVisible()));}r.ln=232;r.e();};cO.mthHANDLESESSIONEVENTDISPLAY=function(p0){var m=this.REF,r=l.mR(this,cO,"HandleSessionEventDisplay",234);var P0=r.cPD("SESSIONDATA");P0=r.sR("SESSIONDATA",p0);
var C0=r.cF("PREVIOUSDATETIME",Fd.F2.Dc);var C1=r.cF("PREVIOUSEVENT",Fd.F3.Dc);C0.iC();C1.iC();r.ln=234;{r.ln=242;C0.set(m.LASTADDEDDATE.get());r.ln=245;{var l1=P0.cI();while(l1.step()){var ITEM=r.sR("ITEM",l1.item());r.ln=248;if(l.dt.ne(l.dt.Date(C0.get()),l.dt.Date(ITEM.getSTARTED()))){r.ln=252;this.mthADDDAYHEADER(l.s.Replace(l.s.Replace(l.s.Replace(l.s.Replace(l.gW("BPFPORTAL").getAPPSTRINGS().getTEXT("APP.FORMAT.DAYANDDATE"),"%%DAYLONG%%",l.d.AsDisplayString(l.dt.Date(ITEM.getSTARTED()),"ML_DDDDDDDDD")),"%%DAYSHORT%%",l.n.AsString(l.d.Day(l.dt.Date(ITEM.getSTARTED())))),"%%MONTHLONG%%",l.d.AsDisplayString(l.dt.Date(ITEM.getSTARTED()),"MMMMMMMMMM")),"%%YEAR%%",l.n.AsString(l.d.Year(l.dt.Date(ITEM.getSTARTED())))));
r.ln=255;C0.set(ITEM.getSTARTED());}r.ln=259;if(l.s.ne(C1.get(),ITEM.getIDENTIFIER())){r.ln=262;this.mthADDSESSIONCARD(l.cat(l.cat(l.s.Substring(l.t.AsDisplayString(l.dt.Time(ITEM.getSTARTED()),"HHSMMSSS"),1,5)," -  "),l.s.Substring(l.t.AsDisplayString(l.dt.Time(ITEM.getENDED()),"HHSMMSSS"),1,5)),l.cat(l.n.AsString(ITEM.getDURATION())," mins"),l.cat(l.cat(l.n.AsString(ITEM.getEVENTCOUNT())," "),m.STRINGS.getTEXT("EVENTS.TEXT")));r.ln=265;C1.set(ITEM.getIDENTIFIER());}r.ln=270;m.SESSIONCARDS.getLast().getEVENTTEXT().setCaption(l.cat(m.SESSIONCARDS.getLast().getEVENTTEXT().getCaption(),l.cat(l.cat(l.cat(l.t.AsDisplayString(l.dt.Time(ITEM.getEVENTDATETIME()),"HHSMMSSS"),"  -  "),ITEM.getEVENT()),l.n.AsUnicodeString(10))));
r.ln=272;}l1.end();r.dR("ITEM");}r.ln=275;m.LASTADDEDDATE.set(C0.get());}r.ln=277;r.e();};cO.mthADDDAYHEADER=function(p0){var m=this.REF,r=l.mR(this,cO,"AddDayHeader",279);var P0=r.cP("HEADERTEXT","PRIM_ALPH");P0.set(p0);r.ln=279;{r.ln=286;m.MAINLAYOUTITEMS.mthINSERT(this.mthCREATELAYOUTITEM("DAYHEADER"));r.ln=289;m.DAYHEADERS.mthINSERT(l.cC("PRIM_MD","Label"));r.ln=292;m.DAYHEADERS.getLast().setDisplayPosition(l.zap(l.add(m.MAINLAYOUTITEMS.getItemCount(),6),10,0));r.ln=293;m.DAYHEADERS.getLast().setHeight(60);
r.ln=294;m.DAYHEADERS.getLast().setCaption(P0.get());r.ln=295;m.DAYHEADERS.getLast().setCaptionMarginLeft(16);r.ln=296;m.DAYHEADERS.getLast().setStyle(m.ROUNDEDCORNERSTYLE);r.ln=298;if(l.s.eq(l.WEB().getWebPage().getThemeBackground(),"LIGHT")){r.ln=300;m.DAYHEADERS.getLast().setThemeDrawStyle("Heading3+Back(240,240,240,1)");}else{r.ln=304;m.DAYHEADERS.getLast().setThemeDrawStyle("Heading3+Back(80,80,80,1)");}r.ln=309;m.MAINLAYOUTITEMS.getLast().setManage(m.DAYHEADERS.getLast());r.ln=312;m.MAINLAYOUTITEMS.getLast().setParent(m.MAINLAYOUT);
r.ln=313;m.DAYHEADERS.getLast().setParent(this);}r.ln=315;r.e();};cO.mthADDSESSIONCARD=function(p0,p1,p2){var m=this.REF,r=l.mR(this,cO,"AddSessionCard",317);var P0=r.cP("CARDTIMES","PRIM_ALPH");var P1=r.cP("CARDDURATION","PRIM_ALPH");var P2=r.cP("CARDCOUNT","PRIM_ALPH");P0.set(p0);P1.set(p1);P2.set(p2);r.ln=317;{r.ln=326;m.MAINLAYOUTITEMS.mthINSERT(this.mthCREATELAYOUTITEM("SESSION"));r.ln=329;m.SESSIONCARDS.mthINSERT(l.cC("BPFUDC005"));r.ln=332;m.SESSIONCARDS.getLast().setDisplayPosition(l.zap(l.add(m.MAINLAYOUTITEMS.getItemCount(),6),10,0));
r.ln=333;m.SESSIONCARDS.getLast().getTIMESLABEL().set(P0.get());r.ln=334;m.SESSIONCARDS.getLast().getDURATIONLABEL().set(P1.get());r.ln=335;m.SESSIONCARDS.getLast().getCOUNTLABEL().set(P2.get());r.ln=338;m.MAINLAYOUTITEMS.getLast().setManage(m.SESSIONCARDS.getLast());r.ln=341;m.MAINLAYOUTITEMS.getLast().setParent(m.MAINLAYOUT);r.ln=342;m.SESSIONCARDS.getLast().setParent(this);}r.ln=344;r.e();};cO.mthCREATELAYOUTITEM=function(p0){var m=this.REF,r=l.mR(this,cO,"CreateLayoutItem",346);var P0=r.cP("FOR","PRIM_ALPH");
var P1=r.cPD("RESULT");P0.set(p0);r.ln=346;{r.ln=350;P1=r.sR("P1",l.cC("PRIM_TBLO","Item"));r.ln=358;P1.setAlignment("TOPLEFT");r.ln=359;P1.setColumn(m.MAINLAYOUTCOLUMN3);r.ln=360;P1.setColumnSpan(2);r.ln=361;P1.setRow(m.MAINLAYOUTROW3);r.ln=362;P1.setFlow("DOWN");r.ln=365;if(l.tB(l.s.eq(P0.get(),"DAYHEADER"))){r.ln=367;P1.setSizing("FITTOWIDTH");r.ln=368;P1.setMarginTop(24);}r.ln=372;if(l.tB(l.s.eq(P0.get(),"SESSION"))){r.ln=374;P1.setSizing("CONTENTHEIGHTFITTOWIDTH");r.ln=375;P1.setMarginTop(16);
}}r.ln=379;return r.rR(P1);};cO.mthSETLISTACTIONDISPLAY=function(p0,p1,p2,p3){var m=this.REF,r=l.mR(this,cO,"SetListActionDisplay",381);var P0=r.cP("VISIBLE","PRIM_BOLN");var P1=r.cPD("STYLE");var P2=r.cP("DRAWSTYLE","PRIM_ALPH");var P3=r.cP("MESSAGE","PRIM_ALPH");P0.set(p0);P1=r.sR("STYLE",(p1===u)?(null):(p1));P2.set((p2===u)?(null):(p2));P3.set((p3===u)?(null):(p3));r.ln=381;{r.ln=387;if(l.tB(P0.get())){r.ln=390;m.LOADMOREACTION.setStyle(P1);r.ln=391;m.LOADMOREACTION.setThemeDrawStyle(P2.get());
r.ln=394;m.LOADMOREACTION.set(P3.get());}else{r.ln=402;m.LOADMOREACTION.set("");}}r.ln=406;r.e();};cO.mthBUILDLABELFILTER=function(){var m=this.REF,r=l.mR(this,cO,"BuildLabelFilter",408);r.ln=408;{r.ln=411;m.EVENTTYPELOADING.set(true);r.ln=414;m.EVENTTYPE.getItems().mthREMOVEALL();r.ln=417;m.EVENTTYPE.getItems().mthADD(null,u);r.ln=420;{var l1=m.SESSION.ref.getEVENTLABELS().cI();while(l1.step()){var ITEM=r.sR("ITEM",l1.item());r.ln=422;if(l.tB(l.s.eq(ITEM.getDISPLAYLEVEL(),"2"))){continue;}r.ln=424;
m.EVENTTYPE.getItems().mthADD(ITEM.getCODE(),ITEM.getLABEL());r.ln=426;}l1.end();r.dR("ITEM");}r.ln=429;m.EVENTTYPELOADING.set(false);}r.ln=431;r.e();};cO.mthHANDLEDEVICECHANGE=function(){var m=this.REF,r=l.mR(this,cO,"HandleDeviceChange",433);r.ln=433;{r.ln=435;if(l.s.eq(l.WEB().getDevice(),"MOBILE")){r.ln=438;m.MAINLAYOUTITEM3.setMarginRight(0);m.MAINLAYOUTITEM4.setMarginLeft(0);r.ln=439;m.MAINLAYOUTITEM3.setColumnSpan(2);m.MAINLAYOUTITEM4.setColumnSpan(2);r.ln=440;m.MAINLAYOUTITEM4.setColumn(m.MAINLAYOUTCOLUMN3);
}else{r.ln=445;m.MAINLAYOUTITEM3.setMarginRight(12);m.MAINLAYOUTITEM4.setMarginLeft(12);r.ln=446;m.MAINLAYOUTITEM3.setColumnSpan(1);m.MAINLAYOUTITEM4.setColumnSpan(1);r.ln=447;m.MAINLAYOUTITEM4.setColumn(m.MAINLAYOUTCOLUMN4);}}r.ln=451;r.e();};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"BPFFLD061"});Fd.F1.DATETIMEFIELD=function(){this.aN.call(this,new Fd.F1.Dc());};l.cFC({co:Fd.F1.DATETIMEFIELD,an:"PRIM_MD",at:"DateTimeField",fn:"BPFFLD061",cn:"DateTimeField"});
}{Fd.F2.Dc=function(){this.aN.call(this,Fd.F2);};l.cFC({co:Fd.F2.Dc,an:"PRIM_FLD",fn:"BPFFLD026"});}{Fd.F3.Dc=function(){this.aN.call(this,Fd.F3);};l.cFC({co:Fd.F3.Dc,an:"PRIM_FLD",fn:"BPFFLD025"});}cO.setrefCURRENTUSER=function(rn){if(this.REF.CURRENTUSER!=null){this.REF.CURRENTUSER.rH("ONGETSESSIONEVENTSCOMPLETED",this,e8);this.REF.CURRENTUSER.rH("ONGETSESSIONEVENTSFAILED",this,e9);}this.sR("CURRENTUSER",rn);if(this.REF.CURRENTUSER!=null){this.REF.CURRENTUSER.aH("ONGETSESSIONEVENTSCOMPLETED",this,e8);
this.REF.CURRENTUSER.aH("ONGETSESSIONEVENTSFAILED",this,e9);}};},{rc:["BPFAPP002","BPFAPP001","BPFVLR005"],rp:["PRIM_VIEW","PRIM_VS.Style","PRIM_TBLO","PRIM_TBLO.Column","PRIM_TBLO.Row","PRIM_TBLO.Item","PRIM_MD.Label","PRIM_MD.Icon","PRIM_FLD","PRIM_MD.DateTimeField","PRIM_MD.Dropdown","PRIM_BOLN","PRIM_LCOL","PRIM_DTIM"],dc:["BPFCLS002","BPFUDC005"]});
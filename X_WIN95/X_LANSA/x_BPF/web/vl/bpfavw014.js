LANSA.addComponent({id:"BPFAVW014",nm:"BPFPortalIntegrationFolderListview",ot:"wv",tp:"View",pt:"ap",de:"Portal Log Folder List View",tl:15000300},function(l,oI,u){var cL="ENG";var Fd={F1:{nm:"BPFFLD061",an:"BPFGenericDateTime",ft:"DT",ln:26,dc:0,lb:"Generic Date Ti",h1:"Generic",h2:"Date",h3:"Time",de:"Generic Date Time",dv:l.SqlNull,ia:["ASQN","ISO","SUTC"]},F2:{nm:"STD_NUM",ft:"P",ln:7,dc:0,ec:"A",lb:"Number",h1:"Standard",h2:"Number",h3:" ",de:"Standard Number",dv:0,ia:["FE","RB"]}};var cO=l.rC(oI,
{an:"PRIM_VIEW",fd:Fd,rm:["dt"],mt:{BuildListView:{},ResetListView:{},AddBreakLine:{},AddItemLine:{ps:{"LeftValue":{pt:"i"},"CenterLeftValue":{pt:"i"},"RightValue":{pt:"i"},"Folder":{pt:"i"},"RelatedItem":{pt:"i"}}},AddDivisonLine:{},SetItemValues:{ps:{"LeftValue":{pt:"i"},"CenterLeftValue":{pt:"i"},"RightValue":{pt:"i"},"Folder":{pt:"i"}}},SetRowFormatting:{ps:{"ShowHeader":{pt:"i"},"ShowBreak":{pt:"i"},"ShowBackground":{pt:"i"},"Style":{pt:"i"}}}},co:function(){cO.aN.call(this);this.aF("BPFAVW014",Fd);
var C0=this.cA("NAVIGATE","BPFAPP001");var C1=this.cA("DATA","BPFAPP000");var C2=this.cR("STRINGS","BPFVLR014");this.cD("LOGGINGDATA");var C4=this.cR("FONTWEIGHT500STYLE","PRIM_VS","Style");var C5=this.cR("NAVIGATIONLINKSTYLE","PRIM_VS","Style");var C6=this.cR("NOTACARD","PRIM_VS","Style");var C7=this.cR("MAINLAYOUT","PRIM_TBLO");var C8=this.cR("LAYOUTCOLUMN1","PRIM_TBLO","Column");var C9=this.cR("LAYOUTROW1","PRIM_TBLO","Row");var C10=this.cR("MAINLAYOUTITEM1","PRIM_TBLO","Item");var C11=this.cR("LISTVIEWLAYOUT","PRIM_TBLO");
var C12=this.cR("LAYOUTLISTCOLUMN1","PRIM_TBLO","Column");var C13=this.cR("LISTVIEWLAYOUTCOLUMN1","PRIM_TBLO","Column");var C14=this.cR("LISTVIEWLAYOUTCOLUMN2","PRIM_TBLO","Column");var C15=this.cR("LAYOUTLISTROW1","PRIM_TBLO","Row");var C16=this.cR("LISTVIEWLAYOUTITEM1","PRIM_TBLO","Item");var C17=this.cR("LISTVIEWLAYOUTITEM2","PRIM_TBLO","Item");var C18=this.cR("LISTVIEWLAYOUTITEM3","PRIM_TBLO","Item");var C19=this.cR("LISTVIEWLAYOUTITEM6","PRIM_TBLO","Item");var C20=this.cR("LISTVIEWLAYOUTITEM7","PRIM_TBLO","Item");
var C21=this.cR("LISTVIEWLAYOUTITEM4","PRIM_TBLO","Item");var C22=this.cR("LISTVIEWLAYOUTITEM5","PRIM_TBLO","Item");var C23=this.cR("LISTVIEW","PRIM_MD","List");var C24=this.cR("LEFTLABEL","PRIM_MD","ListLabel");var C25=this.cR("CENTERLEFTLABEL","PRIM_MD","ListLabel");var C26=this.cR("RIGHTLABEL","PRIM_MD","ListLabel");var C27=this.cR("LISTHEADER","PRIM_MD","ListLabel");var C28=this.cR("BREAKLINEHEADER","PRIM_MD","ListLabel");var C29=this.cR("LISTITEMBACKGROUND","PRIM_MD","ListLabel");var C30=this.cR("ROWBACKGROUND","PRIM_MD","ListLabel");
var C31=this.cR("CURRENTPATH","PRIM_ALPH");var C32=this.cR("CURRENTSCROLL","PRIM_NMBR");var C33=this.cR("SCROLLDELAY","PRIM_TIMR");if((C0!=null)&&(C0.iI()==false)){C0.iC();}if((C1!=null)&&(C1.iI()==false)){C1.iC();}C2.iC();C4.setFontWeight("WEIGHT500");C4.iC();C5.setCursor("HAND");C5.iC();C6.setBorderBottom(0);C6.setBorderLeft(0);C6.setBorderRight(0);C6.setBorderTop(0);C6.iC();C7.iC();C8.setDisplayPosition(1);C8.setParent(C7);C8.iC();C9.setDisplayPosition(1);C9.setParent(C7);C9.iC();C10.setAlignment("TOPCENTER");
C10.setColumn(C8);C10.setManage(C23);C10.setParent(C7);C10.setRow(C9);C10.iC();C11.iC();C12.setDisplayPosition(1);C12.setParent(C11);C12.setMinWidth(8);C12.iC();C13.setDisplayPosition(2);C13.setParent(C11);C13.setWidth(98);C13.setMinWidth(280);C13.setMaxWidth(960);C13.iC();C14.setDisplayPosition(3);C14.setParent(C11);C14.setMinWidth(8);C14.iC();C15.setDisplayPosition(1);C15.setParent(C11);C15.iC();C16.setAlignment("TOPCENTER");C16.setColumn(C13);C16.setManage(C28);C16.setParent(C11);C16.setRow(C15);
C16.iC();C17.setAlignment("TOPCENTER");C17.setColumn(C13);C17.setManage(C29);C17.setParent(C11);C17.setRow(C15);C17.iC();C18.setAlignment("CENTERLEFT");C18.setColumn(C13);C18.setManage(C24);C18.setParent(C11);C18.setRow(C15);C18.setMarginLeft(24);C18.setFlow("RIGHT");C18.setSizing("CONTENTWIDTHANDHEIGHT");C18.setMarginRight(16);C18.iC();C19.setAlignment("TOPLEFT");C19.setColumn(C12);C19.setManage(C30);C19.setParent(C11);C19.setRow(C15);C19.setColumnSpan(3);C19.iC();C20.setAlignment("CENTERLEFT");
C20.setColumn(C13);C20.setManage(C27);C20.setParent(C11);C20.setRow(C15);C20.setSizing("CONTENTWIDTHANDHEIGHT");C20.iC();C21.setManage(C25);C21.setParent(C11);C21.setRow(C15);C21.setSizing("CONTENTHEIGHTFITTOWIDTH");C21.setColumn(C13);C21.setAlignment("CENTERLEFT");C21.setFlow("RIGHT");C21.setMarginRight(148);C21.iC();C22.setAlignment("CENTERRIGHT");C22.setColumn(C13);C22.setManage(C26);C22.setParent(C11);C22.setRow(C15);C22.setSizing("CONTENTWIDTHANDHEIGHT");C22.setMarginRight(12);C22.iC();C23.setDisplayPosition(1);
C23.setLayoutManager(C11);C23.setLeft(0);C23.setParent(this);C23.setRowHeight(56);C23.setTabPosition(1);C23.setTop(0);C23.setHeight(800);C23.setWidth(1700);C23.iC();C24.setDisplayPosition(1);C24.setDragStyle("NONE");C24.setLeft(394);C24.setParent(C23);C24.setTabPosition(6);C24.setTop(16);C24.setHeight(24);C24.setWidth(24);C24.setStyle(C5);C24.setThemeDrawStyle("Subheading+ForegroundMediumPrimary");C24.setWordWrap(true);C24.setIcon("folder");C24.setIconMarginBottom(2);C24.iC();C25.setCaption("26 mins");
C25.setDisplayPosition(4);C25.setDragStyle("NONE");C25.setLeft(434);C25.setParent(C23);C25.setTabPosition(4);C25.setTop(18);C25.setHeight(21);C25.setWidth(812);C25.setStyle(C5);C25.setWordWrap(true);C25.iC();C26.setCaption("31 Sept 19");C26.setDisplayPosition(6);C26.setDragStyle("NONE");C26.setLeft(1256);C26.setParent(C23);C26.setTabPosition(5);C26.setTop(19);C26.setHeight(19);C26.setWidth(62);C26.setStyle(C5);C26.setThemeDrawStyle("ForegroundSecondary+Subheading");C26.iC();C27.setDisplayPosition(2);
C27.setDragStyle("NONE");C27.setLeft(370);C27.setParent(C23);C27.setTabPosition(8);C27.setTop(16);C27.setIcon("arrow_back");C27.setCaptionMarginLeft(24);C27.setHeight(24);C27.setWidth(24);C27.setThemeDrawStyle("Heading2");C27.setStyle(C5);C27.setCaptionAlignment("TOPLEFT");C27.iC();C28.setCaption("Monday, 15 July 2019");C28.setDisplayPosition(5);C28.setDragStyle("NONE");C28.setLeft(370);C28.setParent(C23);C28.setTabPosition(1);C28.setTop(0);C28.setWidth(960);C28.setHeight(56);C28.setCaptionMarginLeft(24);
C28.setStyle(C4);C28.setThemeDrawStyle("Heading3+BottomDivider");C28.iC();C29.setDisplayPosition(7);C29.setDragStyle("NONE");C29.setLeft(370);C29.setParent(C23);C29.setTabPosition(2);C29.setTop(0);C29.setWidth(960);C29.setHeight(56);C29.setThemeDrawStyle("card");C29.iC();C30.setDisplayPosition(8);C30.setDragStyle("NONE");C30.setLeft(0);C30.setParent(C23);C30.setTabPosition(7);C30.setTop(0);C30.setHeight(56);C30.setWidth(1700);C30.iC();C31.iC();C32.iC();C33.setStartup("MANUAL");C33.setInterval(1);
C33.iC();C0.aH("ONNAVIGATIONEVENT",this,e3);C23.aH("ITEMCLICK",this,e8);C27.aH("CLICK",this,e4);C33.aH("TICK",this,e6);this.setDisplayPosition(1);this.setTabPosition(1);this.setWidth(1700);this.setHeight(800);this.setLayoutManager(C7);this.setComponentTag("BPFAPP003");this.aH("CREATEINSTANCE",this,e1);this.aH("INITIALIZE",this,e2);}});function e1(sender,Ps){var f=this.FLD.BPFAVW014,m=this.REF,r=l.eR(this,cO,"#COM_OWNER.CreateInstance",71);r.ln=71;{r.ln=81;this.setVisible(false);r.ln=83;f.F2.set(l.dt.AsSeconds(l.dt.Now(f.F1.get())));
r.ln=86;this.setrefLOGGINGDATA(l.cast(m.DATA.ref.mthGETDATACLIENT(this),"BPFAPP003"));}r.ln=88;r.e();};function e2(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.Initialize",91);r.ln=91;{r.ln=94;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");r.ln=97;if((l.WEB().getURLParameters().get("VALUE")!=null)){r.ln=99;m.CURRENTPATH.set(l.WEB().getURLParameters().get("VALUE").getValue());}r.ln=103;if((l.WEB().getURLParameters().get("POS")!=null)){r.ln=105;m.CURRENTSCROLL.set(l.s.AsNumber(l.WEB().getURLParameters().get("POS").getValue()));
}r.ln=110;this.mthRESETLISTVIEW();r.ln=113;m.LOGGINGDATA.mthLOADLIFOLDER(m.CURRENTPATH.get());}r.ln=115;r.e();};function e3(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Navigate.OnNavigationEvent",118);r.ln=118;{r.ln=121;m.NAVIGATE.ref.getCURRENTEVENT().mthCLEANUPRELATEDVIEW();}r.ln=123;r.e();};function e4(sender,Ps){var r=l.eR(this,cO,"#ListHeader.Click",125);r.ln=125;{r.ln=127;l.WEB().getHistory().mthGOBACK(u);}r.ln=129;r.e();};function e5(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#LoggingData.OnLoadFolderCompleted",132);
var P0=Ps.r("DELIMITER");r.ln=132;{r.ln=134;this.mthBUILDLISTVIEW();r.ln=141;if(l.b.IsFalse(this.getVisible())){r.ln=143;this.mthSHOW();r.ln=144;this.setVisible(true);}r.ln=148;if(l.tB(l.n.gt(m.CURRENTSCROLL.get(),0))){r.ln=149;m.SCROLLDELAY.mthSTART();}r.ln=152;m.CURRENTPATH.set(l.cat(m.CURRENTPATH.get(),P0.get()));r.ln=154;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");}r.ln=156;r.e();};function e6(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ScrollDelay.Tick",158);r.ln=158;{r.ln=160;
m.SCROLLDELAY.mthSTOP();r.ln=161;m.LISTVIEW.setVerticalScrollPos(m.CURRENTSCROLL.get());}r.ln=163;r.e();};function e7(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#LoggingData.OnLoadFolderFailed",165);r.ln=165;{r.ln=167;this.mthADDDIVISONLINE();r.ln=168;m.LEFTLABEL.getCurrentItem().setCaption(m.STRINGS.getTEXT("LOGGINGDATA.ONLOADFOLDERFAILED"));r.ln=169;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");}r.ln=171;r.e();};function e8(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ListView.ItemClick",174);
var C0=r.cR("NEWPATH","PRIM_ALPH");var C1=r.cD("C1");C0.iC();r.ln=174;{r.ln=179;C1=r.sR("C1",l.cast(m.LISTVIEW.getCurrentItem().getRelatedReference(),"BPFCLS006"));r.ln=181;if((C1!=null)){r.ln=184;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");r.ln=186;if(C1.getISFOLDER()){r.ln=189;if((l.WEB().getURLParameters().get("POS")!=null)){r.ln=191;C0.set(l.s.Substring(l.WEB().getURL(),l.add(l.s.PositionOf(l.WEB().getURL(),"?"),1)));r.ln=192;C0.set(l.s.Replace(C0.get(),l.cat("&pos=",l.n.AsString(m.CURRENTSCROLL.get())),l.cat("&pos=",l.n.AsString(m.LISTVIEW.getVerticalScrollPos()))));
}else{r.ln=196;C0.set(l.cat(l.cat(l.s.Substring(l.WEB().getURL(),l.add(l.s.PositionOf(l.WEB().getURL(),"?"),1)),"&pos="),l.n.AsString(m.LISTVIEW.getVerticalScrollPos())));}r.ln=200;l.WEB().getHistory().mthREPLACE(C0.get(),false);r.ln=202;C0.set(l.cat(m.CURRENTPATH.get(),C1.getFULLNAME()));r.ln=203;m.NAVIGATE.ref.mthTO(m.NAVIGATE.ref.getCURRENTEVENT().getEVENTNAME(),u,u,C0.get());}else{r.ln=210;C0.set(l.cat(m.CURRENTPATH.get(),C1.getFULLNAME()));r.ln=211;m.NAVIGATE.ref.mthTO("PORTALLOGCONTENTVIEW",u,u,C0.get());
}}}r.ln=217;r.e();};cO.mthBUILDLISTVIEW=function(){var m=this.REF,r=l.mR(this,cO,"BuildListView",220);r.ln=220;{r.ln=222;this.mthADDDIVISONLINE();r.ln=223;this.mthADDBREAKLINE();r.ln=226;{var l1=m.LOGGINGDATA.getFOLDERLISTING().cI();while(l1.step()){var ITEM=r.sR("ITEM",l1.item());r.ln=229;this.mthADDITEMLINE("",ITEM.getFULLNAME(),l.s.InsertString(l.s.InsertString(l.d.AsDisplayString(l.dt.Date(ITEM.getDATETIME()),"DDMMMYY")," ",3)," ",7),ITEM.getISFOLDER(),ITEM);r.ln=231;}l1.end();r.dR("ITEM");}}
r.ln=233;r.e();};cO.mthRESETLISTVIEW=function(){var m=this.REF,r=l.mR(this,cO,"ResetListView",236);r.ln=236;{r.ln=239;m.LISTVIEW.clearList();r.ln=242;m.LISTVIEW.addEntry();r.ln=243;m.LISTHEADER.getCurrentItem().setCaption(m.STRINGS.getTEXT("LISTHEADER.CAPTION"));r.ln=246;this.mthSETROWFORMATTING(true,false,false,null);r.ln=247;this.mthSETITEMVALUES(u,u,u,u);r.ln=248;m.LEFTLABEL.getCurrentItem().setIcon("");}r.ln=250;r.e();};cO.mthADDBREAKLINE=function(){var m=this.REF,r=l.mR(this,cO,"AddBreakLine",252);
r.ln=252;{r.ln=255;m.LISTVIEW.addEntry();r.ln=256;m.LISTVIEW.getCurrentItem().setMouseOverStyle(null);r.ln=259;m.LISTHEADER.getCurrentItem().setVisible(false);r.ln=260;m.BREAKLINEHEADER.getCurrentItem().setVisible(true);r.ln=263;this.mthSETROWFORMATTING(false,true,true,null);r.ln=264;this.mthSETITEMVALUES(u,u,u,u);r.ln=265;m.LEFTLABEL.getCurrentItem().setIcon("");r.ln=268;m.BREAKLINEHEADER.getCurrentItem().setCaption(m.CURRENTPATH.get());}r.ln=270;r.e();};cO.mthADDITEMLINE=function(p0,p1,p2,p3,p4)
{var m=this.REF,r=l.mR(this,cO,"AddItemLine",272);var P0=r.cP("LEFTVALUE","PRIM_ALPH");var P1=r.cP("CENTERLEFTVALUE","PRIM_ALPH");var P2=r.cP("RIGHTVALUE","PRIM_ALPH");var P3=r.cP("FOLDER","PRIM_BOLN");var P4=r.cPD("RELATEDITEM");P0.set((p0===u)?(null):(p0));P1.set((p1===u)?(null):(p1));P2.set((p2===u)?(null):(p2));P3.set((p3===u)?(null):(p3));P4=r.sR("RELATEDITEM",p4);r.ln=272;{r.ln=280;m.LISTVIEW.addEntry();r.ln=283;m.LISTVIEW.getCurrentItem().setRelatedReference(P4);r.ln=286;this.mthSETROWFORMATTING(false,false,true,m.NAVIGATIONLINKSTYLE);
r.ln=289;this.mthSETITEMVALUES(P0.get(),P1.get(),P2.get(),P3.get());}r.ln=291;r.e();};cO.mthADDDIVISONLINE=function(){var m=this.REF,r=l.mR(this,cO,"AddDivisonLine",293);r.ln=293;{r.ln=296;m.LISTVIEW.addEntry();r.ln=299;this.mthSETROWFORMATTING(false,false,false,null);r.ln=302;this.mthSETITEMVALUES(u,u,u,u);r.ln=303;m.LEFTLABEL.getCurrentItem().setIcon("");}r.ln=305;r.e();};cO.mthSETITEMVALUES=function(p0,p1,p2,p3){var m=this.REF,r=l.mR(this,cO,"SetItemValues",307);var P0=r.cP("LEFTVALUE","PRIM_ALPH");
var P1=r.cP("CENTERLEFTVALUE","PRIM_ALPH");var P2=r.cP("RIGHTVALUE","PRIM_ALPH");var P3=r.cP("FOLDER","PRIM_BOLN");P0.set((p0===u)?(null):(p0));P1.set((p1===u)?(null):(p1));P2.set((p2===u)?(null):(p2));P3.set((p3===u)?(null):(p3));r.ln=307;{r.ln=313;m.LEFTLABEL.getCurrentItem().setCaption("");r.ln=315;if(l.tB(P3.get())){r.ln=317;m.LEFTLABEL.getCurrentItem().setIcon("folder");r.ln=318;m.LEFTLABEL.getCurrentItem().setThemeDrawStyle("Subheading+ForegroundMediumPrimary");}else{r.ln=322;m.LEFTLABEL.getCurrentItem().setIcon("insert_drive_file");
r.ln=323;m.LEFTLABEL.getCurrentItem().setThemeDrawStyle("Subheading");}r.ln=327;m.CENTERLEFTLABEL.getCurrentItem().setCaption(P1.get());r.ln=328;m.RIGHTLABEL.getCurrentItem().setCaption(P2.get());}r.ln=330;r.e();};cO.mthSETROWFORMATTING=function(p0,p1,p2,p3){var m=this.REF,r=l.mR(this,cO,"SetRowFormatting",332);var P0=r.cP("SHOWHEADER","PRIM_BOLN");var P1=r.cP("SHOWBREAK","PRIM_BOLN");var P2=r.cP("SHOWBACKGROUND","PRIM_BOLN");var P3=r.cPD("STYLE");P0.set(p0);P1.set(p1);P2.set(p2);P3=r.sR("STYLE",p3);
r.ln=332;{r.ln=338;{var v1=l.WEB().getWebPage().getThemeBackground();if(r.ln=340,l.s.eq(v1,"DARK")){r.ln=342;m.ROWBACKGROUND.getCurrentItem().setThemeDrawStyle("back(48,48,48,1)");}else if(r.ln=344,l.s.eq(v1,"LIGHT")){r.ln=346;m.ROWBACKGROUND.getCurrentItem().setThemeDrawStyle("back(250,250,250,1)");}r.ln=348;}r.ln=350;m.LISTHEADER.getCurrentItem().setVisible(P0.get());r.ln=351;m.BREAKLINEHEADER.getCurrentItem().setVisible(P1.get());r.ln=352;m.LISTITEMBACKGROUND.getCurrentItem().setVisible(P2.get());
r.ln=354;m.LISTITEMBACKGROUND.getCurrentItem().getStyles().mthREMOVEALL();r.ln=355;m.LISTITEMBACKGROUND.getCurrentItem().getStyles().mthADD(P3);r.ln=356;m.LISTITEMBACKGROUND.getCurrentItem().getStyles().mthADD(m.NOTACARD);}r.ln=358;r.e();};cO.setrefLOGGINGDATA=function(rn){if(this.REF.LOGGINGDATA!=null){this.REF.LOGGINGDATA.rH("ONLOADFOLDERCOMPLETED",this,e5);this.REF.LOGGINGDATA.rH("ONLOADFOLDERFAILED",this,e7);}this.sR("LOGGINGDATA",rn);if(this.REF.LOGGINGDATA!=null){this.REF.LOGGINGDATA.aH("ONLOADFOLDERCOMPLETED",this,e5);
this.REF.LOGGINGDATA.aH("ONLOADFOLDERFAILED",this,e7);}};},{rc:["BPFAPP001","BPFAPP000","BPFVLR014"],rp:["PRIM_VIEW","PRIM_VS.Style","PRIM_TBLO","PRIM_TBLO.Column","PRIM_TBLO.Row","PRIM_TBLO.Item","PRIM_MD.List","PRIM_MD.ListLabel","PRIM_ALPH","PRIM_NMBR","PRIM_TIMR","PRIM_DTIM","PRIM_FLD"],dc:["BPFAPP003","BPFCLS006"],dp:["PRIM_ALPH"]});
LANSA.addComponent({id:"BPFAVW047",nm:"BPFSystemSettingsResourcesEditView",ot:"wv",tp:"View",pt:"ap",de:"Portal Resources Edit View",tl:15000300},function(l,oI,u){var cO=l.rC(oI,{an:"PRIM_VIEW",mt:{SetStrings:{},BuildSettingsForPanel:{}},co:function(){cO.aN.call(this);var C0=this.cA("NAVIGATE","BPFAPP001");var C1=this.cA("DATA","BPFAPP000");var C2=this.cR("STRINGS","BPFVLR047");var C3=this.cR("USERLANGSTRINGS","BPFLNG001");this.cD("PORTALSETTINGS");var C5=this.cR("ROUNDEDCORNERSTYLE","PRIM_VS","Style");
var C6=this.cR("NAVIGATIONLINKSTYLE","PRIM_VS","Style");var C7=this.cR("NOTACARD","PRIM_VS","Style");var C8=this.cR("MAINLAYOUT","PRIM_TBLO");var C9=this.cR("LAYOUTCOLUMN1","PRIM_TBLO","Column");var C10=this.cR("LAYOUTCOLUMN2","PRIM_TBLO","Column");var C11=this.cR("LAYOUTCOLUMN3","PRIM_TBLO","Column");var C12=this.cR("LAYOUTCOLUMN4","PRIM_TBLO","Column");var C13=this.cR("LAYOUTCOLUMN5","PRIM_TBLO","Column");var C14=this.cR("LAYOUTROW1","PRIM_TBLO","Row");var C15=this.cR("MAINLAYOUTROW1","PRIM_TBLO","Row");
var C16=this.cR("MAINLAYOUTITEM1","PRIM_TBLO","Item");var C17=this.cR("MAINLAYOUTITEM2","PRIM_TBLO","Item");var C18=this.cR("MAINLAYOUTITEM4","PRIM_TBLO","Item");var C19=this.cR("RESOURCEPANELLAYOUT","PRIM_TBLO");var C20=this.cR("RESOURCEPANELLAYOUTROW1","PRIM_TBLO","Row");var C21=this.cR("RESOURCEPANELLAYOUTROW2","PRIM_TBLO","Row");var C22=this.cR("RESOURCEPANELLAYOUTCOLUMN1","PRIM_TBLO","Column");var C23=this.cR("RESOURCEPANELLAYOUTCOLUMN2","PRIM_TBLO","Column");var C24=this.cR("RESOURCEPANELLAYOUTCOLUMN3","PRIM_TBLO","Column");
var C25=this.cR("RESOURCEPANELLAYOUTITEM1","PRIM_TBLO","Item");var C26=this.cR("RESOURCEPANELLAYOUTITEM2","PRIM_TBLO","Item");var C27=this.cR("RESOURCEPANELLAYOUTITEM3","PRIM_TBLO","Item");var C28=this.cR("RESOURCEPANELLAYOUTITEM4","PRIM_TBLO","Item");var C29=this.cR("PANELHEADING","PRIM_MD","Label");var C30=this.cR("INSTRUCTIONTEXT","PRIM_MD","Label");var C31=this.cR("RESOURCESPANEL","PRIM_PANL");var C32=this.cR("RESOURCESHEADING","PRIM_MD","Label");var C33=this.cR("RESOURCENAMEEDIT","PRIM_MD","Edit");
var C34=this.cR("SAVEACTION","PRIM_MD","FlatButton");var C35=this.cR("UPLOADFILE","PRIM_WEB","FilePicker");this.cD("CURRENTRESOURCE");if((C0!=null)&&(C0.iI()==false)){C0.iC();}if((C1!=null)&&(C1.iI()==false)){C1.iC();}C2.iC();C3.iC();C5.setCornerBottomLeft(8);C5.setCornerBottomRight(8);C5.setCornerTopLeft(8);C5.setCornerTopRight(8);C5.setBorderLeft(1);C5.setBorderTop(1);C5.setBorderRight(1);C5.setBorderBottom(1);C5.iC();C6.setCursor("HAND");C6.iC();C7.setBorderBottom(0);C7.setBorderLeft(0);C7.setBorderRight(0);
C7.setBorderTop(0);C7.iC();C8.setMarginTop(24);C8.setMarginBottom(24);C8.iC();C9.setDisplayPosition(1);C9.setParent(C8);C9.setMinWidth(8);C9.iC();C10.setDisplayPosition(2);C10.setParent(C8);C10.setMaxWidth(60);C10.iC();C11.setDisplayPosition(3);C11.setParent(C8);C11.setWidth(96);C11.setMinWidth(280);C11.setMaxWidth(880);C11.iC();C12.setDisplayPosition(4);C12.setParent(C8);C12.setMaxWidth(60);C12.iC();C13.setDisplayPosition(5);C13.setParent(C8);C13.setMinWidth(8);C13.iC();C14.setDisplayPosition(1);
C14.setParent(C8);C14.setHeight(76);C14.setUnits("CONTENT");C14.iC();C15.setDisplayPosition(2);C15.setParent(C8);C15.setHeight(213);C15.setUnits("CONTENT");C15.iC();C16.setAlignment("TOPLEFT");C16.setColumn(C10);C16.setManage(C29);C16.setParent(C8);C16.setRow(C14);C16.setSizing("CONTENTHEIGHTFITTOWIDTH");C16.setFlow("DOWN");C16.setColumnSpan(3);C16.iC();C17.setAlignment("TOPLEFT");C17.setColumn(C10);C17.setManage(C30);C17.setParent(C8);C17.setRow(C14);C17.setSizing("CONTENTHEIGHTFITTOWIDTH");C17.setFlow("DOWN");
C17.setMarginTop(24);C17.setColumnSpan(3);C17.iC();C18.setAlignment("TOPLEFT");C18.setColumn(C11);C18.setManage(C31);C18.setParent(C8);C18.setRow(C15);C18.setSizing("FITTOWIDTH");C18.setFlow("DOWN");C18.setMarginTop(24);C18.iC();C19.setSizing("CONTENTHEIGHT");C19.iC();C20.setDisplayPosition(1);C20.setParent(C19);C20.setUnits("CONTENT");C20.setHeight(131);C20.iC();C21.setDisplayPosition(2);C21.setParent(C19);C21.setUnits("PIXELS");C21.setHeight(56);C21.iC();C22.setDisplayPosition(1);C22.setParent(C19);
C22.setMinWidth(24);C22.iC();C23.setDisplayPosition(2);C23.setParent(C19);C23.setWidth(98);C23.iC();C24.setDisplayPosition(3);C24.setParent(C19);C24.setMinWidth(24);C24.iC();C25.setManage(C32);C25.setParent(C19);C25.setRow(C20);C25.setSizing("CONTENTHEIGHTFITTOWIDTH");C25.setColumn(C23);C25.setAlignment("TOPLEFT");C25.setFlow("DOWN");C25.setMarginTop(24);C25.iC();C26.setAlignment("TOPLEFT");C26.setColumn(C23);C26.setManage(C33);C26.setParent(C19);C26.setRow(C20);C26.setSizing("FITTOWIDTH");C26.setFlow("DOWN");
C26.setMarginTop(8);C26.iC();C27.setAlignment("CENTERRIGHT");C27.setColumn(C23);C27.setManage(C34);C27.setParent(C19);C27.setRow(C21);C27.setSizing("NONE");C27.iC();C28.setManage(C35);C28.setParent(C19);C28.setRow(C20);C28.setSizing("NONE");C28.setColumn(C23);C28.setAlignment("TOPRIGHT");C28.setMarginTop(12);C28.setMarginLeft(8);C28.iC();C29.setDisplayPosition(1);C29.setLeft(350);C29.setParent(this);C29.setTabPosition(1);C29.setThemeDrawStyle("Heading1");C29.setTop(24);C29.setWidth(1000);C29.setIcon("arrow_back");
C29.setCaptionMarginLeft(24);C29.setHeight(31);C29.setWordWrap(true);C29.setCaption("Edit Resource");C29.setStyle(C6);C29.iC();C30.setCaptionAlignment("TOPLEFT");C30.setDisplayPosition(2);C30.setHeight(21);C30.setLeft(350);C30.setParent(this);C30.setTabPosition(2);C30.setTop(79);C30.setWidth(1000);C30.setWordWrap(true);C30.setCaption("Upload a new resource file or edit the properties of this resource and then save you changes.");C30.iC();C31.setDisplayPosition(3);C31.setHeight(189);C31.setLeft(410);
C31.setParent(this);C31.setTabPosition(3);C31.setTabStop(false);C31.setTop(124);C31.setWidth(880);C31.setThemeDrawStyle("Card");C31.setStyle(C5);C31.setLayoutManager(C19);C31.iC();C32.setCaption("Resource Properties");C32.setDisplayPosition(2);C32.setLeft(24);C32.setParent(C31);C32.setTabPosition(1);C32.setThemeDrawStyle("Heading3");C32.setTop(24);C32.setWidth(830);C32.setWordWrap(true);C32.setHeight(24);C32.setIconAlignment("CENTERRIGHT");C32.setIcon("cloud_upload");C32.setIconColor("THEME500");
C32.iC();C33.setCaption("Resource Field");C33.setDisplayPosition(3);C33.setLeft(24);C33.setParent(C31);C33.setTabPosition(2);C33.setTop(56);C33.setWidth(830);C33.iC();C34.setCaption("SAVE");C34.setDisplayPosition(4);C34.setLeft(754);C34.setParent(C31);C34.setTabPosition(3);C34.setThemeDrawStyle("ForegroundMediumPrimary");C34.setTop(141);C34.setStyle(C6);C34.iC();C35.setDisplayPosition(1);C35.setEllipses("WORD");C35.setHeight(48);C35.setLeft(818);C35.setParent(C31);C35.setTabPosition(4);C35.setTabStop(false);
C35.setTop(12);C35.setVerticalAlignment("CENTER");C35.setWidth(44);C35.setStyle(C6);C35.iC();l.WEB().aH("DEVICECHANGED",this,e3);C29.aH("CLICK",this,e4);C33.aH("CHANGED",this,e5);C34.aH("CLICK",this,e7);C35.aH("FILESELECTED",this,e6);this.setDisplayPosition(1);this.setTabPosition(1);this.setWidth(1700);this.setHeight(800);this.setLayoutManager(C8);this.setVerticalScroll(true);this.setComponentTag("BPFAPP007");this.aH("CREATEINSTANCE",this,e1);this.aH("INITIALIZE",this,e2);}});function e1(sender,Ps)
{var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.CreateInstance",82);r.ln=82;{r.ln=85;this.setrefPORTALSETTINGS(l.cast(m.DATA.ref.mthGETDATACLIENT(this),"BPFAPP007"));}r.ln=87;r.e();};function e2(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.Initialize",89);r.ln=89;{r.ln=92;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");r.ln=93;this.mthSETSTRINGS();r.ln=96;this.setrefCURRENTRESOURCE(m.PORTALSETTINGS.getRESOURCE(l.WEB().getURLParameters().get("VALUE").getValue()));r.ln=98;if((m.CURRENTRESOURCE==null))
{r.ln=100;m.PORTALSETTINGS.mthGETNAMEDRESOURCE(l.WEB().getURLParameters().get("LANG").getValue(),l.WEB().getURLParameters().get("VALUE").getValue());}else{r.ln=104;m.PANELHEADING.set(l.s.Replace(l.s.Replace(m.STRINGS.getTEXT("PANELHEADING.CAPTION.FORMAT"),"%%RESOURCE%%",m.STRINGS.getTEXT(l.cat(m.CURRENTRESOURCE.getTEXT(),"LABEL.CAPTION"))),"%%LANG%%",m.USERLANGSTRINGS.getTEXT(l.WEB().getURLParameters().get("LANG").getValue())));r.ln=107;this.mthBUILDSETTINGSFORPANEL();r.ln=108;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");
}}r.ln=112;r.e();};function e3(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#SYS_WEB.DeviceChanged",115);r.ln=115;{r.ln=118;if((m.CURRENTRESOURCE!=null)){r.ln=120;this.mthBUILDSETTINGSFORPANEL();}}r.ln=124;r.e();};function e4(sender,Ps){var r=l.eR(this,cO,"#PanelHeading.Click",127);r.ln=127;{r.ln=129;l.WEB().getHistory().mthGOBACK(u);}r.ln=131;r.e();};function e5(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ResourceNameEdit.Changed",134);r.ln=134;{r.ln=136;m.RESOURCENAMEEDIT.mthCLEARERROR();r.ln=137;m.CURRENTRESOURCE.setVALUE(m.RESOURCENAMEEDIT.getValue());
}r.ln=139;r.e();};function e6(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#UploadFile.FileSelected",141);var P0=Ps.r("FILE");r.ln=141;{r.ln=143;m.CURRENTRESOURCE.setFILE(P0.getBlob());}r.ln=145;r.e();};function e7(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#SaveAction.Click",148);r.ln=148;{r.ln=150;if(l.b.IsFalse(l.s.IsNull(m.RESOURCENAMEEDIT.getValue()))){r.ln=152;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("ON");r.ln=155;m.CURRENTRESOURCE.mthSAVE(l.WEB().getURLParameters().get("LANG").getValue());
}else{r.ln=159;m.RESOURCENAMEEDIT.mthSHOWERROR(m.STRINGS.getTEXT("RESOURCENAMEEDIT.SHOWERROR"));}}r.ln=163;r.e();};function e8(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#PortalSettings.OnGetResourceCompleted",166);r.ln=166;{r.ln=168;this.setrefCURRENTRESOURCE(m.PORTALSETTINGS.getRESOURCE(l.WEB().getURLParameters().get("VALUE").getValue()));r.ln=170;m.PANELHEADING.set(l.s.Replace(l.s.Replace(m.STRINGS.getTEXT("PANELHEADING.CAPTION.FORMAT"),"%%RESOURCE%%",m.STRINGS.getTEXT(l.cat(m.CURRENTRESOURCE.getTEXT(),"LABEL.CAPTION"))),"%%LANG%%",m.USERLANGSTRINGS.getTEXT(l.WEB().getURLParameters().get("LANG").getValue())));
r.ln=173;this.mthBUILDSETTINGSFORPANEL();r.ln=174;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");}r.ln=176;r.e();};function e9(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#PortalSettings.OnGetResourceFailed",178);r.ln=178;{r.ln=180;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");r.ln=181;l.gW("BPFPORTAL").mthSHOWTOASTER(m.STRINGS.getTEXT("PORTALSETTINGS.ONGETRESOURCESFAILED"),7500);}r.ln=183;r.e();};function e10(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CurrentResource.OnSaveCompleted",185);
r.ln=185;{r.ln=187;l.gW("BPFPORTAL").mthSHOWTOASTER(m.STRINGS.getTEXT("CURRENTRESOURCE.ONSAVECOMPLETED"));r.ln=188;l.WEB().getHistory().mthGOBACK(u);}r.ln=190;r.e();};function e11(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CurrentResource.OnSaveFailed",192);r.ln=192;{r.ln=194;l.gW("BPFPORTAL").getVIEWSPANEL().mthSETWAITINGSTATE("OFF");r.ln=195;l.gW("BPFPORTAL").mthSHOWTOASTER(m.STRINGS.getTEXT("CURRENTRESOURCE.ONSAVEFAILED"),7500);}r.ln=197;r.e();};cO.mthSETSTRINGS=function(){var m=this.REF,r=l.mR(this,cO,"SetStrings",201);
r.ln=201;{r.ln=204;m.INSTRUCTIONTEXT.setCaption(m.STRINGS.getTEXT("INSTRUCTIONTEXT.CAPTION"));r.ln=205;m.RESOURCESHEADING.setCaption(m.STRINGS.getTEXT("RESOURCESHEADING.CAPTION"));r.ln=206;m.SAVEACTION.setCaption(m.STRINGS.getTEXT("SAVEACTION.CAPTION"));}r.ln=208;r.e();};cO.mthBUILDSETTINGSFORPANEL=function(){var m=this.REF,r=l.mR(this,cO,"BuildSettingsForPanel",210);r.ln=210;{r.ln=213;m.RESOURCENAMEEDIT.setCaption(m.STRINGS.getTEXT(l.cat(m.CURRENTRESOURCE.getTEXT(),"LABEL.CAPTION")));r.ln=214;m.RESOURCENAMEEDIT.setValue(m.CURRENTRESOURCE.getVALUE());
}r.ln=216;r.e();};cO.setrefPORTALSETTINGS=function(rn){if(this.REF.PORTALSETTINGS!=null){this.REF.PORTALSETTINGS.rH("ONGETRESOURCECOMPLETED",this,e8);this.REF.PORTALSETTINGS.rH("ONGETRESOURCEFAILED",this,e9);}this.sR("PORTALSETTINGS",rn);if(this.REF.PORTALSETTINGS!=null){this.REF.PORTALSETTINGS.aH("ONGETRESOURCECOMPLETED",this,e8);this.REF.PORTALSETTINGS.aH("ONGETRESOURCEFAILED",this,e9);}};cO.setrefCURRENTRESOURCE=function(rn){if(this.REF.CURRENTRESOURCE!=null){this.REF.CURRENTRESOURCE.rH("ONSAVECOMPLETED",this,e10);
this.REF.CURRENTRESOURCE.rH("ONSAVEFAILED",this,e11);}this.sR("CURRENTRESOURCE",rn);if(this.REF.CURRENTRESOURCE!=null){this.REF.CURRENTRESOURCE.aH("ONSAVECOMPLETED",this,e10);this.REF.CURRENTRESOURCE.aH("ONSAVEFAILED",this,e11);}};},{rc:["BPFAPP001","BPFAPP000","BPFVLR047","BPFLNG001"],rp:["PRIM_VIEW","PRIM_VS.Style","PRIM_TBLO","PRIM_TBLO.Column","PRIM_TBLO.Row","PRIM_TBLO.Item","PRIM_MD.Label","PRIM_PANL","PRIM_MD.Edit","PRIM_MD.FlatButton","PRIM_WEB.FilePicker"],dc:["BPFAPP007","BPFCLS011"]});

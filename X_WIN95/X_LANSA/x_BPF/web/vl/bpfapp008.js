LANSA.addComponent({id:"BPFAPP008",nm:"BPFUserAccountAdminDataClient",ot:"rp",tp:"Reusable Part",pt:"ap",de:"Data Client for Admin of User Accounts",tl:15000300},function(l,oI,u){var cL="ENG";var Fd={F1:{nm:"BPFFLD009",an:"BPFUserAccountInternalKey",ft:"NV",ln:32,dc:0,lb:"Internal Key",h1:"Internal",h2:"User",h3:"Key",de:"Internal User Key",dv:"",ia:["LC"]},F2:{nm:"BPFFLD001",an:"BPFUserEmail",ft:"NV",ln:200,dc:0,lb:"User Email Addr",h1:"User",h2:"Email",h3:"Address",de:"User Email Address",dv:"",
ia:["LC"]},F3:{nm:"BPFFLD003",an:"BPFUserFirstName",ft:"NV",ln:200,dc:0,lb:"User First Name",h1:"User",h2:"First",h3:"Name",de:"User First Name",dv:"",ia:["ASQN","LC"]},F4:{nm:"BPFFLD008",an:"BPFUserLastName",ft:"NV",ln:200,dc:0,lb:"User Last Name",h1:"User",h2:"Last",h3:"Name",de:"User Last Name",dv:"",ia:["ASQN","LC"]},F5:{nm:"BPFFLD004",an:"BPFUserAccountEnabled",ft:"B",ln:1,dc:0,lb:"User Account En",h1:"User",h2:"Account",h3:"Enabled",de:"User Account Enabled",dv:false,ia:["ASQN"]},F6:{nm:"BPFFLD060",
an:"BPFUserAccountStatus",ft:"NV",ln:10,dc:0,lb:"User Account St",h1:"User",h2:"Account",h3:"Status",de:"User Account Status (Derived)",dv:"",ia:["ASQN","LC"]},F7:{nm:"BPFFLD059",an:"BPFUserHasAdminRights",ft:"B",ln:1,dc:0,lb:"User has Admini",h1:"User",h2:"has",h3:"Administration",de:"User has Administration Rights",dv:false,ia:["ASQN"]},F8:{nm:"BPFFLD002",an:"BPFUserPassword",ft:"NV",ln:200,dc:0,lb:"User Password",h1:"User",h2:"Password",h3:"",de:"User Password",dv:"",ia:["ASQN","LC"]},F9:{nm:"BPFFLD007",
an:"BPFStatus",ft:"A",ln:50,dc:0,lb:"Generic Status",h1:"Portal",h2:"Generic",h3:"Status",de:"Portal Generic Status",dv:"",ia:["FE","LC"]},F10:{nm:"STATUS",an:"Status",ft:"A",ln:256,dc:0,lb:"Generic Status",h1:"Generic",h2:"Status",h3:"Field",de:"Generic Status Field",dv:"",ia:["FE","LC"]}};var cO=l.rC(oI,{an:"PRIM_OBJT",fd:Fd,pt:{UserAccounts:{da:"r"},UserAccount:{da:"na"},IsAdministrationVerified:{da:"rw"}},mt:{VerifyAdminAccount:{ps:{"WithPassword":{pt:"i"}}},GetUserAccounts:{ps:{"UserValue":{
pt:"i"},"StatusValue":{pt:"i"}}},GetUserAccountsByName:{ps:{"UserValue":{pt:"i"}}},GetUserAccountsByStatus:{ps:{"StatusValue":{pt:"i"},"UserValue":{pt:"i"}}},GetUserAccountsByID:{ps:{"UserValue":{pt:"i"}}},GetRemovedAccountsByName:{ps:{"UserValue":{pt:"i"}}}},ev:{OnGetUserAccountsCompleted:{ps:{"MoreResult":{pt:"i"}}},OnGetUserAccountsFailed:{},OnGetUserAccountCompleted:{},OnGetUserAccountFailed:{},OnVerifyAdminAccountCompleted:{},OnVerifyAdminAccountFailed:{ps:{"Reason":{pt:"i"}}},OnAccountUpdated:
{ps:{"Account":{pt:"i"}}}},co:function(){cO.aN.call(this);var f=this.aF("BPFAPP008",Fd);var C0=this.cA("BROWSER","BPFWGT001");var C1=this.cR("ISADMINACTIONVERIFIED","PRIM_BOLN");var C2=this.cR("USERACCOUNTS","PRIM_LCOL");if((C0!=null)&&(C0.iI()==false)){C0.iC();}C1.iC();C2.setCollects("BPFCLS013");C2.iC();C2.aH("ONSETADMINROLECOMPLETED",this,e1);C2.aH("ONSETDISABLEDCOMPLETED",this,e1);C2.aLF({"BPFFLD009":f.F1,"BPFFLD001":f.F2,"BPFFLD003":f.F3,"BPFFLD008":f.F4,"BPFFLD004":f.F5,"BPFFLD060":f.F6,"BPFFLD059":f.F7});
}});cO.mthGETUSERACCOUNT=function(p1){var m=this.REF,r=l.pR(this,cO,"GetUserAccount",40);var P0=r.cPD("PROPERTY");var P1=r.cPF("KEY",Fd.F1.Dc);P1.set(p1);r.ln=40;{r.ln=45;{var l1=m.USERACCOUNTS.cI();while(l1.step()){var ITEM=r.sR("ITEM",l1.item());r.ln=47;if(l.s.ne(l.s.UpperCase(P1.get()),ITEM.getIDENTIFIER())){continue;}r.ln=49;P0=r.sR("P0",ITEM);r.ln=51;break;r.ln=53;}l1.end();r.dR("ITEM");}}r.ln=55;return r.rR(P0);};function e1(SENDER,Ps){var r=l.eR(this,cO,"#UserAccounts<>.OnSetAdminRoleCompleted #UserAccounts<>.OnSetDisabledCompleted",58);
r.ln=58;{r.ln=60;{var eP=l.ePs();eP.cD("ACCOUNT");eP.sR("ACCOUNT",SENDER);this.fE("ONACCOUNTUPDATED",eP);eP.e();}}r.ln=62;r.e();};cO.mthVERIFYADMINACCOUNT=function(p0){var f=this.FLD.BPFAPP008,m=this.REF,r=l.mR(this,cO,"VerifyAdminAccount",67),mth=r;var P0=r.cP("WITHPASSWORD","PRIM_ALPH");P0.set(p0);var C0=r.cR("BUFFER","PRIM_ALPH");var C1=r.cDR("REQUEST","BPFSVR009","VERIFYADMINACCOUNT");C0.iC();C1.iC();C1.aH("COMPLETED",this,e2);C1.aH("FAILED",this,e3);r.ln=67;{r.ln=79;m.BROWSER.ref.setUSETRANSACTIONID(true);
r.ln=81;C0.set(l.n.AsString(m.BROWSER.ref.mthGETRANDOMVALUE()));r.ln=82;f.F8.set(l.s.Encrypt(l.cat(l.cat(l.s.Substring(C0.get(),1,5),P0.get()),l.s.Substring(C0.get(),6)),C0.get()));r.ln=85;C1.mthEXECUTEASYNC({FLD:{"BPFFLD002":f.F8.get()}},{FLD:{"BPFFLD007":f.F9}});}r.ln=116;r.e();function e2(sender,Ps){var r=l.eR(this,cO,"#Request.Completed",87,mth);r.ln=87;{r.ln=89;if(l.s.eq(f.F9.get(),"OK")){r.ln=91;this.fE("ONVERIFYADMINACCOUNTCOMPLETED");}else{r.ln=95;if(l.s.eq(f.F9.get(),"IP")){r.ln=97;l.gW("BPFPORTAL").getNAVIGATE().mthTODISABLED();
}else{r.ln=101;{var eP=l.ePs();eP.cR("REASON","PRIM_ALPH");eP.r("REASON").set(f.F9.get());this.fE("ONVERIFYADMINACCOUNTFAILED",eP);eP.e();}}}}r.ln=107;r.e();}function e3(sender,Ps){var r=l.eR(this,cO,"#Request.Failed",109,mth);var P1=Ps.r("HANDLED");r.ln=109;{r.ln=111;P1.set(true);r.ln=112;{var eP=l.ePs();eP.cR("REASON","PRIM_ALPH");eP.r("REASON").set("FAILED");this.fE("ONVERIFYADMINACCOUNTFAILED",eP);eP.e();}}r.ln=114;r.e();}};cO.mthGETUSERACCOUNTS=function(p0,p1){var r=l.mR(this,cO,"GetUserAccounts",120);
var P0=r.cP("USERVALUE","PRIM_ALPH");var P1=r.cP("STATUSVALUE","PRIM_ALPH");P0.set((p0===u)?(null):(p0));P1.set((p1===u)?(null):(p1));r.ln=120;{r.ln=125;if(l.s.IsNull(P1.get())){r.ln=127;this.mthGETUSERACCOUNTSBYNAME(P0.get());r.e();return;}r.ln=133;if((l.b.IsFalse(l.s.IsNull(P1.get()))&&l.s.ne(l.s.UpperCase(P1.get()),"REMOVED"))){r.ln=135;this.mthGETUSERACCOUNTSBYSTATUS(P1.get(),P0.get());r.e();return;}r.ln=141;if((l.b.IsFalse(l.s.IsNull(P1.get()))&&l.s.eq(l.s.UpperCase(P1.get()),"REMOVED"))){r.ln=143;
this.mthGETREMOVEDACCOUNTSBYNAME(P0.get());r.e();return;}}r.ln=148;r.e();};cO.mthGETUSERACCOUNTSBYNAME=function(p0){var f=this.FLD.BPFAPP008,m=this.REF,r=l.mR(this,cO,"GetUserAccountsByName",151),mth=r;var P0=r.cP("USERVALUE","PRIM_ALPH");P0.set(p0);var C0=r.cR("MORE","PRIM_BOLN");var C1=r.cDR("REQUEST","BPFSVR009","GETACCOUNTSBYNAME");C0.iC();C1.iC();C1.aH("COMPLETED",this,e4);C1.aH("FAILED",this,e5);r.ln=151;{r.ln=161;C1.mthEXECUTEASYNC({FLD:{"USERSEARCHVALUE":P0.get()}},{FLD:{"MORERESULTS":C0,"BPFFLD007":f.F10},LIST:{"USERDATA":m.USERACCOUNTS}});
}r.ln=184;r.e();function e4(sender,Ps){var r=l.eR(this,cO,"#Request.Completed",163,mth);r.ln=163;{r.ln=165;if(l.s.eq(f.F10.get(),"OK")){r.ln=167;{var eP=l.ePs();eP.cR("MORERESULT","PRIM_BOLN");eP.r("MORERESULT").set(C0.get());this.fE("ONGETUSERACCOUNTSCOMPLETED",eP);eP.e();}}else{r.ln=171;this.fE("ONGETUSERACCOUNTSFAILED");}}r.ln=175;r.e();}function e5(sender,Ps){var r=l.eR(this,cO,"#Request.Failed",177,mth);var P1=Ps.r("HANDLED");var P2=Ps.r("REASON");r.ln=177;{r.ln=179;P1.set(true);r.ln=180;this.fE("ONGETUSERACCOUNTSFAILED");
}r.ln=182;r.e();}};cO.mthGETUSERACCOUNTSBYSTATUS=function(p0,p1){var f=this.FLD.BPFAPP008,m=this.REF,r=l.mR(this,cO,"GetUserAccountsByStatus",187),mth=r;var P0=r.cP("STATUSVALUE","PRIM_ALPH");var P1=r.cP("USERVALUE","PRIM_ALPH");P0.set(p0);P1.set(p1);var C0=r.cR("MORE","PRIM_BOLN");var C1=r.cDR("REQUEST","BPFSVR009","GETACCOUNTSBYSTATUS");C0.iC();C1.iC();C1.aH("COMPLETED",this,e6);C1.aH("FAILED",this,e7);r.ln=187;{r.ln=198;C1.mthEXECUTEASYNC({FLD:{"STATUSSEARCHVALUE":P0.get(),"USERSEARCHVALUE":P1.get()}},{FLD:{"MORERESULTS":C0,"BPFFLD007":f.F10},LIST:{"USERDATA":m.USERACCOUNTS}});
}r.ln=221;r.e();function e6(sender,Ps){var r=l.eR(this,cO,"#Request.Completed",200,mth);r.ln=200;{r.ln=202;if(l.s.eq(f.F10.get(),"OK")){r.ln=204;{var eP=l.ePs();eP.cR("MORERESULT","PRIM_BOLN");eP.r("MORERESULT").set(C0.get());this.fE("ONGETUSERACCOUNTSCOMPLETED",eP);eP.e();}}else{r.ln=208;this.fE("ONGETUSERACCOUNTSFAILED");}}r.ln=212;r.e();}function e7(sender,Ps){var r=l.eR(this,cO,"#Request.Failed",214,mth);var P2=Ps.r("HANDLED");var P3=Ps.r("REASON");r.ln=214;{r.ln=216;P2.set(true);r.ln=217;this.fE("ONGETUSERACCOUNTSFAILED");
}r.ln=219;r.e();}};cO.mthGETUSERACCOUNTSBYID=function(p0){var f=this.FLD.BPFAPP008,m=this.REF,r=l.mR(this,cO,"GetUserAccountsByID",224),mth=r;var P0=r.cP("USERVALUE","PRIM_ALPH");P0.set(p0);var C0=r.cR("MORE","PRIM_BOLN");var C1=r.cDR("REQUEST","BPFSVR009","GETACCOUNTBYID");C0.iC();C1.iC();C1.aH("COMPLETED",this,e8);C1.aH("FAILED",this,e9);r.ln=224;{r.ln=234;C1.mthEXECUTEASYNC({FLD:{"USERIDVALUE":P0.get()}},{FLD:{"BPFFLD007":f.F10},LIST:{"USERDATA":m.USERACCOUNTS}});}r.ln=257;r.e();function e8(sender,Ps)
{var r=l.eR(this,cO,"#Request.Completed",236,mth);r.ln=236;{r.ln=238;if(l.s.eq(f.F10.get(),"OK")){r.ln=240;this.fE("ONGETUSERACCOUNTCOMPLETED");}else{r.ln=244;this.fE("ONGETUSERACCOUNTFAILED");}}r.ln=248;r.e();}function e9(sender,Ps){var r=l.eR(this,cO,"#Request.Failed",250,mth);var P1=Ps.r("HANDLED");var P2=Ps.r("REASON");r.ln=250;{r.ln=252;P1.set(true);r.ln=253;this.fE("ONGETUSERACCOUNTFAILED");}r.ln=255;r.e();}};cO.mthGETREMOVEDACCOUNTSBYNAME=function(p0){var f=this.FLD.BPFAPP008,m=this.REF,r=l.mR(this,cO,"GetRemovedAccountsByName",260),mth=r;
var P0=r.cP("USERVALUE","PRIM_ALPH");P0.set(p0);var C0=r.cR("MORE","PRIM_BOLN");var C1=r.cDR("REQUEST","BPFSVR009","GETREMOVEDACCOUNTS");C0.iC();C1.iC();C1.aH("COMPLETED",this,e10);C1.aH("FAILED",this,e11);r.ln=260;{r.ln=270;C1.mthEXECUTEASYNC({FLD:{"USERSEARCHVALUE":P0.get()}},{FLD:{"MORERESULTS":C0,"BPFFLD007":f.F10},LIST:{"USERDATA":m.USERACCOUNTS}});}r.ln=293;r.e();function e10(sender,Ps){var r=l.eR(this,cO,"#Request.Completed",272,mth);r.ln=272;{r.ln=274;if(l.s.eq(f.F10.get(),"OK")){r.ln=276;
{var eP=l.ePs();eP.cR("MORERESULT","PRIM_BOLN");eP.r("MORERESULT").set(C0.get());this.fE("ONGETUSERACCOUNTSCOMPLETED",eP);eP.e();}}else{r.ln=280;this.fE("ONGETUSERACCOUNTSFAILED");}}r.ln=284;r.e();}function e11(sender,Ps){var r=l.eR(this,cO,"#Request.Failed",286,mth);var P1=Ps.r("HANDLED");var P2=Ps.r("REASON");r.ln=286;{r.ln=288;P1.set(true);r.ln=289;this.fE("ONGETUSERACCOUNTSFAILED");}r.ln=291;r.e();}};cO.getUSERACCOUNTS=function(){return this.REF.USERACCOUNTS;};cO.getUSERACCOUNT=function(KEY_1)
{return this.mthGETUSERACCOUNT(KEY_1);};cO.getISADMINISTRATIONVERIFIED=function(){return this.REF.ISADMINACTIONVERIFIED.get();};cO.setISADMINISTRATIONVERIFIED=function(v){this.REF.ISADMINACTIONVERIFIED.set(v);};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"BPFFLD009"});}{Fd.F5.Dc=function(){this.aN.call(this,Fd.F5);};l.cFC({co:Fd.F5.Dc,an:"PRIM_FLD",fn:"BPFFLD004"});Fd.F5.pl=function(){this.aN.call(this);var C0=this.cR("FALSE","PRIM_PKIT");var C1=this.cR("TRUE","PRIM_PKIT");
C0.setCaption("False");C0.setDefault(true);C0.setParent(this);C0.setValue("False");C0.iC();C1.setCaption("True");C1.setParent(this);C1.setValue("True");C1.iC();};l.cFC({co:Fd.F5.pl,an:"PRIM_PKLT",fn:"BPFFLD004",cn:"Picklist"});}{Fd.F7.Dc=function(){this.aN.call(this,Fd.F7);};l.cFC({co:Fd.F7.Dc,an:"PRIM_FLD",fn:"BPFFLD059"});Fd.F7.pl=function(){this.aN.call(this);var C0=this.cR("FALSE","PRIM_PKIT");var C1=this.cR("TRUE","PRIM_PKIT");C0.setCaption("False");C0.setDefault(true);C0.setParent(this);C0.setValue("False");
C0.iC();C1.setCaption("True");C1.setParent(this);C1.setValue("True");C1.iC();};l.cFC({co:Fd.F7.pl,an:"PRIM_PKLT",fn:"BPFFLD059",cn:"Picklist"});}},{rc:["BPFWGT001"],rp:["PRIM_OBJT","PRIM_BOLN","PRIM_LCOL","PRIM_FLD","PRIM_WEB.DataRequest","PRIM_PKLT"],dc:["BPFCLS013"],dp:["PRIM_ALPH","PRIM_BOLN"]});